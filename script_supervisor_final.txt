USE [master]
GO
/****** Object:  Database [Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
CREATE DATABASE [Supervisor]
 CONTAINMENT = NONE
 ON  PRIMARY 
( NAME = N'Martiva', FILENAME = N'C:\Program Files\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\DATA\Martiva.mdf' , SIZE = 7168KB , MAXSIZE = UNLIMITED, FILEGROWTH = 1024KB )
 LOG ON 
( NAME = N'Martiva_log', FILENAME = N'C:\Program Files\Microsoft SQL Server\MSSQL12.MSSQLSERVER\MSSQL\DATA\Martiva_log.ldf' , SIZE = 22144KB , MAXSIZE = 2048GB , FILEGROWTH = 10%)
GO
ALTER DATABASE [Supervisor] SET COMPATIBILITY_LEVEL = 120
GO
IF (1 = FULLTEXTSERVICEPROPERTY('IsFullTextInstalled'))
begin
EXEC [Supervisor].[dbo].[sp_fulltext_database] @action = 'enable'
end
GO
ALTER DATABASE [Supervisor] SET ANSI_NULL_DEFAULT OFF 
GO
ALTER DATABASE [Supervisor] SET ANSI_NULLS OFF 
GO
ALTER DATABASE [Supervisor] SET ANSI_PADDING OFF 
GO
ALTER DATABASE [Supervisor] SET ANSI_WARNINGS OFF 
GO
ALTER DATABASE [Supervisor] SET ARITHABORT OFF 
GO
ALTER DATABASE [Supervisor] SET AUTO_CLOSE OFF 
GO
ALTER DATABASE [Supervisor] SET AUTO_SHRINK OFF 
GO
ALTER DATABASE [Supervisor] SET AUTO_UPDATE_STATISTICS ON 
GO
ALTER DATABASE [Supervisor] SET CURSOR_CLOSE_ON_COMMIT OFF 
GO
ALTER DATABASE [Supervisor] SET CURSOR_DEFAULT  GLOBAL 
GO
ALTER DATABASE [Supervisor] SET CONCAT_NULL_YIELDS_NULL OFF 
GO
ALTER DATABASE [Supervisor] SET NUMERIC_ROUNDABORT OFF 
GO
ALTER DATABASE [Supervisor] SET QUOTED_IDENTIFIER OFF 
GO
ALTER DATABASE [Supervisor] SET RECURSIVE_TRIGGERS OFF 
GO
ALTER DATABASE [Supervisor] SET  DISABLE_BROKER 
GO
ALTER DATABASE [Supervisor] SET AUTO_UPDATE_STATISTICS_ASYNC OFF 
GO
ALTER DATABASE [Supervisor] SET DATE_CORRELATION_OPTIMIZATION OFF 
GO
ALTER DATABASE [Supervisor] SET TRUSTWORTHY OFF 
GO
ALTER DATABASE [Supervisor] SET ALLOW_SNAPSHOT_ISOLATION OFF 
GO
ALTER DATABASE [Supervisor] SET PARAMETERIZATION SIMPLE 
GO
ALTER DATABASE [Supervisor] SET READ_COMMITTED_SNAPSHOT OFF 
GO
ALTER DATABASE [Supervisor] SET HONOR_BROKER_PRIORITY OFF 
GO
ALTER DATABASE [Supervisor] SET RECOVERY FULL 
GO
ALTER DATABASE [Supervisor] SET  MULTI_USER 
GO
ALTER DATABASE [Supervisor] SET PAGE_VERIFY CHECKSUM  
GO
ALTER DATABASE [Supervisor] SET DB_CHAINING OFF 
GO
ALTER DATABASE [Supervisor] SET FILESTREAM( NON_TRANSACTED_ACCESS = OFF ) 
GO
ALTER DATABASE [Supervisor] SET TARGET_RECOVERY_TIME = 0 SECONDS 
GO
ALTER DATABASE [Supervisor] SET DELAYED_DURABILITY = DISABLED 
GO
USE [Supervisor]
GO
/****** Object:  FullTextCatalog [Catalogo]    Script Date: 08/07/2015 20:12:12 ******/
CREATE FULLTEXT CATALOG [Catalogo]WITH ACCENT_SENSITIVITY = ON

GO
/****** Object:  Table [dbo].[Tabla_Busqueda_De_Ejercicios_Por_Etiquetas]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_Busqueda_De_Ejercicios_Por_Etiquetas](
	[ID_Ejercicio] [int] NOT NULL,
	[Etiqueta_Busqueda_Profesor] [nvarchar](60) NULL,
	[Etiqueta_Busqueda_Ano] [nvarchar](60) NULL,
	[Etiqueta_Busqueda_Colegio] [nvarchar](60) NULL,
	[Etiqueta_Busqueda_Materia] [nvarchar](60) NULL,
	[Etiqueta_Busqueda_Tema] [nvarchar](60) NULL
) ON [PRIMARY]

GO
/****** Object:  Index [UCL_ID_Ejercicio]    Script Date: 08/07/2015 20:12:12 ******/
CREATE UNIQUE CLUSTERED INDEX [UCL_ID_Ejercicio] ON [dbo].[Tabla_Busqueda_De_Ejercicios_Por_Etiquetas]
(
	[ID_Ejercicio] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Tabla_Cantidad_De_Consultas_Para_Empresas]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_Cantidad_De_Consultas_Para_Empresas](
	[ID_Empresa] [int] NOT NULL,
	[Consultas_Permitidas_Ejercicios] [int] NULL,
	[Consultas_Permitidas_Videos] [int] NULL
) ON [PRIMARY]

GO
/****** Object:  Index [UNCL_Cantidad_De_Consultas_Para_Empresas]    Script Date: 08/07/2015 20:12:12 ******/
CREATE UNIQUE CLUSTERED INDEX [UNCL_Cantidad_De_Consultas_Para_Empresas] ON [dbo].[Tabla_Cantidad_De_Consultas_Para_Empresas]
(
	[ID_Empresa] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Tabla_Consultas_Supervisores]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_Consultas_Supervisores](
	[ID_Consulta] [int] IDENTITY(1,1) NOT NULL,
	[Administrador] [nvarchar](10) NOT NULL,
	[Fecha_De_Consulta] [datetime] NOT NULL,
	[ID_Empresa] [int] NOT NULL,
	[Tipo_De_Consulta] [nvarchar](10) NOT NULL,
 CONSTRAINT [PK_Tabla_Consultas_Supervisores] PRIMARY KEY CLUSTERED 
(
	[ID_Consulta] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_Datos_De_Usuarios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_Datos_De_Usuarios](
	[ID_Usuario] [int] NOT NULL,
	[Usuario_De_Skype] [nvarchar](30) NULL,
	[Numero_De_Celular] [nvarchar](20) NULL,
	[Modelo_De_Celular] [nvarchar](50) NULL
) ON [PRIMARY]

GO
/****** Object:  Index [UCL_ID_Usuario]    Script Date: 08/07/2015 20:12:12 ******/
CREATE UNIQUE CLUSTERED INDEX [UCL_ID_Usuario] ON [dbo].[Tabla_Datos_De_Usuarios]
(
	[ID_Usuario] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Tabla_Datos_Extra_De_Usuarios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_Datos_Extra_De_Usuarios](
	[ID_Usuario] [int] NOT NULL,
	[IP_Address] [nvarchar](20) NOT NULL,
	[Fecha_De_Alta] [date] NOT NULL
) ON [PRIMARY]

GO
/****** Object:  Index [UCL_ID_Usuario]    Script Date: 08/07/2015 20:12:12 ******/
CREATE UNIQUE CLUSTERED INDEX [UCL_ID_Usuario] ON [dbo].[Tabla_Datos_Extra_De_Usuarios]
(
	[ID_Usuario] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Tabla_De_Activacion_De_Ofertas]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Activacion_De_Ofertas](
	[ID_Empresa] [int] NOT NULL,
	[Oferta_1] [bit] NOT NULL,
	[Oferta_2] [bit] NOT NULL,
	[Oferta_3] [bit] NOT NULL,
	[Oferta_4] [bit] NOT NULL,
	[Oferta_5] [bit] NOT NULL,
	[Oferta_6] [bit] NOT NULL,
	[Oferta_7] [bit] NOT NULL,
	[Oferta_8] [bit] NOT NULL,
	[Oferta_9] [bit] NOT NULL,
	[Oferta_10] [bit] NOT NULL,
	[Oferta_11] [bit] NOT NULL,
	[Oferta_12] [bit] NOT NULL,
	[Oferta_13] [bit] NOT NULL,
	[Oferta_14] [bit] NOT NULL,
	[Oferta_15] [bit] NOT NULL
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_De_Administradores]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Administradores](
	[ID_Administrador] [int] IDENTITY(1,1) NOT NULL,
	[Administrador] [nvarchar](10) NULL,
	[Password] [nvarchar](10) NOT NULL,
	[ID_Empresa] [int] NOT NULL,
	[Administrador_Bloqueado] [bit] NOT NULL,
	[IP_Address] [nvarchar](20) NULL,
 CONSTRAINT [PK_Tabla_De_Administradores] PRIMARY KEY CLUSTERED 
(
	[ID_Administrador] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_De_Anos]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Anos](
	[ID_Ano] [int] IDENTITY(1,1) NOT NULL,
	[Ano] [nvarchar](20) NOT NULL,
	[Etiqueta_Ano] [int] NOT NULL,
 CONSTRAINT [PK_Tabla_De_Anos] PRIMARY KEY CLUSTERED 
(
	[ID_Ano] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_De_Categorias]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Categorias](
	[ID_Administrador] [int] NOT NULL,
	[Categoria_A1] [int] NOT NULL,
	[Categoria_A2] [int] NOT NULL,
	[Categoria_A3] [int] NOT NULL,
	[Categoria_B1] [int] NOT NULL,
	[Categoria_B2] [int] NOT NULL,
	[Categoria_B3] [int] NOT NULL,
	[Categoria_C1] [int] NOT NULL,
	[Categoria_D1] [int] NOT NULL,
	[Categoria_D2] [int] NOT NULL,
	[Categoria_E1] [int] NOT NULL,
	[Categoria_E2] [int] NOT NULL,
	[Categoria_E3] [int] NOT NULL,
	[Categoria_F1] [int] NOT NULL,
	[Categoria_F2] [int] NOT NULL,
	[Categoria_F3] [int] NOT NULL,
	[Categoria_G1] [int] NOT NULL,
	[Categoria_G2] [int] NOT NULL,
	[Categoria_G3] [int] NOT NULL,
 CONSTRAINT [PK_Tabla_De_Categorias] PRIMARY KEY CLUSTERED 
(
	[ID_Administrador] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_De_Colegios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Colegios](
	[ID_Colegio] [int] IDENTITY(1,1) NOT NULL,
	[Colegio] [nvarchar](20) NOT NULL,
	[Etiqueta_Colegio] [int] NOT NULL,
 CONSTRAINT [PK_Tabla_De_Colegios] PRIMARY KEY CLUSTERED 
(
	[ID_Colegio] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_De_Comentario_De_Administradores]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Comentario_De_Administradores](
	[ID_Comentario] [int] IDENTITY(1,1) NOT NULL,
	[ID_Administrador] [int] NOT NULL,
	[Comentario] [nvarchar](max) NOT NULL,
	[Fecha_Comentario_Realizado] [datetime] NOT NULL,
 CONSTRAINT [PK_Tabla_De_Comentario_De_Administrador] PRIMARY KEY CLUSTERED 
(
	[ID_Comentario] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_De_Comentario_De_Usuarios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Comentario_De_Usuarios](
	[ID_Comentario] [int] IDENTITY(1,1) NOT NULL,
	[Nombre] [nvarchar](30) NOT NULL,
	[Correo] [nvarchar](30) NOT NULL,
	[Comentario] [nvarchar](max) NOT NULL,
	[ID_Empresa] [int] NOT NULL,
 CONSTRAINT [PK_Tabla_De_Comentario_De_Usuarios] PRIMARY KEY CLUSTERED 
(
	[ID_Comentario] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_De_Control_De_Administradores]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Control_De_Administradores](
	[ID_Ingreso_Egreso] [int] IDENTITY(1,1) NOT NULL,
	[ID_Administrador] [int] NOT NULL,
	[Fecha_De_Ingreso] [datetime] NULL,
	[Fecha_De_Egreso] [datetime] NULL,
	[IP_Address] [nvarchar](20) NOT NULL,
 CONSTRAINT [PK_Tabla_De_Control_De_Administradores] PRIMARY KEY CLUSTERED 
(
	[ID_Ingreso_Egreso] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_De_Credito_De_Los_Usuarios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Credito_De_Los_Usuarios](
	[ID_Usuario] [int] NOT NULL,
	[Credito_De_Usuario] [money] NOT NULL,
	[Prestamo_Real_Al_Usuario] [money] NOT NULL,
	[Pedido_De_Prestamo] [bit] NOT NULL,
	[Bonificacion_Por_Recarga] [int] NOT NULL
) ON [PRIMARY]

GO
/****** Object:  Index [UCL_ID_Usuario]    Script Date: 08/07/2015 20:12:12 ******/
CREATE UNIQUE CLUSTERED INDEX [UCL_ID_Usuario] ON [dbo].[Tabla_De_Credito_De_Los_Usuarios]
(
	[ID_Usuario] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Tabla_De_Descripcion_De_Movimientos]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Descripcion_De_Movimientos](
	[ID_Descripcion] [int] IDENTITY(1,1) NOT NULL,
	[Descripcion_De_Movimiento] [nvarchar](50) NOT NULL,
 CONSTRAINT [PK_Tabla_De_Descripcion_De_Movimientos] PRIMARY KEY CLUSTERED 
(
	[ID_Descripcion] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_De_Descripcion_De_Oferta]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Descripcion_De_Oferta](
	[ID_Oferta] [int] IDENTITY(1,1) NOT NULL,
	[Descripcion_De_Oferta] [nvarchar](50) NOT NULL,
 CONSTRAINT [PK_Tabla_De_Descripcion_De_Oferta] PRIMARY KEY CLUSTERED 
(
	[ID_Oferta] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_De_Ejercicios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Ejercicios](
	[ID_Ejercicio] [int] IDENTITY(1,1) NOT NULL,
	[Titulo] [nvarchar](50) NOT NULL,
	[ID_Tipo_De_Ejercicio] [int] NULL,
	[ID_Tipo_De_Institucion] [int] NULL,
	[Explicacion_Realizada] [bit] NOT NULL,
 CONSTRAINT [PK_Tabla_De_Ejercicios] PRIMARY KEY CLUSTERED 
(
	[ID_Ejercicio] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_De_Ejercicios_Personalizados_Pedidos]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Ejercicios_Personalizados_Pedidos](
	[ID_Pedido] [int] IDENTITY(1,1) NOT NULL,
	[Archivo_Adjunto] [nvarchar](40) NULL,
	[Archivo_Ficha] [nvarchar](40) NULL,
	[Archivo_Enunciado] [nvarchar](40) NULL,
	[Usuario] [nvarchar](10) NOT NULL,
	[Explicacion_Pedida] [bit] NOT NULL,
	[Ejercicio_Pedido] [bit] NOT NULL,
	[Administrador] [nvarchar](20) NULL,
	[Realizado] [bit] NOT NULL,
	[Duracion_Del_Producto_Al_Comprarlo] [int] NOT NULL,
	[Fecha_De_Pedido] [datetime] NOT NULL,
	[Empresa] [nvarchar](20) NOT NULL,
 CONSTRAINT [PK_Tabla_De_Ejercicios_Personalizados_Pedidos] PRIMARY KEY CLUSTERED 
(
	[ID_Pedido] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_De_Empresas]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Empresas](
	[ID_Empresa] [int] IDENTITY(1,1) NOT NULL,
	[Empresa] [nvarchar](20) NOT NULL,
 CONSTRAINT [PK_Tabla_De_Empresas] PRIMARY KEY CLUSTERED 
(
	[ID_Empresa] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_De_Explicaciones_Pedidas]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Explicaciones_Pedidas](
	[ID_Consulta] [int] IDENTITY(1,1) NOT NULL,
	[Usuario] [nvarchar](10) NOT NULL,
	[ID_Ejercicio] [int] NOT NULL,
	[Fecha_De_Pedido] [datetime] NOT NULL,
	[Administrador] [nvarchar](20) NULL,
	[Realizado] [bit] NOT NULL,
	[Empresa] [nvarchar](20) NOT NULL,
 CONSTRAINT [PK_Tabla_De_Explicaciones_Pedidas] PRIMARY KEY CLUSTERED 
(
	[ID_Consulta] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_De_IP_Bloqueadas]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_IP_Bloqueadas](
	[ID_Bloqueo] [int] IDENTITY(1,1) NOT NULL,
	[IP_Address] [nvarchar](20) NOT NULL,
	[Bloqueo_IP] [bit] NOT NULL,
 CONSTRAINT [PK_Tabla_De_IP_Bloqueadas] PRIMARY KEY CLUSTERED 
(
	[ID_Bloqueo] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_De_Materias]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Materias](
	[ID_Materia] [int] IDENTITY(1,1) NOT NULL,
	[Materia] [nvarchar](20) NOT NULL,
	[Etiqueta_Materia] [int] NOT NULL,
 CONSTRAINT [PK_Tabla_De_Materias] PRIMARY KEY CLUSTERED 
(
	[ID_Materia] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_De_Movimientos]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Movimientos](
	[ID_Movimiento] [int] IDENTITY(1,1) NOT NULL,
	[ID_Usuario] [int] NOT NULL,
	[ID_Descripcion] [int] NOT NULL,
	[IP_Address] [nvarchar](20) NOT NULL,
	[Fecha_Del_Movimiento] [date] NOT NULL,
	[Plata_Debe] [money] NULL,
	[Plata_Haber] [money] NULL,
 CONSTRAINT [PK_Tabla_De_Movimientos] PRIMARY KEY CLUSTERED 
(
	[ID_Movimiento] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_De_Ofertas]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Ofertas](
	[ID_Empresa] [int] NOT NULL,
	[Bonificacion_Por_Registrarse] [money] NOT NULL,
	[Bonificacion_En_La_Proxima_Recarga] [int] NOT NULL,
	[Descuento_2_Compra] [decimal](3, 2) NOT NULL,
	[Descuento_Por_Compra] [decimal](3, 2) NOT NULL,
	[Bonificacion_Por_Carga] [decimal](3, 2) NOT NULL,
	[Otro_Igual_Gratis] [bit] NOT NULL,
	[Dos_Por_Uno_En_Video] [bit] NOT NULL,
	[Dos_Por_Uno_En_Ejercicios] [bit] NOT NULL,
	[Aumenta_Duracion_Todo_Lo_Comprado] [int] NOT NULL,
	[Aumenta_Duracion_De_La_Compra_Actual] [int] NOT NULL,
	[Gratis] [bit] NOT NULL,
	[Cantidad_X_Para_Bonificacion_Por_Consultas] [int] NOT NULL,
	[Bonificacion_Por_X_Consulta] [int] NOT NULL,
	[Dos_Por_Uno_En_Impresiones] [bit] NOT NULL,
	[Dos_Por_Uno_En_Explicaciones] [bit] NOT NULL
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_De_Precios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Precios](
	[ID_Empresa] [int] NOT NULL,
	[Valor_Ejercicio] [money] NOT NULL,
	[Valor_Explicacion] [money] NOT NULL,
	[Valor_Video] [money] NOT NULL,
	[Valor_Conjunto_De_Videos] [money] NOT NULL,
	[Valor_Explicacion_Personalizada] [money] NOT NULL,
	[Valor_Video_Personalizado] [money] NOT NULL,
	[Valor_Ejercicio_Personalizado] [money] NOT NULL,
	[Valor_Impresion] [money] NOT NULL,
	[Valor_Prestamo_SOS] [money] NOT NULL,
	[Duracion_De_Los_Videos] [int] NOT NULL,
	[Duracion_De_Los_Ejercicios_Y_Las_Explicaciones] [int] NOT NULL
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_De_Profesores]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Profesores](
	[ID_Profesor] [int] IDENTITY(1,1) NOT NULL,
	[Profesor] [nvarchar](30) NOT NULL,
	[Etiqueta_Profesor] [int] NOT NULL,
 CONSTRAINT [PK_Tabla_De_Profesores] PRIMARY KEY CLUSTERED 
(
	[ID_Profesor] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_De_Tarjetas_Prepagas]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Tarjetas_Prepagas](
	[ID_Tarjeta] [int] IDENTITY(1,1) NOT NULL,
	[Codigo] [int] NOT NULL,
	[Credito] [money] NOT NULL,
	[Fecha_De_Vencimiento] [date] NOT NULL,
	[Activacion_De_La_Tarjeta] [bit] NOT NULL,
	[ID_Empresa] [int] NOT NULL,
 CONSTRAINT [PK_Tabla_De_Tarjetas_Prepagas] PRIMARY KEY CLUSTERED 
(
	[ID_Tarjeta] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_De_Temas]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Temas](
	[ID_Tema] [int] IDENTITY(1,1) NOT NULL,
	[Tema] [nvarchar](60) NOT NULL,
	[Etiqueta_Tema] [int] NOT NULL,
 CONSTRAINT [PK_Tabla_De_Temas] PRIMARY KEY CLUSTERED 
(
	[ID_Tema] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_De_Usuarios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_De_Usuarios](
	[ID_Usuario] [int] IDENTITY(1,1) NOT NULL,
	[Usuario] [nvarchar](10) NOT NULL,
	[Password] [nvarchar](10) NOT NULL,
	[ID_Empresa] [int] NOT NULL,
	[Activacion_De_Usuarios] [bit] NOT NULL,
	[Correo] [nvarchar](30) NOT NULL,
 CONSTRAINT [PK_Tabla_De_Usuarios] PRIMARY KEY CLUSTERED 
(
	[ID_Usuario] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_MATH_De_Ejercicios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_MATH_De_Ejercicios](
	[ID_Ejercicio] [int] NOT NULL,
	[Enunciado_MATH] [nvarchar](max) NULL,
	[Enunciado_Limpio] [nvarchar](max) NULL
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO
/****** Object:  Index [UCL_ID_Ejercicio]    Script Date: 08/07/2015 20:12:12 ******/
CREATE UNIQUE CLUSTERED INDEX [UCL_ID_Ejercicio] ON [dbo].[Tabla_MATH_De_Ejercicios]
(
	[ID_Ejercicio] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  Table [dbo].[Tabla_Mis_Ejercicios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_Mis_Ejercicios](
	[ID_Compra] [int] IDENTITY(1,1) NOT NULL,
	[ID_Usuario] [int] NOT NULL,
	[ID_Ejercicio] [int] NOT NULL,
	[Ejercicio] [bit] NULL,
	[Explicacion] [bit] NULL,
	[Dias_Que_Restan_Para_Usar_El_Producto] [int] NOT NULL,
	[Fecha_De_Vencimiento] [date] NOT NULL,
 CONSTRAINT [PK_Tabla_Mis_Ejercicios] PRIMARY KEY CLUSTERED 
(
	[ID_Compra] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_Mis_Explicaciones]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_Mis_Explicaciones](
	[ID_Compra] [int] IDENTITY(1,1) NOT NULL,
	[ID_Usuario] [int] NOT NULL,
	[ID_Ejercicio] [int] NOT NULL,
	[Dias_Que_Restan_Para_Usar_El_Producto] [int] NOT NULL,
	[Fecha_De_Vencimiento] [date] NOT NULL,
 CONSTRAINT [PK_Tabla_Mis_Explicaciones] PRIMARY KEY CLUSTERED 
(
	[ID_Compra] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_Tipo_De_Institucion]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_Tipo_De_Institucion](
	[ID_Tipo_De_Institucion] [int] IDENTITY(1,1) NOT NULL,
	[Tipo_De_Institucion] [nvarchar](20) NOT NULL,
 CONSTRAINT [PK_Tabla_Tipo_De_Institucion] PRIMARY KEY CLUSTERED 
(
	[ID_Tipo_De_Institucion] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_Tipo_De_Producto]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_Tipo_De_Producto](
	[ID_Tipo_De_Ejercicio] [int] IDENTITY(1,1) NOT NULL,
	[Tipo_De_Producto] [nvarchar](30) NOT NULL,
 CONSTRAINT [PK_Tabla_Tipo_De_Producto] PRIMARY KEY CLUSTERED 
(
	[ID_Tipo_De_Ejercicio] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_Ubicacion_De_Los_Ejercicios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_Ubicacion_De_Los_Ejercicios](
	[ID_Ejercicio] [int] NOT NULL,
	[Ubicacion_Respuesta_Imprimible] [nvarchar](40) NULL,
	[Ubicacion_Respuesta_Visible] [nvarchar](40) NULL,
	[Ubicacion_Videos_Y_Explicaciones] [nvarchar](100) NULL
) ON [PRIMARY]

GO
/****** Object:  Table [dbo].[Tabla_URL_Cuenta_Digital]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE TABLE [dbo].[Tabla_URL_Cuenta_Digital](
	[ID_Empresa] [int] NOT NULL,
	[URL] [nvarchar](max) NULL
) ON [PRIMARY] TEXTIMAGE_ON [PRIMARY]

GO
/****** Object:  View [dbo].[Vista_Administradores]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Vista_Administradores]
AS
SELECT        dbo.Tabla_De_Administradores.ID_Administrador, dbo.Tabla_De_Administradores.Administrador, dbo.Tabla_De_Administradores.Password, dbo.Tabla_De_Administradores.Administrador_Bloqueado, 
                         dbo.Tabla_De_Administradores.IP_Address, dbo.Tabla_De_Empresas.Empresa
FROM            dbo.Tabla_De_Empresas INNER JOIN
                         dbo.Tabla_De_Administradores ON dbo.Tabla_De_Empresas.ID_Empresa = dbo.Tabla_De_Administradores.ID_Empresa

GO
/****** Object:  View [dbo].[Vista_Buscar_Ejercicios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create view [dbo].[Vista_Buscar_Ejercicios] with schemabinding
as
SELECT        dbo.Tabla_De_Ejercicios.ID_Tipo_De_Ejercicio, dbo.Tabla_De_Ejercicios.ID_Ejercicio, dbo.Tabla_Ubicacion_De_Los_Ejercicios.Ubicacion_Respuesta_Imprimible, 
                         dbo.Tabla_MATH_De_Ejercicios.Enunciado_Limpio
FROM            dbo.Tabla_MATH_De_Ejercicios INNER JOIN
                         dbo.Tabla_De_Ejercicios ON dbo.Tabla_MATH_De_Ejercicios.ID_Ejercicio = dbo.Tabla_De_Ejercicios.ID_Ejercicio INNER JOIN
                         dbo.Tabla_Ubicacion_De_Los_Ejercicios ON dbo.Tabla_De_Ejercicios.ID_Ejercicio = dbo.Tabla_Ubicacion_De_Los_Ejercicios.ID_Ejercicio
GO
SET ARITHABORT ON
SET CONCAT_NULL_YIELDS_NULL ON
SET QUOTED_IDENTIFIER ON
SET ANSI_NULLS ON
SET ANSI_PADDING ON
SET ANSI_WARNINGS ON
SET NUMERIC_ROUNDABORT OFF

GO
/****** Object:  Index [UCL_Vista_Buscar_Ejercicios]    Script Date: 08/07/2015 20:12:12 ******/
CREATE UNIQUE CLUSTERED INDEX [UCL_Vista_Buscar_Ejercicios] ON [dbo].[Vista_Buscar_Ejercicios]
(
	[ID_Ejercicio] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  View [dbo].[Vista_Buscar_Videos]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create view [dbo].[Vista_Buscar_Videos] with schemabinding as
SELECT        dbo.Tabla_De_Ejercicios.ID_Ejercicio, dbo.Tabla_De_Ejercicios.ID_Tipo_De_Ejercicio, dbo.Tabla_MATH_De_Ejercicios.Enunciado_Limpio
FROM            dbo.Tabla_Ubicacion_De_Los_Ejercicios INNER JOIN
                         dbo.Tabla_De_Ejercicios ON dbo.Tabla_Ubicacion_De_Los_Ejercicios.ID_Ejercicio = dbo.Tabla_De_Ejercicios.ID_Ejercicio INNER JOIN
                         dbo.Tabla_MATH_De_Ejercicios ON dbo.Tabla_De_Ejercicios.ID_Ejercicio = dbo.Tabla_MATH_De_Ejercicios.ID_Ejercicio 
GO
SET ARITHABORT ON
SET CONCAT_NULL_YIELDS_NULL ON
SET QUOTED_IDENTIFIER ON
SET ANSI_NULLS ON
SET ANSI_PADDING ON
SET ANSI_WARNINGS ON
SET NUMERIC_ROUNDABORT OFF

GO
/****** Object:  Index [UCL_Vista_Buscar_Videos]    Script Date: 08/07/2015 20:12:12 ******/
CREATE UNIQUE CLUSTERED INDEX [UCL_Vista_Buscar_Videos] ON [dbo].[Vista_Buscar_Videos]
(
	[ID_Ejercicio] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  View [dbo].[Vista_Categoria]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Vista_Categoria]
AS
SELECT        dbo.Tabla_De_Administradores.ID_Administrador, dbo.Tabla_De_Administradores.ID_Empresa, dbo.Tabla_De_Categorias.Categoria_A1, dbo.Tabla_De_Categorias.Categoria_A2, 
                         dbo.Tabla_De_Categorias.Categoria_A3, dbo.Tabla_De_Categorias.Categoria_B1, dbo.Tabla_De_Categorias.Categoria_B2, dbo.Tabla_De_Categorias.Categoria_B3, dbo.Tabla_De_Categorias.Categoria_C1, 
                         dbo.Tabla_De_Categorias.Categoria_D1, dbo.Tabla_De_Categorias.Categoria_D2, dbo.Tabla_De_Categorias.Categoria_E1, dbo.Tabla_De_Categorias.Categoria_E2, dbo.Tabla_De_Categorias.Categoria_E3, 
                         dbo.Tabla_De_Categorias.Categoria_F1, dbo.Tabla_De_Categorias.Categoria_F2, dbo.Tabla_De_Categorias.Categoria_F3, dbo.Tabla_De_Categorias.Categoria_G1, dbo.Tabla_De_Categorias.Categoria_G2, 
                         dbo.Tabla_De_Categorias.Categoria_G3
FROM            dbo.Tabla_De_Empresas INNER JOIN
                         dbo.Tabla_De_Administradores ON dbo.Tabla_De_Empresas.ID_Empresa = dbo.Tabla_De_Administradores.ID_Empresa INNER JOIN
                         dbo.Tabla_De_Categorias ON dbo.Tabla_De_Administradores.ID_Administrador = dbo.Tabla_De_Categorias.ID_Administrador

GO
/****** Object:  View [dbo].[Vista_Comentario_Administradores]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Vista_Comentario_Administradores]
AS
SELECT        dbo.Tabla_De_Administradores.Administrador, dbo.Tabla_De_Comentario_De_Administradores.Comentario, dbo.Tabla_De_Comentario_De_Administradores.Fecha_Comentario_Realizado, 
                         dbo.Tabla_De_Administradores.ID_Administrador, dbo.Tabla_De_Comentario_De_Administradores.ID_Comentario, dbo.Tabla_De_Administradores.ID_Empresa
FROM            dbo.Tabla_De_Comentario_De_Administradores INNER JOIN
                         dbo.Tabla_De_Administradores ON dbo.Tabla_De_Comentario_De_Administradores.ID_Administrador = dbo.Tabla_De_Administradores.ID_Administrador

GO
/****** Object:  View [dbo].[Vista_Comentario_Usuarios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Vista_Comentario_Usuarios]
AS
SELECT        dbo.Tabla_De_Comentario_De_Usuarios.*, dbo.Tabla_De_Empresas.Empresa
FROM            dbo.Tabla_De_Comentario_De_Usuarios INNER JOIN
                         dbo.Tabla_De_Empresas ON dbo.Tabla_De_Comentario_De_Usuarios.ID_Empresa = dbo.Tabla_De_Empresas.ID_Empresa

GO
/****** Object:  View [dbo].[Vista_Consumo_Supervisores]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Vista_Consumo_Supervisores]
AS
SELECT        dbo.Tabla_De_Empresas.Empresa, dbo.Tabla_Consultas_Supervisores.Administrador, dbo.Tabla_Consultas_Supervisores.Fecha_De_Consulta, dbo.Tabla_Consultas_Supervisores.Tipo_De_Consulta, 
                         dbo.Tabla_Consultas_Supervisores.ID_Consulta
FROM            dbo.Tabla_De_Empresas INNER JOIN
                         dbo.Tabla_Consultas_Supervisores ON dbo.Tabla_De_Empresas.ID_Empresa = dbo.Tabla_Consultas_Supervisores.ID_Empresa

GO
/****** Object:  View [dbo].[Vista_Control_Administradores]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Vista_Control_Administradores]
AS
SELECT        dbo.Tabla_De_Control_De_Administradores.ID_Ingreso_Egreso, dbo.Tabla_De_Control_De_Administradores.ID_Administrador, dbo.Tabla_De_Control_De_Administradores.Fecha_De_Ingreso, 
                         dbo.Tabla_De_Control_De_Administradores.Fecha_De_Egreso, dbo.Tabla_De_Control_De_Administradores.IP_Address, dbo.Tabla_De_Empresas.Empresa, dbo.Tabla_De_Empresas.ID_Empresa, 
                         dbo.Tabla_De_Administradores.Administrador
FROM            dbo.Tabla_De_Control_De_Administradores INNER JOIN
                         dbo.Tabla_De_Administradores ON dbo.Tabla_De_Control_De_Administradores.ID_Administrador = dbo.Tabla_De_Administradores.ID_Administrador INNER JOIN
                         dbo.Tabla_De_Empresas ON dbo.Tabla_De_Administradores.ID_Empresa = dbo.Tabla_De_Empresas.ID_Empresa

GO
/****** Object:  View [dbo].[Vista_Credito_De_Usuario]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Vista_Credito_De_Usuario]
AS
SELECT        dbo.Tabla_De_Empresas.Empresa, dbo.Tabla_De_Usuarios.ID_Usuario, dbo.Tabla_De_Usuarios.Usuario, dbo.Tabla_De_Usuarios.Correo, dbo.Tabla_De_Credito_De_Los_Usuarios.Credito_De_Usuario, 
                         dbo.Tabla_De_Credito_De_Los_Usuarios.Prestamo_Real_Al_Usuario, dbo.Tabla_De_Credito_De_Los_Usuarios.Pedido_De_Prestamo
FROM            dbo.Tabla_De_Usuarios INNER JOIN
                         dbo.Tabla_De_Credito_De_Los_Usuarios ON dbo.Tabla_De_Usuarios.ID_Usuario = dbo.Tabla_De_Credito_De_Los_Usuarios.ID_Usuario INNER JOIN
                         dbo.Tabla_De_Empresas ON dbo.Tabla_De_Usuarios.ID_Empresa = dbo.Tabla_De_Empresas.ID_Empresa

GO
/****** Object:  View [dbo].[Vista_De_Consultas_Supervisores]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Vista_De_Consultas_Supervisores]
AS
SELECT        dbo.Tabla_Consultas_Supervisores.ID_Consulta, dbo.Tabla_Consultas_Supervisores.Administrador, dbo.Tabla_Consultas_Supervisores.Fecha_De_Consulta, 
                         dbo.Tabla_Consultas_Supervisores.Tipo_De_Consulta, dbo.Tabla_De_Empresas.Empresa
FROM            dbo.Tabla_Consultas_Supervisores INNER JOIN
                         dbo.Tabla_De_Empresas ON dbo.Tabla_Consultas_Supervisores.ID_Empresa = dbo.Tabla_De_Empresas.ID_Empresa

GO
/****** Object:  View [dbo].[Vista_De_Empresas]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Vista_De_Empresas]
AS
SELECT        dbo.Tabla_Cantidad_De_Consultas_Para_Empresas.Consultas_Permitidas_Videos, dbo.Tabla_Cantidad_De_Consultas_Para_Empresas.Consultas_Permitidas_Ejercicios, dbo.Tabla_De_Empresas.Empresa, 
                         dbo.Tabla_Cantidad_De_Consultas_Para_Empresas.ID_Empresa
FROM            dbo.Tabla_Cantidad_De_Consultas_Para_Empresas INNER JOIN
                         dbo.Tabla_De_Empresas ON dbo.Tabla_Cantidad_De_Consultas_Para_Empresas.ID_Empresa = dbo.Tabla_De_Empresas.ID_Empresa

GO
/****** Object:  View [dbo].[Vista_De_Precios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Vista_De_Precios]
AS
SELECT        dbo.Tabla_De_Precios.*, dbo.Tabla_De_Empresas.Empresa
FROM            dbo.Tabla_De_Precios INNER JOIN
                         dbo.Tabla_De_Empresas ON dbo.Tabla_De_Precios.ID_Empresa = dbo.Tabla_De_Empresas.ID_Empresa

GO
/****** Object:  View [dbo].[Vista_Mis_Ejercicios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Vista_Mis_Ejercicios]
AS
SELECT        dbo.Tabla_Mis_Ejercicios.ID_Compra, dbo.Tabla_Mis_Ejercicios.ID_Usuario, dbo.Tabla_Mis_Ejercicios.ID_Ejercicio, dbo.Tabla_Mis_Ejercicios.Ejercicio, dbo.Tabla_Mis_Ejercicios.Explicacion, 
                         dbo.Tabla_Mis_Ejercicios.Dias_Que_Restan_Para_Usar_El_Producto, dbo.Tabla_Mis_Ejercicios.Fecha_De_Vencimiento, dbo.Tabla_De_Empresas.Empresa, dbo.Tabla_De_Usuarios.Usuario, 
                         dbo.Tabla_De_Usuarios.Correo, dbo.Tabla_De_Ejercicios.Titulo
FROM            dbo.Tabla_Mis_Ejercicios INNER JOIN
                         dbo.Tabla_De_Usuarios ON dbo.Tabla_Mis_Ejercicios.ID_Usuario = dbo.Tabla_De_Usuarios.ID_Usuario INNER JOIN
                         dbo.Tabla_De_Empresas ON dbo.Tabla_De_Usuarios.ID_Empresa = dbo.Tabla_De_Empresas.ID_Empresa INNER JOIN
                         dbo.Tabla_De_Ejercicios ON dbo.Tabla_Mis_Ejercicios.ID_Ejercicio = dbo.Tabla_De_Ejercicios.ID_Ejercicio

GO
/****** Object:  View [dbo].[Vista_Mis_Explicaciones]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Vista_Mis_Explicaciones]
AS
SELECT        dbo.Tabla_Mis_Explicaciones.ID_Compra, dbo.Tabla_Mis_Explicaciones.ID_Usuario, dbo.Tabla_Mis_Explicaciones.ID_Ejercicio, dbo.Tabla_Mis_Explicaciones.Dias_Que_Restan_Para_Usar_El_Producto, 
                         dbo.Tabla_Mis_Explicaciones.Fecha_De_Vencimiento, dbo.Tabla_De_Usuarios.Usuario, dbo.Tabla_De_Empresas.Empresa, dbo.Tabla_De_Usuarios.Correo, dbo.Tabla_De_Ejercicios.Titulo
FROM            dbo.Tabla_Mis_Explicaciones INNER JOIN
                         dbo.Tabla_De_Usuarios ON dbo.Tabla_Mis_Explicaciones.ID_Usuario = dbo.Tabla_De_Usuarios.ID_Usuario INNER JOIN
                         dbo.Tabla_De_Empresas ON dbo.Tabla_De_Usuarios.ID_Empresa = dbo.Tabla_De_Empresas.ID_Empresa INNER JOIN
                         dbo.Tabla_De_Ejercicios ON dbo.Tabla_Mis_Explicaciones.ID_Ejercicio = dbo.Tabla_De_Ejercicios.ID_Ejercicio

GO
/****** Object:  View [dbo].[Vista_Movimientos_Usuarios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Vista_Movimientos_Usuarios]
AS
SELECT        dbo.Tabla_De_Descripcion_De_Movimientos.Descripcion_De_Movimiento, dbo.Tabla_De_Movimientos.ID_Movimiento, dbo.Tabla_De_Movimientos.ID_Usuario, dbo.Tabla_De_Movimientos.ID_Descripcion, 
                         dbo.Tabla_De_Movimientos.IP_Address, dbo.Tabla_De_Movimientos.Fecha_Del_Movimiento, dbo.Tabla_De_Movimientos.Plata_Debe, dbo.Tabla_De_Movimientos.Plata_Haber, 
                         dbo.Tabla_De_Empresas.Empresa, dbo.Tabla_De_Usuarios.Usuario
FROM            dbo.Tabla_De_Descripcion_De_Movimientos INNER JOIN
                         dbo.Tabla_De_Movimientos ON dbo.Tabla_De_Descripcion_De_Movimientos.ID_Descripcion = dbo.Tabla_De_Movimientos.ID_Descripcion INNER JOIN
                         dbo.Tabla_De_Usuarios ON dbo.Tabla_De_Movimientos.ID_Usuario = dbo.Tabla_De_Usuarios.ID_Usuario INNER JOIN
                         dbo.Tabla_De_Empresas ON dbo.Tabla_De_Usuarios.ID_Empresa = dbo.Tabla_De_Empresas.ID_Empresa

GO
/****** Object:  View [dbo].[Vista_Tarjetas_Prepagas]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Vista_Tarjetas_Prepagas]
AS
SELECT        dbo.Tabla_De_Tarjetas_Prepagas.*, dbo.Tabla_De_Empresas.Empresa
FROM            dbo.Tabla_De_Tarjetas_Prepagas INNER JOIN
                         dbo.Tabla_De_Empresas ON dbo.Tabla_De_Tarjetas_Prepagas.ID_Empresa = dbo.Tabla_De_Empresas.ID_Empresa

GO
/****** Object:  View [dbo].[Vista_URL_Cuenta_Digital]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Vista_URL_Cuenta_Digital]
AS
SELECT        dbo.Tabla_URL_Cuenta_Digital.ID_Empresa, dbo.Tabla_De_Empresas.Empresa, dbo.Tabla_URL_Cuenta_Digital.URL
FROM            dbo.Tabla_De_Empresas INNER JOIN
                         dbo.Tabla_URL_Cuenta_Digital ON dbo.Tabla_De_Empresas.ID_Empresa = dbo.Tabla_URL_Cuenta_Digital.ID_Empresa

GO
/****** Object:  View [dbo].[Vista_Usuario_Administradores]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE VIEW [dbo].[Vista_Usuario_Administradores]
AS
SELECT        dbo.Tabla_De_Usuarios.ID_Usuario, dbo.Tabla_De_Usuarios.Usuario, dbo.Tabla_De_Usuarios.Password, dbo.Tabla_De_Usuarios.Correo, dbo.Tabla_Datos_De_Usuarios.Usuario_De_Skype, 
                         dbo.Tabla_Datos_De_Usuarios.Numero_De_Celular, dbo.Tabla_Datos_De_Usuarios.Modelo_De_Celular, dbo.Tabla_De_Credito_De_Los_Usuarios.Credito_De_Usuario, 
                         dbo.Tabla_De_Credito_De_Los_Usuarios.Pedido_De_Prestamo, dbo.Tabla_De_Empresas.ID_Empresa, dbo.Tabla_De_Empresas.Empresa, dbo.Tabla_Datos_Extra_De_Usuarios.Fecha_De_Alta, 
                         dbo.Tabla_De_Usuarios.Activacion_De_Usuarios, dbo.Tabla_De_Credito_De_Los_Usuarios.Prestamo_Real_Al_Usuario, dbo.Tabla_Datos_Extra_De_Usuarios.IP_Address, 
                         dbo.Tabla_De_Credito_De_Los_Usuarios.Bonificacion_Por_Recarga
FROM            dbo.Tabla_De_Usuarios INNER JOIN
                         dbo.Tabla_Datos_De_Usuarios ON dbo.Tabla_De_Usuarios.ID_Usuario = dbo.Tabla_Datos_De_Usuarios.ID_Usuario INNER JOIN
                         dbo.Tabla_Datos_Extra_De_Usuarios ON dbo.Tabla_De_Usuarios.ID_Usuario = dbo.Tabla_Datos_Extra_De_Usuarios.ID_Usuario INNER JOIN
                         dbo.Tabla_De_Empresas ON dbo.Tabla_De_Usuarios.ID_Empresa = dbo.Tabla_De_Empresas.ID_Empresa INNER JOIN
                         dbo.Tabla_De_Credito_De_Los_Usuarios ON dbo.Tabla_De_Usuarios.ID_Usuario = dbo.Tabla_De_Credito_De_Los_Usuarios.ID_Usuario

GO
/****** Object:  Index [NCL_ID_Empresa]    Script Date: 08/07/2015 20:12:12 ******/
CREATE NONCLUSTERED INDEX [NCL_ID_Empresa] ON [dbo].[Tabla_De_Administradores]
(
	[ID_Empresa] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
SET ANSI_PADDING ON

GO
/****** Object:  Index [UNCL_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
CREATE UNIQUE NONCLUSTERED INDEX [UNCL_Administrador] ON [dbo].[Tabla_De_Administradores]
(
	[Administrador] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
SET ANSI_PADDING ON

GO
/****** Object:  Index [UNCL_Ano]    Script Date: 08/07/2015 20:12:12 ******/
CREATE UNIQUE NONCLUSTERED INDEX [UNCL_Ano] ON [dbo].[Tabla_De_Anos]
(
	[Ano] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
SET ANSI_PADDING ON

GO
/****** Object:  Index [UNCL_Colegio]    Script Date: 08/07/2015 20:12:12 ******/
CREATE UNIQUE NONCLUSTERED INDEX [UNCL_Colegio] ON [dbo].[Tabla_De_Colegios]
(
	[Colegio] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  Index [NCL_ID_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
CREATE NONCLUSTERED INDEX [NCL_ID_Administrador] ON [dbo].[Tabla_De_Comentario_De_Administradores]
(
	[ID_Administrador] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  Index [NCL_ID_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
CREATE NONCLUSTERED INDEX [NCL_ID_Administrador] ON [dbo].[Tabla_De_Control_De_Administradores]
(
	[ID_Administrador] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
SET ANSI_PADDING ON

GO
/****** Object:  Index [NCL_IP_Address]    Script Date: 08/07/2015 20:12:12 ******/
CREATE NONCLUSTERED INDEX [NCL_IP_Address] ON [dbo].[Tabla_De_IP_Bloqueadas]
(
	[IP_Address] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
SET ANSI_PADDING ON

GO
/****** Object:  Index [UNCL_Materia]    Script Date: 08/07/2015 20:12:12 ******/
CREATE UNIQUE NONCLUSTERED INDEX [UNCL_Materia] ON [dbo].[Tabla_De_Materias]
(
	[Materia] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  Index [NCL_ID_Descripcion]    Script Date: 08/07/2015 20:12:12 ******/
CREATE NONCLUSTERED INDEX [NCL_ID_Descripcion] ON [dbo].[Tabla_De_Movimientos]
(
	[ID_Descripcion] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  Index [NCL_ID_Usuario]    Script Date: 08/07/2015 20:12:12 ******/
CREATE NONCLUSTERED INDEX [NCL_ID_Usuario] ON [dbo].[Tabla_De_Movimientos]
(
	[ID_Usuario] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
SET ANSI_PADDING ON

GO
/****** Object:  Index [NCL_IP_Address]    Script Date: 08/07/2015 20:12:12 ******/
CREATE NONCLUSTERED INDEX [NCL_IP_Address] ON [dbo].[Tabla_De_Movimientos]
(
	[IP_Address] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
SET ANSI_PADDING ON

GO
/****** Object:  Index [UNCL_Profesor]    Script Date: 08/07/2015 20:12:12 ******/
CREATE UNIQUE NONCLUSTERED INDEX [UNCL_Profesor] ON [dbo].[Tabla_De_Profesores]
(
	[Profesor] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  Index [UNCL_Codigo]    Script Date: 08/07/2015 20:12:12 ******/
CREATE UNIQUE NONCLUSTERED INDEX [UNCL_Codigo] ON [dbo].[Tabla_De_Tarjetas_Prepagas]
(
	[Codigo] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
SET ANSI_PADDING ON

GO
/****** Object:  Index [UNCL_Tema]    Script Date: 08/07/2015 20:12:12 ******/
CREATE UNIQUE NONCLUSTERED INDEX [UNCL_Tema] ON [dbo].[Tabla_De_Temas]
(
	[Tema] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
SET ANSI_PADDING ON

GO
/****** Object:  Index [NCL_Correo]    Script Date: 08/07/2015 20:12:12 ******/
CREATE NONCLUSTERED INDEX [NCL_Correo] ON [dbo].[Tabla_De_Usuarios]
(
	[Correo] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  Index [NCL_ID_Empresa]    Script Date: 08/07/2015 20:12:12 ******/
CREATE NONCLUSTERED INDEX [NCL_ID_Empresa] ON [dbo].[Tabla_De_Usuarios]
(
	[ID_Empresa] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
SET ANSI_PADDING ON

GO
/****** Object:  Index [UNCL_Usuario]    Script Date: 08/07/2015 20:12:12 ******/
CREATE UNIQUE NONCLUSTERED INDEX [UNCL_Usuario] ON [dbo].[Tabla_De_Usuarios]
(
	[Usuario] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  Index [NCL_ID_Ejercicio]    Script Date: 08/07/2015 20:12:12 ******/
CREATE NONCLUSTERED INDEX [NCL_ID_Ejercicio] ON [dbo].[Tabla_Mis_Ejercicios]
(
	[ID_Ejercicio] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  Index [NCL_ID_Usuario]    Script Date: 08/07/2015 20:12:12 ******/
CREATE NONCLUSTERED INDEX [NCL_ID_Usuario] ON [dbo].[Tabla_Mis_Ejercicios]
(
	[ID_Usuario] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  Index [NCL_ID_Ejercicio]    Script Date: 08/07/2015 20:12:12 ******/
CREATE NONCLUSTERED INDEX [NCL_ID_Ejercicio] ON [dbo].[Tabla_Mis_Explicaciones]
(
	[ID_Ejercicio] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  Index [NCL_ID_Usuario]    Script Date: 08/07/2015 20:12:12 ******/
CREATE NONCLUSTERED INDEX [NCL_ID_Usuario] ON [dbo].[Tabla_Mis_Explicaciones]
(
	[ID_Usuario] ASC
)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, DROP_EXISTING = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON) ON [PRIMARY]
GO
/****** Object:  FullTextIndex     Script Date: 08/07/2015 20:12:12 ******/
CREATE FULLTEXT INDEX ON [dbo].[Tabla_Busqueda_De_Ejercicios_Por_Etiquetas](
[Etiqueta_Busqueda_Ano] LANGUAGE 'Spanish', 
[Etiqueta_Busqueda_Colegio] LANGUAGE 'Spanish', 
[Etiqueta_Busqueda_Materia] LANGUAGE 'Spanish', 
[Etiqueta_Busqueda_Profesor] LANGUAGE 'Spanish', 
[Etiqueta_Busqueda_Tema] LANGUAGE 'Spanish')
KEY INDEX [UCL_ID_Ejercicio]ON ([Catalogo], FILEGROUP [PRIMARY])
WITH (CHANGE_TRACKING = AUTO, STOPLIST = SYSTEM)


GO
/****** Object:  FullTextIndex     Script Date: 08/07/2015 20:12:12 ******/
CREATE FULLTEXT INDEX ON [dbo].[Tabla_De_Anos](
[Ano] LANGUAGE 'Spanish')
KEY INDEX [UNCL_Ano]ON ([Catalogo], FILEGROUP [PRIMARY])
WITH (CHANGE_TRACKING = AUTO, STOPLIST = OFF)


GO
/****** Object:  FullTextIndex     Script Date: 08/07/2015 20:12:12 ******/
CREATE FULLTEXT INDEX ON [dbo].[Tabla_De_Colegios](
[Colegio] LANGUAGE 'Spanish')
KEY INDEX [UNCL_Colegio]ON ([Catalogo], FILEGROUP [PRIMARY])
WITH (CHANGE_TRACKING = AUTO, STOPLIST = SYSTEM)


GO
/****** Object:  FullTextIndex     Script Date: 08/07/2015 20:12:12 ******/
CREATE FULLTEXT INDEX ON [dbo].[Tabla_De_Materias](
[Materia] LANGUAGE 'Spanish')
KEY INDEX [UNCL_Materia]ON ([Catalogo], FILEGROUP [PRIMARY])
WITH (CHANGE_TRACKING = AUTO, STOPLIST = SYSTEM)


GO
/****** Object:  FullTextIndex     Script Date: 08/07/2015 20:12:12 ******/
CREATE FULLTEXT INDEX ON [dbo].[Tabla_De_Profesores](
[Profesor] LANGUAGE 'Spanish')
KEY INDEX [UNCL_Profesor]ON ([Catalogo], FILEGROUP [PRIMARY])
WITH (CHANGE_TRACKING = AUTO, STOPLIST = SYSTEM)


GO
/****** Object:  FullTextIndex     Script Date: 08/07/2015 20:12:12 ******/
CREATE FULLTEXT INDEX ON [dbo].[Tabla_De_Temas](
[Tema] LANGUAGE 'Spanish')
KEY INDEX [UNCL_Tema]ON ([Catalogo], FILEGROUP [PRIMARY])
WITH (CHANGE_TRACKING = AUTO, STOPLIST = SYSTEM)


GO
/****** Object:  FullTextIndex     Script Date: 08/07/2015 20:12:12 ******/
CREATE FULLTEXT INDEX ON [dbo].[Tabla_MATH_De_Ejercicios](
[Enunciado_Limpio] LANGUAGE 'Spanish', 
[Enunciado_MATH] LANGUAGE 'Spanish')
KEY INDEX [UCL_ID_Ejercicio]ON ([Catalogo], FILEGROUP [PRIMARY])
WITH (CHANGE_TRACKING = AUTO, STOPLIST = OFF)


GO
/****** Object:  FullTextIndex     Script Date: 08/07/2015 20:12:12 ******/
CREATE FULLTEXT INDEX ON [dbo].[Vista_Buscar_Ejercicios](
[Enunciado_Limpio] LANGUAGE 'Spanish')
KEY INDEX [UCL_Vista_Buscar_Ejercicios]ON ([Catalogo], FILEGROUP [PRIMARY])
WITH (CHANGE_TRACKING = AUTO, STOPLIST = SYSTEM)


GO
/****** Object:  FullTextIndex     Script Date: 08/07/2015 20:12:12 ******/
CREATE FULLTEXT INDEX ON [dbo].[Vista_Buscar_Videos](
[Enunciado_Limpio] LANGUAGE 'Spanish')
KEY INDEX [UCL_Vista_Buscar_Videos]ON ([Catalogo], FILEGROUP [PRIMARY])
WITH (CHANGE_TRACKING = AUTO, STOPLIST = SYSTEM)


GO
ALTER TABLE [dbo].[Tabla_Datos_Extra_De_Usuarios] ADD  CONSTRAINT [DF_Tabla_Datos_Extra_De_Usuarios_Fecha_De_Alta]  DEFAULT (getdate()) FOR [Fecha_De_Alta]
GO
ALTER TABLE [dbo].[Tabla_De_Administradores] ADD  CONSTRAINT [DF_Tabla_De_Administradores_Administrador_Bloqueado]  DEFAULT ((0)) FOR [Administrador_Bloqueado]
GO
ALTER TABLE [dbo].[Tabla_De_Anos] ADD  CONSTRAINT [DF_Tabla_De_Anos_Etiqueta_Ano]  DEFAULT ((0)) FOR [Etiqueta_Ano]
GO
ALTER TABLE [dbo].[Tabla_De_Categorias] ADD  CONSTRAINT [DF_Tabla_De_Categorias_Categoria_A1]  DEFAULT ((0)) FOR [Categoria_A1]
GO
ALTER TABLE [dbo].[Tabla_De_Categorias] ADD  CONSTRAINT [DF_Tabla_De_Categorias_Categoria_A2]  DEFAULT ((0)) FOR [Categoria_A2]
GO
ALTER TABLE [dbo].[Tabla_De_Categorias] ADD  CONSTRAINT [DF_Tabla_De_Categorias_Categoria_A3]  DEFAULT ((0)) FOR [Categoria_A3]
GO
ALTER TABLE [dbo].[Tabla_De_Categorias] ADD  CONSTRAINT [DF_Tabla_De_Categorias_Categoria_B1]  DEFAULT ((0)) FOR [Categoria_B1]
GO
ALTER TABLE [dbo].[Tabla_De_Categorias] ADD  CONSTRAINT [DF_Tabla_De_Categorias_Categoria_B2]  DEFAULT ((0)) FOR [Categoria_B2]
GO
ALTER TABLE [dbo].[Tabla_De_Categorias] ADD  CONSTRAINT [DF_Tabla_De_Categorias_Categoria_B3]  DEFAULT ((0)) FOR [Categoria_B3]
GO
ALTER TABLE [dbo].[Tabla_De_Categorias] ADD  CONSTRAINT [DF_Tabla_De_Categorias_Categoria_C1]  DEFAULT ((0)) FOR [Categoria_C1]
GO
ALTER TABLE [dbo].[Tabla_De_Categorias] ADD  CONSTRAINT [DF_Tabla_De_Categorias_Categoria_D1]  DEFAULT ((0)) FOR [Categoria_D1]
GO
ALTER TABLE [dbo].[Tabla_De_Categorias] ADD  CONSTRAINT [DF_Tabla_De_Categorias_Categoria_D2]  DEFAULT ((0)) FOR [Categoria_D2]
GO
ALTER TABLE [dbo].[Tabla_De_Categorias] ADD  CONSTRAINT [DF_Tabla_De_Categorias_Categoria_E1]  DEFAULT ((0)) FOR [Categoria_E1]
GO
ALTER TABLE [dbo].[Tabla_De_Categorias] ADD  CONSTRAINT [DF_Tabla_De_Categorias_Categoria_E2]  DEFAULT ((0)) FOR [Categoria_E2]
GO
ALTER TABLE [dbo].[Tabla_De_Categorias] ADD  CONSTRAINT [DF_Tabla_De_Categorias_Categoria_E3]  DEFAULT ((0)) FOR [Categoria_E3]
GO
ALTER TABLE [dbo].[Tabla_De_Categorias] ADD  CONSTRAINT [DF_Tabla_De_Categorias_Categoria_F1]  DEFAULT ((5)) FOR [Categoria_F1]
GO
ALTER TABLE [dbo].[Tabla_De_Categorias] ADD  CONSTRAINT [DF_Tabla_De_Categorias_Categoria_F2]  DEFAULT ((5)) FOR [Categoria_F2]
GO
ALTER TABLE [dbo].[Tabla_De_Categorias] ADD  CONSTRAINT [DF_Tabla_De_Categorias_Categoria_F3]  DEFAULT ((0)) FOR [Categoria_F3]
GO
ALTER TABLE [dbo].[Tabla_De_Categorias] ADD  CONSTRAINT [DF_Tabla_De_Categorias_Categoria_G1]  DEFAULT ((0)) FOR [Categoria_G1]
GO
ALTER TABLE [dbo].[Tabla_De_Categorias] ADD  CONSTRAINT [DF_Tabla_De_Categorias_Categoria_G2]  DEFAULT ((0)) FOR [Categoria_G2]
GO
ALTER TABLE [dbo].[Tabla_De_Categorias] ADD  CONSTRAINT [DF_Tabla_De_Categorias_Categoria_G3]  DEFAULT ((0)) FOR [Categoria_G3]
GO
ALTER TABLE [dbo].[Tabla_De_Colegios] ADD  CONSTRAINT [DF_Tabla_De_Colegios_Etiqueta_Colegio]  DEFAULT ((0)) FOR [Etiqueta_Colegio]
GO
ALTER TABLE [dbo].[Tabla_De_Credito_De_Los_Usuarios] ADD  CONSTRAINT [DF_Tabla_De_Credito_De_Los_Usuarios_Credito_De_Usuario]  DEFAULT ((0)) FOR [Credito_De_Usuario]
GO
ALTER TABLE [dbo].[Tabla_De_Credito_De_Los_Usuarios] ADD  CONSTRAINT [DF_Tabla_De_Credito_De_Los_Usuarios_Prestamo_Real_Al_Usuario]  DEFAULT ((0)) FOR [Prestamo_Real_Al_Usuario]
GO
ALTER TABLE [dbo].[Tabla_De_Credito_De_Los_Usuarios] ADD  CONSTRAINT [DF_Tabla_De_Credito_De_Los_Usuarios_Pedido_De_Prestamo]  DEFAULT ((0)) FOR [Pedido_De_Prestamo]
GO
ALTER TABLE [dbo].[Tabla_De_Credito_De_Los_Usuarios] ADD  CONSTRAINT [DF_Tabla_De_Credito_De_Los_Usuarios_Bonificacion_Por_Recarga]  DEFAULT ((0)) FOR [Bonificacion_Por_Recarga]
GO
ALTER TABLE [dbo].[Tabla_De_IP_Bloqueadas] ADD  CONSTRAINT [DF_Tabla_De_IP_Bloqueadas_Bloqueo_IP]  DEFAULT ((0)) FOR [Bloqueo_IP]
GO
ALTER TABLE [dbo].[Tabla_De_Materias] ADD  CONSTRAINT [DF_Tabla_De_Materias_Etiqueta_Materia]  DEFAULT ((0)) FOR [Etiqueta_Materia]
GO
ALTER TABLE [dbo].[Tabla_De_Movimientos] ADD  CONSTRAINT [DF_Tabla_De_Movimientos_Fecha_Del_Movimiento]  DEFAULT (getdate()) FOR [Fecha_Del_Movimiento]
GO
ALTER TABLE [dbo].[Tabla_De_Ofertas] ADD  CONSTRAINT [DF_Tabla_De_Ofertas_Bonificacion_En_La_Proxima_Recarga]  DEFAULT ((0)) FOR [Bonificacion_En_La_Proxima_Recarga]
GO
ALTER TABLE [dbo].[Tabla_De_Ofertas] ADD  CONSTRAINT [DF_Tabla_De_Ofertas_Descuento_2_Compra]  DEFAULT ((0)) FOR [Descuento_2_Compra]
GO
ALTER TABLE [dbo].[Tabla_De_Ofertas] ADD  CONSTRAINT [DF_Tabla_De_Ofertas_Descuento_Por_Compra]  DEFAULT ((0)) FOR [Descuento_Por_Compra]
GO
ALTER TABLE [dbo].[Tabla_De_Ofertas] ADD  CONSTRAINT [DF_Tabla_De_Ofertas_Bonificacion_Por_Carga]  DEFAULT ((0)) FOR [Bonificacion_Por_Carga]
GO
ALTER TABLE [dbo].[Tabla_De_Ofertas] ADD  CONSTRAINT [DF_Tabla_De_Ofertas_Otro_Igual_Gratis]  DEFAULT ((0)) FOR [Otro_Igual_Gratis]
GO
ALTER TABLE [dbo].[Tabla_De_Ofertas] ADD  CONSTRAINT [DF_Tabla_De_Ofertas_Dos_Por_Uno_En_Video]  DEFAULT ((0)) FOR [Dos_Por_Uno_En_Video]
GO
ALTER TABLE [dbo].[Tabla_De_Ofertas] ADD  CONSTRAINT [DF_Tabla_De_Ofertas_Dos_Por_Uno_En_Ejercicios]  DEFAULT ((0)) FOR [Dos_Por_Uno_En_Ejercicios]
GO
ALTER TABLE [dbo].[Tabla_De_Ofertas] ADD  CONSTRAINT [DF_Tabla_De_Ofertas_Aumenta_Duracion_Todo]  DEFAULT ((0)) FOR [Aumenta_Duracion_Todo_Lo_Comprado]
GO
ALTER TABLE [dbo].[Tabla_De_Ofertas] ADD  CONSTRAINT [DF_Tabla_De_Ofertas_Aumenta_Duracion_De_La_Compra]  DEFAULT ((0)) FOR [Aumenta_Duracion_De_La_Compra_Actual]
GO
ALTER TABLE [dbo].[Tabla_De_Ofertas] ADD  CONSTRAINT [DF_Tabla_De_Ofertas_Gratis]  DEFAULT ((0)) FOR [Gratis]
GO
ALTER TABLE [dbo].[Tabla_De_Ofertas] ADD  CONSTRAINT [DF_Tabla_De_Ofertas_Cantidad_X_Para_Bonificacion_Por_Consultas]  DEFAULT ((0)) FOR [Cantidad_X_Para_Bonificacion_Por_Consultas]
GO
ALTER TABLE [dbo].[Tabla_De_Ofertas] ADD  CONSTRAINT [DF_Tabla_De_Ofertas_Dos_Por_Uno_En_Impresiones]  DEFAULT ((0)) FOR [Dos_Por_Uno_En_Impresiones]
GO
ALTER TABLE [dbo].[Tabla_De_Precios] ADD  CONSTRAINT [DF_Tabla_De_Precios_Valor_Ejercicio]  DEFAULT ((0)) FOR [Valor_Ejercicio]
GO
ALTER TABLE [dbo].[Tabla_De_Precios] ADD  CONSTRAINT [DF_Tabla_De_Precios_Valor_Explicacion]  DEFAULT ((0)) FOR [Valor_Explicacion]
GO
ALTER TABLE [dbo].[Tabla_De_Precios] ADD  CONSTRAINT [DF_Tabla_De_Precios_Valor_Video]  DEFAULT ((0)) FOR [Valor_Video]
GO
ALTER TABLE [dbo].[Tabla_De_Precios] ADD  CONSTRAINT [DF_Table_1_Valor_Conjunto_De_Video]  DEFAULT ((0)) FOR [Valor_Conjunto_De_Videos]
GO
ALTER TABLE [dbo].[Tabla_De_Precios] ADD  CONSTRAINT [DF_Tabla_De_Precios_Valor_Explicacion_Personalizada]  DEFAULT ((0)) FOR [Valor_Explicacion_Personalizada]
GO
ALTER TABLE [dbo].[Tabla_De_Precios] ADD  CONSTRAINT [DF_Tabla_De_Precios_Valor_Video_Personalizado]  DEFAULT ((0)) FOR [Valor_Video_Personalizado]
GO
ALTER TABLE [dbo].[Tabla_De_Precios] ADD  CONSTRAINT [DF_Tabla_De_Precios_Valor_Ejercicio_Personalizado]  DEFAULT ((0)) FOR [Valor_Ejercicio_Personalizado]
GO
ALTER TABLE [dbo].[Tabla_De_Precios] ADD  CONSTRAINT [DF_Tabla_De_Precios_Valor_Impresion]  DEFAULT ((0)) FOR [Valor_Impresion]
GO
ALTER TABLE [dbo].[Tabla_De_Precios] ADD  CONSTRAINT [DF_Tabla_De_Precios_Valor_Prestamo_SOS]  DEFAULT ((0)) FOR [Valor_Prestamo_SOS]
GO
ALTER TABLE [dbo].[Tabla_De_Precios] ADD  CONSTRAINT [DF_Tabla_De_Precios_Duracion_De_Los_Videos_Y_Las_Explicaciones]  DEFAULT ((0)) FOR [Duracion_De_Los_Videos]
GO
ALTER TABLE [dbo].[Tabla_De_Precios] ADD  CONSTRAINT [DF_Tabla_De_Precios_Duracion_De_Los_Ejercicios]  DEFAULT ((0)) FOR [Duracion_De_Los_Ejercicios_Y_Las_Explicaciones]
GO
ALTER TABLE [dbo].[Tabla_De_Tarjetas_Prepagas] ADD  CONSTRAINT [DF_Tabla_De_Tarjetas_Prepagas_Activacion_De_La_Tarjeta]  DEFAULT ((1)) FOR [Activacion_De_La_Tarjeta]
GO
ALTER TABLE [dbo].[Tabla_De_Temas] ADD  CONSTRAINT [DF_Tabla_De_Temas_Etiqueta_Tema]  DEFAULT ((0)) FOR [Etiqueta_Tema]
GO
ALTER TABLE [dbo].[Tabla_De_Usuarios] ADD  CONSTRAINT [DF_Tabla_De_Usuarios_Activacion_De_Usuarios]  DEFAULT ((0)) FOR [Activacion_De_Usuarios]
GO
ALTER TABLE [dbo].[Tabla_Mis_Ejercicios] ADD  CONSTRAINT [DF_Tabla_Mis_Ejercicios_Ejercicio]  DEFAULT ((0)) FOR [Ejercicio]
GO
ALTER TABLE [dbo].[Tabla_Mis_Ejercicios] ADD  CONSTRAINT [DF_Tabla_Mis_Ejercicios_Explicacion]  DEFAULT ((0)) FOR [Explicacion]
GO
ALTER TABLE [dbo].[Tabla_Busqueda_De_Ejercicios_Por_Etiquetas]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_Busqueda_De_Ejercicio_Por_Etiquetas_Tabla_De_Ejercicios] FOREIGN KEY([ID_Ejercicio])
REFERENCES [dbo].[Tabla_De_Ejercicios] ([ID_Ejercicio])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_Busqueda_De_Ejercicios_Por_Etiquetas] CHECK CONSTRAINT [FK_Tabla_Busqueda_De_Ejercicio_Por_Etiquetas_Tabla_De_Ejercicios]
GO
ALTER TABLE [dbo].[Tabla_Cantidad_De_Consultas_Para_Empresas]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_Cantidad_De_Consultas_Para_Empresas_Tabla_De_Empresas] FOREIGN KEY([ID_Empresa])
REFERENCES [dbo].[Tabla_De_Empresas] ([ID_Empresa])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_Cantidad_De_Consultas_Para_Empresas] CHECK CONSTRAINT [FK_Tabla_Cantidad_De_Consultas_Para_Empresas_Tabla_De_Empresas]
GO
ALTER TABLE [dbo].[Tabla_Consultas_Supervisores]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_Consultas_Supervisores_Tabla_De_Empresas] FOREIGN KEY([ID_Empresa])
REFERENCES [dbo].[Tabla_De_Empresas] ([ID_Empresa])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_Consultas_Supervisores] CHECK CONSTRAINT [FK_Tabla_Consultas_Supervisores_Tabla_De_Empresas]
GO
ALTER TABLE [dbo].[Tabla_Datos_De_Usuarios]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_Datos_De_Usuarios_Tabla_De_Usuarios] FOREIGN KEY([ID_Usuario])
REFERENCES [dbo].[Tabla_De_Usuarios] ([ID_Usuario])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_Datos_De_Usuarios] CHECK CONSTRAINT [FK_Tabla_Datos_De_Usuarios_Tabla_De_Usuarios]
GO
ALTER TABLE [dbo].[Tabla_Datos_Extra_De_Usuarios]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_Datos_Extra_De_Usuarios_Tabla_De_Usuarios] FOREIGN KEY([ID_Usuario])
REFERENCES [dbo].[Tabla_De_Usuarios] ([ID_Usuario])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_Datos_Extra_De_Usuarios] CHECK CONSTRAINT [FK_Tabla_Datos_Extra_De_Usuarios_Tabla_De_Usuarios]
GO
ALTER TABLE [dbo].[Tabla_De_Activacion_De_Ofertas]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_De_Activacion_De_Ofertas_Tabla_De_Empresas] FOREIGN KEY([ID_Empresa])
REFERENCES [dbo].[Tabla_De_Empresas] ([ID_Empresa])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_De_Activacion_De_Ofertas] CHECK CONSTRAINT [FK_Tabla_De_Activacion_De_Ofertas_Tabla_De_Empresas]
GO
ALTER TABLE [dbo].[Tabla_De_Administradores]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_De_Administradores_Tabla_De_Empresas] FOREIGN KEY([ID_Empresa])
REFERENCES [dbo].[Tabla_De_Empresas] ([ID_Empresa])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_De_Administradores] CHECK CONSTRAINT [FK_Tabla_De_Administradores_Tabla_De_Empresas]
GO
ALTER TABLE [dbo].[Tabla_De_Comentario_De_Usuarios]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_De_Comentario_De_Usuarios_Tabla_De_Empresas] FOREIGN KEY([ID_Empresa])
REFERENCES [dbo].[Tabla_De_Empresas] ([ID_Empresa])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_De_Comentario_De_Usuarios] CHECK CONSTRAINT [FK_Tabla_De_Comentario_De_Usuarios_Tabla_De_Empresas]
GO
ALTER TABLE [dbo].[Tabla_De_Credito_De_Los_Usuarios]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_De_Credito_De_Los_Usuarios_Tabla_De_Usuarios] FOREIGN KEY([ID_Usuario])
REFERENCES [dbo].[Tabla_De_Usuarios] ([ID_Usuario])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_De_Credito_De_Los_Usuarios] CHECK CONSTRAINT [FK_Tabla_De_Credito_De_Los_Usuarios_Tabla_De_Usuarios]
GO
ALTER TABLE [dbo].[Tabla_De_Ejercicios]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_De_Ejercicios_Tabla_Tipo_De_Institucion] FOREIGN KEY([ID_Tipo_De_Institucion])
REFERENCES [dbo].[Tabla_Tipo_De_Institucion] ([ID_Tipo_De_Institucion])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_De_Ejercicios] CHECK CONSTRAINT [FK_Tabla_De_Ejercicios_Tabla_Tipo_De_Institucion]
GO
ALTER TABLE [dbo].[Tabla_De_Ejercicios]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_De_Ejercicios_Tabla_Tipo_De_Producto] FOREIGN KEY([ID_Tipo_De_Ejercicio])
REFERENCES [dbo].[Tabla_Tipo_De_Producto] ([ID_Tipo_De_Ejercicio])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_De_Ejercicios] CHECK CONSTRAINT [FK_Tabla_De_Ejercicios_Tabla_Tipo_De_Producto]
GO
ALTER TABLE [dbo].[Tabla_De_Explicaciones_Pedidas]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_De_Explicaciones_Pedidas_Tabla_De_Ejercicios] FOREIGN KEY([ID_Ejercicio])
REFERENCES [dbo].[Tabla_De_Ejercicios] ([ID_Ejercicio])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_De_Explicaciones_Pedidas] CHECK CONSTRAINT [FK_Tabla_De_Explicaciones_Pedidas_Tabla_De_Ejercicios]
GO
ALTER TABLE [dbo].[Tabla_De_Movimientos]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_De_Movimientos_Tabla_De_Descripcion_De_Movimientos] FOREIGN KEY([ID_Descripcion])
REFERENCES [dbo].[Tabla_De_Descripcion_De_Movimientos] ([ID_Descripcion])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_De_Movimientos] CHECK CONSTRAINT [FK_Tabla_De_Movimientos_Tabla_De_Descripcion_De_Movimientos]
GO
ALTER TABLE [dbo].[Tabla_De_Movimientos]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_De_Movimientos_Tabla_De_Usuarios] FOREIGN KEY([ID_Usuario])
REFERENCES [dbo].[Tabla_De_Usuarios] ([ID_Usuario])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_De_Movimientos] CHECK CONSTRAINT [FK_Tabla_De_Movimientos_Tabla_De_Usuarios]
GO
ALTER TABLE [dbo].[Tabla_De_Ofertas]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_De_Ofertas_Tabla_De_Empresas] FOREIGN KEY([ID_Empresa])
REFERENCES [dbo].[Tabla_De_Empresas] ([ID_Empresa])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_De_Ofertas] CHECK CONSTRAINT [FK_Tabla_De_Ofertas_Tabla_De_Empresas]
GO
ALTER TABLE [dbo].[Tabla_De_Precios]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_De_Precios_Tabla_De_Empresas] FOREIGN KEY([ID_Empresa])
REFERENCES [dbo].[Tabla_De_Empresas] ([ID_Empresa])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_De_Precios] CHECK CONSTRAINT [FK_Tabla_De_Precios_Tabla_De_Empresas]
GO
ALTER TABLE [dbo].[Tabla_De_Tarjetas_Prepagas]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_De_Tarjetas_Prepagas_Tabla_De_Empresas] FOREIGN KEY([ID_Empresa])
REFERENCES [dbo].[Tabla_De_Empresas] ([ID_Empresa])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_De_Tarjetas_Prepagas] CHECK CONSTRAINT [FK_Tabla_De_Tarjetas_Prepagas_Tabla_De_Empresas]
GO
ALTER TABLE [dbo].[Tabla_De_Usuarios]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_De_Usuarios_Tabla_De_Empresas] FOREIGN KEY([ID_Empresa])
REFERENCES [dbo].[Tabla_De_Empresas] ([ID_Empresa])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_De_Usuarios] CHECK CONSTRAINT [FK_Tabla_De_Usuarios_Tabla_De_Empresas]
GO
ALTER TABLE [dbo].[Tabla_MATH_De_Ejercicios]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_MATH_De_Ejercicios_Tabla_De_Ejercicios] FOREIGN KEY([ID_Ejercicio])
REFERENCES [dbo].[Tabla_De_Ejercicios] ([ID_Ejercicio])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_MATH_De_Ejercicios] CHECK CONSTRAINT [FK_Tabla_MATH_De_Ejercicios_Tabla_De_Ejercicios]
GO
ALTER TABLE [dbo].[Tabla_Mis_Ejercicios]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_Mis_Ejercicios_Tabla_De_Ejercicios] FOREIGN KEY([ID_Ejercicio])
REFERENCES [dbo].[Tabla_De_Ejercicios] ([ID_Ejercicio])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_Mis_Ejercicios] CHECK CONSTRAINT [FK_Tabla_Mis_Ejercicios_Tabla_De_Ejercicios]
GO
ALTER TABLE [dbo].[Tabla_Mis_Ejercicios]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_Mis_Ejercicios_Tabla_De_Usuarios] FOREIGN KEY([ID_Usuario])
REFERENCES [dbo].[Tabla_De_Usuarios] ([ID_Usuario])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_Mis_Ejercicios] CHECK CONSTRAINT [FK_Tabla_Mis_Ejercicios_Tabla_De_Usuarios]
GO
ALTER TABLE [dbo].[Tabla_Mis_Explicaciones]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_Mis_Explicaciones_Tabla_De_Ejercicios] FOREIGN KEY([ID_Ejercicio])
REFERENCES [dbo].[Tabla_De_Ejercicios] ([ID_Ejercicio])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_Mis_Explicaciones] CHECK CONSTRAINT [FK_Tabla_Mis_Explicaciones_Tabla_De_Ejercicios]
GO
ALTER TABLE [dbo].[Tabla_Mis_Explicaciones]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_Mis_Explicaciones_Tabla_De_Usuarios] FOREIGN KEY([ID_Usuario])
REFERENCES [dbo].[Tabla_De_Usuarios] ([ID_Usuario])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_Mis_Explicaciones] CHECK CONSTRAINT [FK_Tabla_Mis_Explicaciones_Tabla_De_Usuarios]
GO
ALTER TABLE [dbo].[Tabla_Ubicacion_De_Los_Ejercicios]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_Ubicacion_De_Los_Ejercicios_Tabla_De_Ejercicios] FOREIGN KEY([ID_Ejercicio])
REFERENCES [dbo].[Tabla_De_Ejercicios] ([ID_Ejercicio])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_Ubicacion_De_Los_Ejercicios] CHECK CONSTRAINT [FK_Tabla_Ubicacion_De_Los_Ejercicios_Tabla_De_Ejercicios]
GO
ALTER TABLE [dbo].[Tabla_URL_Cuenta_Digital]  WITH CHECK ADD  CONSTRAINT [FK_Tabla_URL_Cuenta_Digital_Tabla_De_Empresas] FOREIGN KEY([ID_Empresa])
REFERENCES [dbo].[Tabla_De_Empresas] ([ID_Empresa])
ON UPDATE CASCADE
ON DELETE CASCADE
GO
ALTER TABLE [dbo].[Tabla_URL_Cuenta_Digital] CHECK CONSTRAINT [FK_Tabla_URL_Cuenta_Digital_Tabla_De_Empresas]
GO
/****** Object:  StoredProcedure [dbo].[Actualizar_Activar_Oferta_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Actualizar_Activar_Oferta_Supervisor](@ID_Empresa int, @Oferta_1 bit, @Oferta_2 bit, @Oferta_3 bit, @Oferta_4 bit,@Oferta_5 bit,@Oferta_6 bit,@Oferta_7 bit,@Oferta_8 bit, @Oferta_9 bit, @Oferta_10 bit, @Oferta_11 bit, @Oferta_12 bit, @Oferta_13 bit, @Oferta_14 bit,@Oferta_15 bit)as

Begin try

	Update Tabla_De_Activacion_De_Ofertas set Oferta_1 = @Oferta_1, Oferta_2 = @Oferta_2, Oferta_3 = @oferta_3, Oferta_4 = @Oferta_4, Oferta_5 = @Oferta_5, Oferta_6 = @Oferta_6, Oferta_7 = @Oferta_7, Oferta_8 = @oferta_8, Oferta_9 = @Oferta_9, Oferta_10 = @Oferta_10, Oferta_11 = @Oferta_11, Oferta_12 = @Oferta_12, Oferta_13 = @Oferta_13,Oferta_14 = @Oferta_14, Oferta_15 = @Oferta_15 where ID_Empresa = @ID_Empresa 

	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Actualizar_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Actualizar_Administrador](@Administrador nvarchar(10),@Password nvarchar(10))as
begin try

	update Tabla_De_Administradores set Password = @Password where Administrador = @Administrador 

	return 1
end try

begin catch

	return -6
end catch	
GO
/****** Object:  StoredProcedure [dbo].[Actualizar_Administrador_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE proc [dbo].[Actualizar_Administrador_Dios] (@ID_Administrador int,@Empresa nvarchar(20), @Administrador nvarchar(10), @Password nvarchar(10),@IP_Address nvarchar(20),@Bloqueo bit) as

Begin try

	Declare @Identificador int 

	Declare @ID_Empresa int

	Select @Identificador = ID_Administrador from Vista_Administradores where Administrador = @Administrador and Empresa = @Empresa

	if (@ID_Administrador <> @Identificador)

	begin

		return 0

	end

	Select @ID_Empresa = ID_Empresa from Tabla_De_Empresas where Empresa = @Empresa

	if @ID_Empresa is null
	
		Begin
	
			return 2

		End

	Update Tabla_De_Administradores set Administrador = @Administrador, ID_Empresa = @ID_Empresa, IP_Address = @IP_Address, Administrador_Bloqueado = @Bloqueo, Password = @Password where @ID_Administrador = ID_Administrador

	return 1

end try

Begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Actualizar_Administrador_En_Tabla_De_Categoria]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Actualizar_Administrador_En_Tabla_De_Categoria](@Administrador nvarchar(10),@ID_Empresa int,@A1 int, @A2 int, @A3 int, @B1 int, @B2 int, @B3 int, @C1 int, @D1 int, @D2 int, @E1 int, @E2 int, @E3 int, @F1 int, @F2 int, @F3 int, @G1 int, @G2 int, @G3 int) as

begin try

	declare @ID_Administrador int
	
	select @ID_Administrador = ID_Administrador from Tabla_De_Administradores where Administrador = @Administrador
	
	if exists (select ID_Administrador from Vista_Categoria where ID_Administrador = @ID_Administrador and ID_Empresa = @ID_Empresa)
	
	begin 
	
		update Tabla_De_Categorias set Categoria_A1 = @A1, Categoria_A2 = @A2, Categoria_A3 = @A3, Categoria_B1 = @B1, Categoria_B2 = @B2, Categoria_B3 = @B3, Categoria_C1 = @C1, Categoria_D1 = @D1, Categoria_D2 = @D2, Categoria_E1 = @E1, Categoria_E2 = @E2, Categoria_E3 = @E3, Categoria_F1 = @F1, Categoria_F2 = @F2, Categoria_F3 = @F3, Categoria_G1 = @G1, Categoria_G2 = @G2, Categoria_G3 = @G3 where ID_Administrador = @ID_Administrador
		return 1

	end
	
end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Actualizar_Administrador_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Actualizar_Administrador_Supervisor] (@ID_Administrador int,@Empresa nvarchar(20), @Administrador nvarchar(10), @Password nvarchar(10),@IP_Address nvarchar(20),@Bloqueo bit) as

Declare @Identificador int 

Select @Identificador = ID_Administrador from Vista_Administradores where Administrador = @Administrador and Empresa = @Empresa

begin try

	if (@ID_Administrador <> @Identificador)

		begin

			return 0

		end

	Update Tabla_De_Administradores set Administrador = @Administrador, IP_Address = @IP_Address, Administrador_Bloqueado = @Bloqueo, Password = @Password where @ID_Administrador = ID_Administrador

	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Actualizar_Carga_De_Credito_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

create proc [dbo].[Actualizar_Carga_De_Credito_Supervisor] (@ID_Usuario int, @Plata money, @Descripcion int, @IP_Address nvarchar(20)) as

begin try

	Declare @Control_Pedido bit

	Declare @Prestamo money

	Declare @Control_Plata money

	Declare @Control_IP bit

	select @Control_Plata =  Credito_De_Usuario, @Prestamo = Prestamo_Real_Al_Usuario, @Control_Pedido = Pedido_De_Prestamo from Tabla_De_Credito_De_Los_Usuarios where ID_Usuario = @ID_Usuario

	if @Descripcion = 36

		begin

			select @Control_Plata = Credito_De_Usuario from Tabla_De_Credito_De_Los_Usuarios where ID_Usuario = @ID_Usuario

			set @Control_Plata = @Control_Plata + @Plata

			update Tabla_De_Credito_De_Los_Usuarios set Credito_De_Usuario = @Control_Plata where ID_Usuario = @ID_Usuario

			insert into Tabla_De_Movimientos (ID_Usuario,ID_Descripcion,IP_Address,Plata_Haber) values (@ID_Usuario,36,@IP_Address,@Plata)

			return 1

		end

	if @Descripcion = 35

		begin
	
			if @Control_Plata >= @Plata	
	
				begin
		
					set @Control_Plata = @Control_Plata - @Plata

					update Tabla_De_Credito_De_Los_Usuarios set Credito_De_Usuario = @Control_Plata where ID_Usuario = @ID_Usuario

					insert into Tabla_De_Movimientos (ID_Usuario,ID_Descripcion,IP_Address,Plata_Haber) values (@ID_Usuario,@Descripcion,@IP_Address,@Plata)

					return 1

				end

			else

		begin
					
			return 0

		end

	end
else

begin
	
	if @Control_Pedido = 1
	
	begin
	
		if @Plata >= @Prestamo
		
		begin
		
			Set @Control_Plata = @Control_Plata + (@Plata - @Prestamo) -- descuenta el prestamo

			Update Tabla_De_Credito_De_Los_Usuarios set Prestamo_Real_Al_Usuario = 0, Pedido_De_Prestamo = 0, Credito_De_Usuario = @Control_Plata where ID_Usuario = @ID_Usuario -- actualiza todos los campos referidos al prestamo

			Insert into Tabla_De_Movimientos (ID_Usuario, ID_Descripcion, IP_Address, Plata_Haber) Values (@ID_Usuario, @Descripcion , @IP_Address, @Plata) -- inserta la cantidad de plata real 
					
			Insert into Tabla_De_Movimientos (ID_Usuario, ID_Descripcion, IP_Address, Plata_Debe) Values (@ID_Usuario, 4, @IP_Address, @Prestamo) -- inserta la devolucion total del prestamo en la tabla de movimientos

			Select @Control_IP = Bloqueo_IP from Tabla_De_IP_Bloqueadas where IP_Address = @IP_Address -- analiza si desbloquea la ip si estaba bloqueada
					
			if @Control_IP = 1 -- ip bloqueada

				Begin

					Delete from Tabla_De_IP_Bloqueadas where IP_Address = @IP_Address -- desbloqueado la ip borrandolo de la tabla							

					Return 1

				End
			
			Else -- ip no bloqueada

				Begin

					Return 1

				End

		end

		Else -- no paga todo el prestamo 

		Begin 

				Set @Prestamo = @Prestamo - @Plata -- calculo de la plata que le queda al usuario porque pidio un prestamo

				Update Tabla_De_Credito_De_Los_Usuarios set Prestamo_Real_Al_Usuario = @Prestamo where ID_Usuario = @ID_Usuario -- actualiza el prestamo pedido por el usuario y descuenta la parte que cargo

				Insert into Tabla_De_Movimientos (ID_Usuario, ID_Descripcion, IP_Address, Plata_Haber) Values (@ID_Usuario, @Descripcion , @IP_Address, @Plata) -- inserta la cantidad de plata real 
				
				Insert into Tabla_De_Movimientos (ID_Usuario, ID_Descripcion, IP_Address, Plata_Debe) Values (@ID_Usuario, 3, @IP_Address, @Prestamo) -- inserta la devolucion del prestamo parcial del usuario

				Return 1

		End

	end
	
	Else

	Begin -- no pidio un prestamo
			
		Set @Control_Plata = @Control_Plata + @Plata -- le sumo la plata pues no pidio prestamo

		Update Tabla_De_Credito_De_Los_Usuarios set Credito_De_Usuario = @Control_Plata where ID_Usuario = @ID_Usuario -- carga su nuevo credito

		Insert into Tabla_De_Movimientos (ID_Usuario, ID_Descripcion, IP_Address, Plata_Haber) Values (@ID_Usuario, @Descripcion , @IP_Address, @Plata) -- inserta la cantidad de plata real 
		
		Return 1

	End
	
end

end try

begin catch

	return -6

end catch

GO
/****** Object:  StoredProcedure [dbo].[Actualizar_Cargar_Ejercicio_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Actualizar_Cargar_Ejercicio_Dios] (@Titulo nvarchar(50),@ID_Tipo_De_Ejercicio int,@ID_Tipo_De_Institucion int, 
@Explicacion_Realizada bit,@Enunciado_MATH nvarchar(max),@Enunciado_Limpio nvarchar(max), @Ubicacion_Respuesta_De_Ejercicio_Imprimible nvarchar(40),
@Ubicacion_Respuesta_De_Ejercicio_Visible nvarchar(100),@Ubicacion_Videos_Explicaciones nvarchar(40),@Etiqueta_Busqueda_Ano nvarchar(60),
@Etiqueta_Busqueda_Colegio nvarchar(60),@Etiqueta_Busqueda_Materia nvarchar(60),@Etiqueta_Busqueda_Profesor nvarchar(60) ,
@Etiqueta_Busqueda_Tema nvarchar(60), @Identificador int) as

begin try

	Update Tabla_De_Ejercicios set Titulo = @Titulo,ID_Tipo_De_Ejercicio = @ID_Tipo_De_Ejercicio,ID_Tipo_De_Institucion = @ID_Tipo_De_Institucion,Explicacion_Realizada = @Explicacion_Realizada where ID_Ejercicio = @Identificador;

	Update Tabla_MATH_De_Ejercicios set Enunciado_MATH = @Enunciado_MATH,Enunciado_Limpio = @Enunciado_Limpio where ID_Ejercicio = @Identificador;

	Update Tabla_Ubicacion_De_Los_Ejercicios set Ubicacion_Respuesta_Imprimible = @Ubicacion_Respuesta_De_Ejercicio_Imprimible,Ubicacion_Respuesta_Visible = @Ubicacion_Respuesta_De_Ejercicio_Visible, Ubicacion_Videos_Y_Explicaciones = @Ubicacion_Videos_Explicaciones where ID_Ejercicio = @Identificador

	Update Tabla_Busqueda_De_Ejercicios_Por_Etiquetas set Etiqueta_Busqueda_Ano = @Etiqueta_Busqueda_Ano,Etiqueta_Busqueda_Colegio = @Etiqueta_Busqueda_Colegio,Etiqueta_Busqueda_Materia = @Etiqueta_Busqueda_Materia,Etiqueta_Busqueda_Profesor = @Etiqueta_Busqueda_Profesor,Etiqueta_Busqueda_Tema = @Etiqueta_Busqueda_Tema where ID_Ejercicio = @Identificador

	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Actualizar_Cargar_Ofertas_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Actualizar_Cargar_Ofertas_Supervisor](@ID_Empresa int, @Oferta_1 money, @Oferta_2 decimal(3,2), @Oferta_3 decimal(3,2), @Oferta_4 int,@Oferta_5 decimal(3,2),@Oferta_7 int, @Oferta_12 int, @Oferta_13 int,@Oferta_15 int)as

begin try

Update Tabla_De_Ofertas set 
Bonificacion_Por_Registrarse = @Oferta_1, 
Bonificacion_Por_Carga = @Oferta_2, 
Descuento_2_Compra = @Oferta_3, 
Bonificacion_Por_X_Consulta = @Oferta_4, 
Descuento_Por_Compra = @Oferta_5, 
Bonificacion_En_La_Proxima_Recarga = @Oferta_7,
Aumenta_Duracion_Todo_Lo_Comprado = @Oferta_12, 
Aumenta_Duracion_De_La_Compra_Actual = @oferta_13, 
Cantidad_X_Para_Bonificacion_Por_Consultas = @Oferta_15  
where ID_Empresa = @ID_Empresa 

return 1

end try

begin catch

return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Actualizar_Ejercicio_Pedido_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Actualizar_Ejercicio_Pedido_Administrador] (@Administrador nvarchar(20), @Realizado bit, @Identidad int) as

Begin try

	update Tabla_De_Ejercicios_Personalizados_Pedidos set Administrador = @Administrador, Realizado = @Realizado where ID_Pedido = @Identidad

	return 1

End try

Begin Catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Actualizar_Ejercicio_Pedido_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Actualizar_Ejercicio_Pedido_Supervisor] (@Administrador nvarchar(20), @Realizado bit, @Identidad int) as

Begin try

	update Tabla_De_Ejercicios_Personalizados_Pedidos set Administrador = @Administrador, Realizado = @Realizado where ID_Pedido = @Identidad

	return 1

End try

Begin Catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Actualizar_Ejercicio_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Actualizar_Ejercicio_Supervisor] (@Identidad int, @Dias_Que_Restan_Para_El_Producto int)as
begin try	
	update Tabla_Mis_Ejercicios set Dias_Que_Restan_Para_Usar_El_Producto = @Dias_Que_Restan_Para_El_Producto where ID_Ejercicio = @Identidad 
	return 1	
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Actualizar_Explicacion_Pedida_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Actualizar_Explicacion_Pedida_Administrador] (@Administracion nvarchar(20),@Realizado bit, @Identificador int) as

begin try

	update Tabla_De_Explicaciones_Pedidas set Administrador = @Administracion, Realizado = @Realizado where ID_Consulta = @Identificador
	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Actualizar_Explicacion_Pedida_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Actualizar_Explicacion_Pedida_Supervisor] (@Administracion nvarchar(20),@Realizado bit, @Identificador int) as

begin try

	update Tabla_De_Explicaciones_Pedidas set Administrador = @Administracion, Realizado = @Realizado where ID_Consulta = @Identificador
	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Actualizar_Precios_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Actualizar_Precios_Supervisor](@ID_Empresa int, @Valor_Ejercicio money, @Valor_Ejercicio_Explicado money, @Valor_Video money, @Valor_Conjunto_De_Videos money,@Valor_Explicacion_Personalizada money,@Valor_Video_Personalizado money,@Valor_Ejercicio_Personalizado money,  @Valor_Impresion money, @Valor_Prestamo_SOS money, @Duracion_Videos int, @Duracion_Ejercicios int)as

begin try

	Update Tabla_De_Precios set Valor_Ejercicio = @Valor_Ejercicio, Valor_Explicacion = @Valor_Ejercicio_Explicado, Valor_Video=@Valor_Video, Valor_Conjunto_De_Videos = @Valor_Conjunto_De_Videos , Valor_Explicacion_Personalizada = @Valor_Explicacion_Personalizada, Valor_Video_Personalizado = @Valor_Video_Personalizado, Valor_Ejercicio_Personalizado = @Valor_Ejercicio_Personalizado,  Valor_Impresion = @Valor_Impresion, Valor_Prestamo_SOS = @Valor_Prestamo_SOS, Duracion_De_Los_Videos = @Duracion_Videos, Duracion_De_Los_Ejercicios_Y_Las_Explicaciones = @Duracion_Ejercicios where ID_Empresa = @ID_Empresa 

	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Actualizar_Tarjeta_Prepaga_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Actualizar_Tarjeta_Prepaga_Supervisor](@ID_Tarjeta int,@Fecha_De_Vencimiento date, @Activacion_De_La_tarjeta bit) as
begin try
	update Tabla_De_Tarjetas_Prepagas set Fecha_De_Vencimiento = @Fecha_De_Vencimiento, Activacion_De_La_tarjeta = @Activacion_De_La_tarjeta where ID_Tarjeta = @ID_Tarjeta

	return 1
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Actualizar_URL_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Actualizar_URL_Dios] (@URL nvarchar(max),@Identidad int) as
begin try

	update Tabla_URL_Cuenta_Digital set URL = @URL where ID_Empresa = @Identidad

	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Actualizar_Usuario_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Actualizar_Usuario_Supervisor](@Comparar_Correo nvarchar(30),@Activacion_Usuario bit,@Identificador int,@ID_Empresa int, @Correo nvarchar(30), @Usuario_Skype nvarchar(30), @Numero_De_Celular nvarchar(20),@Modelo_De_Celular nvarchar(50), @Usuario nvarchar(10)) as
begin try
	
	if @Comparar_Correo <> @Correo
		begin
			if exists (select ID_Usuario from Tabla_De_Usuarios where Correo = @Correo and ID_Empresa = @ID_Empresa)
				begin
					return 0
				end 
		end

	update Tabla_De_Usuarios set Correo = @Correo, Activacion_De_Usuarios = @Activacion_Usuario where ID_Usuario = @Identificador
	update Tabla_Datos_De_Usuarios set Usuario_De_Skype = @Usuario_Skype, Numero_De_Celular = @Numero_De_Celular, Modelo_De_Celular = @Modelo_De_Celular where ID_Usuario = @Identificador

	return 1
	

end try

begin Catch

	return -6

end catch

GO
/****** Object:  StoredProcedure [dbo].[Actualizar_Video_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Actualizar_Video_Supervisor] (@Identidad int, @Dias_Que_Restan_Para_El_Producto int)as
begin try	
	update Tabla_Mis_Explicaciones set Dias_Que_Restan_Para_Usar_El_Producto = @Dias_Que_Restan_Para_El_Producto where ID_Ejercicio = @Identidad 
	return 1	
end try
begin catch
	return -6
end catch

GO
/****** Object:  StoredProcedure [dbo].[Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Administrador] (@ID_Administrador int) as

begin try

	select * from Tabla_De_Administradores Where ID_Administrador = @ID_Administrador

	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Anos]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Anos] (@Var1 nvarchar(20),@Var2 nvarchar(20),@Var3 nvarchar(20)) as

begin try
	
	Declare @Etiqueta_Ano int

	select @Etiqueta_Ano = Etiqueta_Ano from Tabla_De_Anos where Ano = @Var1 or Ano = @Var2 or Ano = @Var3
	
	if @Etiqueta_Ano is null

		begin
		
			select @Etiqueta_Ano = max(Etiqueta_Ano) from Tabla_De_Anos

			if @Etiqueta_Ano is null 
		
				begin 
					set @Etiqueta_Ano = 0				
				end
				set @Etiqueta_Ano = @Etiqueta_Ano + 1
				
		
			if (@Var1 <> '')
		
				begin
					
					insert into Tabla_De_Anos (Ano,Etiqueta_Ano) values (@Var1,@Etiqueta_Ano)
					
				end
		
			if (@Var2 <> '')
		
				begin
		
					insert into Tabla_De_Anos (Ano,Etiqueta_Ano) values (@Var2,@Etiqueta_Ano)
					
				end
		
			if (@Var3 <> '')
		
				begin
				
					insert into Tabla_De_Anos (Ano,Etiqueta_Ano) values (@Var3,@Etiqueta_Ano)
					
				end
	
		end	

	else	

		begin
		
			if @Etiqueta_Ano is null 

				begin 

					set @Etiqueta_Ano = 1
					
				end

			if not exists (select Etiqueta_Ano from Tabla_De_Anos where Ano = @Var1) 
		
				begin
					if (@Var1 <> '')
						begin
							insert into Tabla_De_Anos (Ano,Etiqueta_Ano) values (@Var1,@Etiqueta_Ano)
							
						end
				end
		
			if not exists (select Etiqueta_Ano from Tabla_De_Anos where Ano = @Var2) 
			
				begin
					if (@Var2 <> '')
						begin
							insert into Tabla_De_Anos (Ano,Etiqueta_Ano) values (@Var2,@Etiqueta_Ano)
							
						end
				end
		
			if not exists (select Etiqueta_Ano from Tabla_De_Anos where Ano = @Var3) 
			
				begin
					if (@Var3 <> '')
						begin
							insert into Tabla_De_Anos (Ano,Etiqueta_Ano) values (@Var3,@Etiqueta_Ano)
							
						end
				end

		end 
end try
begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Bonificacion_Por_Carga_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Bonificacion_Por_Carga_Supervisor](@ID_Usuario int, @ID_Empresa int, @IP_Address nvarchar(20), @Plata money, @Premio_2 decimal(18,2) output) as

Begin Try
	
	Declare @Bonificacion_Por_Carga decimal(3,2) -- variable declarada para calcular la bonificacion del producto

	Declare @Credito_Usuario money -- variable auxiliar para determinar la plata del cliente

	select @Bonificacion_Por_Carga = Bonificacion_Por_Carga from Tabla_De_Ofertas where ID_Empresa = @ID_Empresa -- Obtener la bonificacion por la carga segun la empresa

	Select @Credito_Usuario = Credito_De_Usuario from Tabla_De_Credito_De_Los_Usuarios where ID_Usuario = @ID_Usuario -- credito del usuario

	Set @Plata = @Plata * @Bonificacion_Por_Carga -- modificacion del dinero adquirido por el usuario al realizar la cuenta
		
	Insert into Tabla_De_Movimientos (ID_Usuario, ID_Descripcion, IP_Address, Plata_Haber) Values (@ID_Usuario, 22, @IP_Address, @Plata) -- inserta en los movimientos de la carga
	
	Set @Premio_2 = @Plata -- enviar el premio
			
End Try

Begin Catch

	return -6

End Catch

GO
/****** Object:  StoredProcedure [dbo].[Bonificacion_Proxima_Recarga_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Bonificacion_Proxima_Recarga_Supervisor](@ID_Usuario int, @ID_Empresa int, @Plata money, @IP_Address nvarchar(20),@Oferta bit, @Premio_1 decimal(18,2) output) as

Begin try

	Declare @Bonificacion_Recarga int
	
	select @Bonificacion_Recarga = Bonificacion_Por_Recarga from Tabla_De_Credito_De_Los_Usuarios where ID_Usuario = @ID_Usuario

	set @Premio_1 = 0

	if @Bonificacion_Recarga <> 0 -- analiza si ya tiene este beneficio averiguando en la tabla extra de usuarios de cuanto es el beneficio si es cero no hay recarga
	
		begin

			set @Plata = @Plata * (@Bonificacion_Recarga - 1) -- multiplica la carga por el beneficio asegurado en la anterior recarga

			Insert into Tabla_De_Movimientos (ID_Usuario, ID_Descripcion, IP_Address, Plata_Haber) Values (@ID_Usuario, 21, @IP_Address, @Plata) -- inserta en el movimiento del beneficio

			Update Tabla_De_Credito_De_Los_Usuarios set Bonificacion_Por_Recarga = 0 where ID_Usuario = @ID_Usuario -- borra el beneficio

			set @Premio_1 = @Plata

		end

	if @Oferta = 1 -- mira si la oferta hoy es valida

		Begin
			
			Declare @Valor_Bonificacion int -- se prepara para que la proxima recarga tenga un premio o beneficio
	
			select @Valor_Bonificacion = Bonificacion_En_La_Proxima_Recarga from Tabla_De_Ofertas Where ID_Empresa = @ID_Empresa	-- averigua en la empresa de cuanto sera el beneficio	
			
			update Tabla_De_Credito_De_Los_Usuarios set Bonificacion_Por_Recarga = @Valor_Bonificacion where ID_Usuario = @ID_Usuario  -- almacena el beneficio de la proxima recarga	
			
		End
			
End Try

Begin Catch

	return -6

End Catch


GO
/****** Object:  StoredProcedure [dbo].[Borrar_Administrador_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Borrar_Administrador_Dios](@ID_Administrador int) as

Begin Try
		
	delete from Tabla_De_Administradores where ID_Administrador = @ID_Administrador 
	return 1

End Try

Begin Catch

	return -6
	
End Catch	
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Administrador_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Borrar_Administrador_Supervisor](@ID_Administrador int) as

Begin Try
		
	delete from Tabla_De_Administradores where ID_Administrador = @ID_Administrador 
	return 1

End Try

Begin Catch

	return -6
	
End Catch	
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Comentario_Administrador_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Borrar_Comentario_Administrador_Dios](@ID_Comentario int) as

Begin Try
		
	delete from Tabla_De_Comentario_De_Administradores where ID_Comentario = @ID_Comentario 

	return 1

End Try

Begin Catch

	return -6
	
End Catch	
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Comentario_Administrador_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Borrar_Comentario_Administrador_Supervisor](@ID_Comentario int) as

Begin Try
		
	delete from Tabla_De_Comentario_De_Administradores where ID_Comentario = @ID_Comentario 

	return 1

End Try

Begin Catch

	return -6
	
End Catch	
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Comentarios_De_Usuario_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Borrar_Comentarios_De_Usuario_Dios](@Identidad int)  as

Begin try

	delete from Tabla_De_Comentario_De_Usuarios where ID_Comentario = @Identidad
	return 1
			
End Try

Begin Catch

	return -6

End Catch


GO
/****** Object:  StoredProcedure [dbo].[Borrar_Comentarios_De_Usuario_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Borrar_Comentarios_De_Usuario_Supervisor](@Identidad int)  as

Begin try

	delete from Tabla_De_Comentario_De_Usuarios where ID_Comentario = @Identidad
	return 1
			
End Try

Begin Catch

	return -6

End Catch


GO
/****** Object:  StoredProcedure [dbo].[Borrar_Consumo_Supervisores]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Borrar_Consumo_Supervisores] (@Identidad int) as
begin try

    delete from Tabla_Consultas_Supervisores where ID_Consulta = @Identidad 
	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Control_Administrador_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Borrar_Control_Administrador_Dios] (@ID_Ingreso_Egreso int) as

delete from Tabla_De_Control_De_Administradores Where ID_Ingreso_Egreso = @ID_Ingreso_Egreso


GO
/****** Object:  StoredProcedure [dbo].[Borrar_Control_Administrador_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Borrar_Control_Administrador_Supervisor] (@ID_Ingreso_Egreso int) as

delete from Tabla_De_Control_De_Administradores Where ID_Ingreso_Egreso = @ID_Ingreso_Egreso


GO
/****** Object:  StoredProcedure [dbo].[Borrar_Ejercicio_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Borrar_Ejercicio_Dios] (@Identificador int)as
begin try
	delete from Tabla_Mis_Ejercicios where ID_Ejercicio = @Identificador
	return 1
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Ejercicio_Pedido_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Borrar_Ejercicio_Pedido_Dios] (@Identificador int) as

begin try

	delete from Tabla_De_Ejercicios_Personalizados_Pedidos Where ID_Pedido = @Identificador
	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Ejercicio_Pedido_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Borrar_Ejercicio_Pedido_Supervisor] (@Identificador int) as

begin try

	delete from Tabla_De_Ejercicios_Personalizados_Pedidos Where ID_Pedido = @Identificador
	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Ejercicio_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Borrar_Ejercicio_Supervisor] (@Identificador int)as
begin try
	delete from Tabla_Mis_Ejercicios where ID_Ejercicio = @Identificador
	return 1
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Empresas_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Borrar_Empresas_Dios](@Identidad int)  as

Begin Try

	begin

		delete from Tabla_De_Empresas where ID_Empresa = @Identidad
		delete from Tabla_Cantidad_De_Consultas_Para_Empresas where ID_Empresa = @Identidad
		return 1

	end

End Try

Begin Catch

	return -6

End Catch


GO
/****** Object:  StoredProcedure [dbo].[Borrar_Explicacion_Pedida_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Borrar_Explicacion_Pedida_Dios] (@Identificador int) as

begin try

	delete from Tabla_De_Explicaciones_Pedidas where ID_Consulta = @Identificador
	return 1

End try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Explicacion_Pedida_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Borrar_Explicacion_Pedida_Supervisor] (@Identificador int) as

begin try

	delete from Tabla_De_Explicaciones_Pedidas where ID_Consulta = @Identificador
	return 1

End try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Movimiento_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Borrar_Movimiento_Dios] (@ID_Movimiento int) as
begin try

delete from Tabla_De_Movimientos where ID_Movimiento = @ID_Movimiento
return 1

end try
begin catch
return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Movimiento_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Borrar_Movimiento_Supervisor] (@ID_Movimiento int) as
begin try

delete from Tabla_De_Movimientos where ID_Movimiento = @ID_Movimiento
return 1

end try
begin catch
return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Tabla_De_Anos]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Borrar_Tabla_De_Anos] as
begin try
	truncate table Tabla_De_Anos
	return 1
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Tabla_De_Colegios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Borrar_Tabla_De_Colegios] as
begin try
	truncate table Tabla_De_Colegios
	return 1
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Tabla_De_Materias]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Borrar_Tabla_De_Materias] as
begin try
	truncate table Tabla_De_Materias
	return 1
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Tabla_De_Profesores]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Borrar_Tabla_De_Profesores] as
begin try
	truncate table Tabla_De_Profesores
	return 1
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Tabla_De_Temas]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Borrar_Tabla_De_Temas] as
begin try
	truncate table Tabla_De_Temas
	return 1
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Tarjeta_Prepaga_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Borrar_Tarjeta_Prepaga_Dios](@ID_Tarjeta int) as
begin try
	delete from Tabla_De_Tarjetas_Prepagas where ID_Tarjeta = @ID_Tarjeta
	return 1
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Tarjeta_Prepaga_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Borrar_Tarjeta_Prepaga_Supervisor](@ID_Tarjeta int) as
begin try
	delete from Tabla_De_Tarjetas_Prepagas where ID_Tarjeta = @ID_Tarjeta
	return 1
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Todas_Las_Tablas]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Borrar_Todas_Las_Tablas] (@Tabla int) as

begin try

	if (@Tabla = 14)
		begin
			truncate table Tabla_Busqueda_De_Ejercicios_Por_Etiquetas
			return 1
		end

	if (@Tabla = 27)
		begin
			truncate table Tabla_Cantidad_De_Consultas_Para_Empresas
			return 1
		end

	if(@Tabla = 28)
		begin
			truncate table Tabla_Consultas_Supervisores
			return 1
		end

	if (@Tabla = 2)
		begin
			truncate table Tabla_Datos_De_Usuarios
			return 1
		end

	if (@Tabla = 3)
		begin
			truncate table Tabla_Datos_Extra_De_Usuarios
			return 1
		end

	if(@Tabla = 18)
		begin
			truncate table Tabla_De_Activacion_De_Ofertas
			return 1
		end

	if (@Tabla = 5)
		begin
			truncate table Tabla_De_Administradores
			return 1
		end

	if (@Tabla = 9)
		begin		
			truncate table Tabla_De_Anos
			return 1
		end

	if (@Tabla = 7)
		begin		
			truncate table Tabla_De_Categorias
			return 1
		end

	if (@tabla = 10)
		begin
			truncate table Tabla_De_Colegios
			return 1
		end

	if (@Tabla = 6)
		begin
			Truncate table Tabla_De_Comentario_De_Administradores
			return 1
		end

	if (@Tabla = 4)
		begin
			truncate table Tabla_De_Comentario_De_Usuarios
			return 1
		end

	if (@Tabla = 8)
		begin
			Truncate table Tabla_De_Control_De_Administradores
			return 1
		end

Truncate table Tabla_De_Credito_De_Los_Usuarios

	if(@Tabla = 29)
		begin
			delete from Tabla_De_Descripcion_De_Movimientos
			DBCC Checkident('DBO.Tabla_De_Descripcion_De_Movimientos',RESEED,0)
			return 1
		end

	if(@Tabla = 30)
		begin
			truncate table Tabla_De_Descripcion_De_Oferta
			return 1
		end

	if(@Tabla = 20)
		begin
			delete from Tabla_De_Ejercicios
			DBCC Checkident('DBO.Tabla_De_Ejercicios',RESEED,0)
			return 1
		end

	if(@Tabla = 33)
		begin
			truncate table Tabla_De_Ejercicios_Personalizados_Pedidos
			return 1
		end

	if(@Tabla = 35)
		begin
			delete from Tabla_De_Empresas
			DBCC Checkident('DBO.Tabla_De_Empresas',RESEED,0)
		end

	if(@Tabla = 34)
		begin
			truncate table Tabla_De_Explicaciones_Pedidas
			return 1
		end

	if(@Tabla = 26)
		begin
			truncate table Tabla_De_IP_Bloqueadas
			return 1
		end

	if (@Tabla = 11)
		begin
			truncate table Tabla_De_Materias
			return 1
		end
	
	if(@Tabla = 25)
		begin
			truncate table Tabla_De_Movimientos
			return 1
		end

	if(@Tabla = 17)
		begin
			truncate table Tabla_De_Ofertas
			return 1
		end

	if(@Tabla = 15)
		begin
			truncate table Tabla_De_Precios
			return 1
		end

	if(@Tabla = 13)
		begin
			truncate table Tabla_De_Profesores
			return 1
		end

	if(@Tabla = 12)
		begin
			truncate table Tabla_de_Temas
			return 1
		end

	if(@Tabla = 16)
		begin
			truncate table Tabla_De_Tarjetas_Prepagas
			return 1
		end

	if(@Tabla = 36)
		begin
			truncate table Tabla_De_Temas
			return 1
		end

	if (@Tabla = 1)
		begin
			delete from Tabla_De_Usuarios
			DBCC Checkident('DBO.Tabla_De_Usuarios',RESEED,0)
			return 1
		end

	if(@Tabla = 22)
		begin
			delete from Tabla_MATH_De_Ejercicios
			return 1
		end

	if(@Tabla = 23)
		begin
			truncate table Tabla_Mis_Ejercicios
			return 1
		end

	if(@Tabla = 24)
		begin
			truncate table Tabla_Mis_Explicaciones
			return 1
		end
	
	if(@Tabla = 31)
		begin
			delete from Tabla_Tipo_De_Institucion
			DBCC Checkident('DBO.Tabla_Tipo_De_Institucion',RESEED,0)
			return 1
		end

	if(@Tabla = 32)
		begin
			delete from Tabla_Tipo_De_Producto
			DBCC Checkident('DBO.Tabla_Tipo_De_Institucion',RESEED,0)
			return 1
		end

	if(@Tabla = 21)
		begin
			delete from Tabla_Ubicacion_De_Los_Ejercicios
			return 1
		end

	if(@Tabla = 19)
		begin
			truncate table Tabla_URL_Cuenta_Digital
			return 1
		end

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Usuario_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Borrar_Usuario_Dios](@Identificador int) as

begin try
	
	delete from Tabla_De_Credito_De_Los_Usuarios where ID_Usuario = @Identificador
	
	delete from Tabla_Datos_Extra_De_Usuarios where ID_Usuario = @Identificador
	delete from Tabla_Datos_De_Usuarios where ID_Usuario = @Identificador
	delete from Tabla_De_Usuarios where ID_Usuario = @Identificador
	return 1

End Try

Begin Catch
	return -6
end Catch
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Usuario_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Borrar_Usuario_Supervisor](@Identificador int) as

begin try
	
	delete from Tabla_De_Credito_De_Los_Usuarios where ID_Usuario = @Identificador
	
	delete from Tabla_Datos_Extra_De_Usuarios where ID_Usuario = @Identificador
	delete from Tabla_Datos_De_Usuarios where ID_Usuario = @Identificador
	delete from Tabla_De_Usuarios where ID_Usuario = @Identificador
	return 1

End Try

Begin Catch
	return -6
end Catch
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Video_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Borrar_Video_Dios] (@Identificador int)as
begin try
	delete from Tabla_Mis_Explicaciones where ID_Ejercicio = @Identificador
	return 1
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Borrar_Video_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Borrar_Video_Supervisor] (@Identificador int)as
begin try
	delete from Tabla_Mis_Explicaciones where ID_Ejercicio = @Identificador
	return 1
end try
begin catch
	return -6
end catch

GO
/****** Object:  StoredProcedure [dbo].[Buscar_Administrador_En_Tabla_De_Categoria]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE proc [dbo].[Buscar_Administrador_En_Tabla_De_Categoria](@Administrador nvarchar(10),@ID_Empresa int) as

begin try
	
	declare @ID_Administrador int
	
	select @ID_Administrador = ID_Administrador from Tabla_De_Administradores where Administrador = @Administrador
	
	if exists (select ID_Administrador from Vista_Categoria where ID_Administrador = @ID_Administrador and ID_Empresa = @ID_Empresa)
	
	begin 
	
		return 1

	end
	
end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Buscar_En_Tabla_Anos]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Buscar_En_Tabla_Anos](@Ano nvarchar(150)) as

Begin Try -- buscar si el profesor esta contenido en la tabla de ano
	select ID_Ano, Etiqueta_Ano from Tabla_De_Anos  where contains (Ano,@Ano)
	return 1
End Try

Begin Catch

	return -6

End Catch



GO
/****** Object:  StoredProcedure [dbo].[Buscar_En_Tabla_Colegios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Buscar_En_Tabla_Colegios](@Colegio nvarchar(150)) as

Begin Try -- buscar si el profesor esta contenido en la tabla de colegios

	select ID_Colegio, Etiqueta_Colegio from Tabla_De_Colegios where contains (Colegio,@Colegio)
	return 1

End Try

Begin Catch

	return -6

End Catch



GO
/****** Object:  StoredProcedure [dbo].[Buscar_En_Tabla_Materias]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Buscar_En_Tabla_Materias](@Materia nvarchar(150)) as

Begin Try -- buscar si el profesor esta contenido en la tabla de materias

	select ID_Materia, Etiqueta_Materia from Tabla_De_Materias  where contains (Materia,@Materia)
	return 1

End Try

Begin Catch

	return -6

End Catch



GO
/****** Object:  StoredProcedure [dbo].[Buscar_En_Tabla_Profesores]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Buscar_En_Tabla_Profesores](@Profesor nvarchar(150)) as

Begin Try -- buscar si el profesor esta contenido en la tabla de profesores

	select ID_Profesor, Etiqueta_Profesor from Tabla_De_Profesores  where contains (Profesor,@Profesor)
	return 1

End Try

Begin Catch

	return -6

End Catch



GO
/****** Object:  StoredProcedure [dbo].[Buscar_En_Tabla_Temas]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Buscar_En_Tabla_Temas](@Tema nvarchar(150)) as

Begin Try -- buscar si el profesor esta contenido en la tabla de Tema

	select ID_Tema, Etiqueta_Tema from Tabla_De_Temas where contains (Tema,@Tema)
	return 1

End Try

Begin Catch

	return -6

End Catch

GO
/****** Object:  StoredProcedure [dbo].[Buscar_Ofertas_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Buscar_Ofertas_Supervisor](@ID_Empresa int,@Oferta nvarchar(9)) as

Begin Try
	
	if exists (select ID_Empresa from Tabla_De_Activacion_De_Ofertas where ID_Empresa = @ID_Empresa and Oferta_2 = 1 and @Oferta = 'Oferta_2') -- Bonificcion por carga de credito
		
		Begin 

			return 1

		End

		
	if exists (select ID_Empresa from Tabla_De_Activacion_De_Ofertas where ID_Empresa = @ID_Empresa and Oferta_7 = 1 and @Oferta = 'Oferta_7') -- Bonificacion por Recarga (proxima carga)
		
		Begin 

			return 1

		End
		
		return 0 -- no existe esta oferta

End Try

Begin Catch
	
	return -6 -- no se conecto a la base de datos

End Catch	


GO
/****** Object:  StoredProcedure [dbo].[Buscar_Respuestas_Ejercicios_Supervisores]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Buscar_Respuestas_Ejercicios_Supervisores](@ID_Ejercicio int, @Administrador nvarchar(10), @ID_Empresa int) as

begin try 
		
	declare @Cantidad int
	declare @Existencia nvarchar(40)
	select @Cantidad = Consultas_Permitidas_Ejercicios from Tabla_Cantidad_De_Consultas_Para_Empresas where ID_Empresa = @ID_Empresa

		if (@Cantidad > 0)
			begin
				select @Existencia = Ubicacion_Respuesta_Imprimible from Tabla_Ubicacion_De_Los_Ejercicios where ID_Ejercicio = @ID_Ejercicio
				if @Existencia is not null
					begin	
						insert into Tabla_Consultas_Supervisores (Administrador, Fecha_De_Consulta, ID_Empresa, Tipo_De_Consulta) values (@Administrador, GETDATE(), @ID_Empresa, 'Ejercicios')
						update Tabla_Cantidad_De_Consultas_Para_Empresas set Consultas_Permitidas_Ejercicios = (@Cantidad - 1) where ID_Empresa = @ID_Empresa   
						select Ubicacion_Respuesta_Imprimible from Tabla_Ubicacion_De_Los_Ejercicios where ID_Ejercicio = @ID_Ejercicio 
						return 1
					end

			end
	
	return 0
	 
end try

begin catch

	return -6;

end catch
GO
/****** Object:  StoredProcedure [dbo].[Buscar_Respuestas_Videos_Supervisores]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Buscar_Respuestas_Videos_Supervisores](@Var1 nvarchar(20),@Var2 nvarchar(20),@Var3 nvarchar(20),@Var4 nvarchar(20),@Var5 nvarchar(20),@Var6 nvarchar(20),@Var7 nvarchar(20),@Var8 nvarchar(20),@Var9 nvarchar(20),@Var10 nvarchar(20), @Administrador nvarchar(10), @ID_Empresa int) as

begin try 
		
	declare @Cantidad int
	select @Cantidad = Consultas_Permitidas_Videos from Tabla_Cantidad_De_Consultas_Para_Empresas where ID_Empresa = @ID_Empresa

		if (@Cantidad > 0)
			begin
				
				insert into Tabla_Consultas_Supervisores (Administrador, Fecha_De_Consulta, ID_Empresa, Tipo_De_Consulta) values (@Administrador, GETDATE(), @ID_Empresa, 'Videos')
				update Tabla_Cantidad_De_Consultas_Para_Empresas set Consultas_Permitidas_Videos = (@Cantidad - 1) where ID_Empresa = @ID_Empresa   

				if @var10 is not null
					begin
						if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and  Contains (Enunciado_Limpio,@Var9) and Contains (Enunciado_Limpio,@Var10) and ID_Tipo_De_Ejercicio = 3)
							begin
								select * from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and  Contains (Enunciado_Limpio,@Var9) and Contains (Enunciado_Limpio,@Var10) and ID_Tipo_De_Ejercicio = 3
					
								return 1
							end
						end

				if @var9 is not null
					begin
						if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and  Contains (Enunciado_Limpio,@Var9) and ID_Tipo_De_Ejercicio = 3)
							begin
								select * from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and  Contains (Enunciado_Limpio,@Var9) and ID_Tipo_De_Ejercicio = 3
								return 1
							end
					end

				if @var8 is not null
					begin
						if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and ID_Tipo_De_Ejercicio = 3)
							begin
								select * from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and ID_Tipo_De_Ejercicio = 3
								return 1
							end
						end

				if @var7 is not null
					begin
						if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and ID_Tipo_De_Ejercicio = 3)
							begin
								select * from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and ID_Tipo_De_Ejercicio = 3
								return 1
							end
					end

				if @var6 is not null
					begin
						if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and ID_Tipo_De_Ejercicio = 3)
							begin
								select * from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and ID_Tipo_De_Ejercicio = 3
								return 1
							end
					end

				if @var5 is not null
					begin
						if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and ID_Tipo_De_Ejercicio = 3)
							begin
								select * from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and ID_Tipo_De_Ejercicio = 3
								return 1
							end
					end

				if @var4 is not null
					begin
						if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and ID_Tipo_De_Ejercicio = 3)
							begin
								select * from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4)   and ID_Tipo_De_Ejercicio = 3
								return 1
							end
						end

				if @var3 is not null
					begin
						if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and ID_Tipo_De_Ejercicio = 3)
							begin
								select * from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and ID_Tipo_De_Ejercicio = 3
								return 1
							end
					end

				if @var2 is not null
					begin
						if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and ID_Tipo_De_Ejercicio = 3)
							begin
								select * from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and ID_Tipo_De_Ejercicio = 3  
								return 1
							end
					end

				if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and ID_Tipo_De_Ejercicio = 3)
					begin
						select * from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1)  and ID_Tipo_De_Ejercicio = 3
						return 1
					end

				

			end
	
	return 0
	 
end try

begin catch

	return -6;

end catch
GO
/****** Object:  StoredProcedure [dbo].[Cargar_Datos]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Cargar_Datos] (@Titulo nvarchar(50),@ID_Tipo_De_Ejercicio int,@ID_Tipo_De_Institucion int, @Explicacion_Realizada bit,@Enunciado_MATH nvarchar(max),@Enunciado_Limpio nvarchar(max), @Ubicacion_Respuesta_De_Ejercicio_Imprimible nvarchar(40),@Ubicacion_Respuesta_De_Ejercicio_Visible nvarchar(100),@Ubicacion_Videos_Explicaciones nvarchar(40),@Etiqueta_Busqueda_Ano nvarchar(60),@Etiqueta_Busqueda_Colegio nvarchar(60),@Etiqueta_Busqueda_Materia nvarchar(60),@Etiqueta_Busqueda_Profesor nvarchar(60) ,@Etiqueta_Busqueda_Tema nvarchar(60)) as

begin try

	declare @ID_Ejercicio int

	insert into Tabla_De_Ejercicios(Titulo,ID_Tipo_De_Ejercicio,ID_Tipo_De_Institucion,Explicacion_Realizada) Values (@Titulo,@ID_Tipo_De_Ejercicio,@ID_Tipo_De_Institucion,@Explicacion_Realizada)

	select @ID_Ejercicio = max(ID_Ejercicio) from Tabla_De_Ejercicios

	insert into Tabla_MATH_De_Ejercicios (ID_Ejercicio,Enunciado_MATH,Enunciado_Limpio) values (@ID_Ejercicio,@Enunciado_MATH,@Enunciado_Limpio)

	insert into Tabla_Ubicacion_De_Los_Ejercicios (ID_Ejercicio,Ubicacion_Respuesta_Imprimible,Ubicacion_Respuesta_Visible,Ubicacion_Videos_Y_Explicaciones) values (@ID_Ejercicio,@Ubicacion_Respuesta_De_Ejercicio_Imprimible,@Ubicacion_Respuesta_De_Ejercicio_Visible,@Ubicacion_Videos_Explicaciones)

	insert into Tabla_Busqueda_De_Ejercicios_Por_Etiquetas(ID_Ejercicio,Etiqueta_Busqueda_Ano,Etiqueta_Busqueda_Colegio,Etiqueta_Busqueda_Materia,Etiqueta_Busqueda_Profesor,Etiqueta_Busqueda_Tema) Values (@ID_Ejercicio,@Etiqueta_Busqueda_Ano,@Etiqueta_Busqueda_Colegio,@Etiqueta_Busqueda_Materia,@Etiqueta_Busqueda_Profesor,@Etiqueta_Busqueda_Tema)

	return 1

end try

begin Catch

	return -6

end Catch
GO
/****** Object:  StoredProcedure [dbo].[Colegios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Colegios] (@Var1 nvarchar(40),@Var2 nvarchar(40),@Var3 nvarchar(40)) as

begin try

	Declare @Etiqueta_Colegio int

	select @Etiqueta_Colegio = Etiqueta_Colegio from Tabla_De_Colegios where Colegio = @Var1 or Colegio = @Var2 or Colegio = @Var3
	
	if @Etiqueta_Colegio is null

		begin
		
			select @Etiqueta_Colegio = max(Etiqueta_Colegio) from Tabla_De_Colegios
			
			if @Etiqueta_Colegio is null 
			
				begin 
					set @Etiqueta_Colegio = 0	
				end
					set @Etiqueta_Colegio = @Etiqueta_Colegio + 1
					
	
			if (@Var1 <> '')
		
				begin
		
					insert into Tabla_De_Colegios (Colegio,Etiqueta_Colegio) values (@Var1,@Etiqueta_Colegio)
					

				end

			if (@Var2 <> '')
				begin
		
					insert into Tabla_De_Colegios (Colegio,Etiqueta_Colegio) values (@Var2,@Etiqueta_Colegio)
					
				end
		
			if (@Var3 <> '')
				begin
		
					insert into Tabla_De_Colegios (Colegio,Etiqueta_Colegio) values (@Var3,@Etiqueta_Colegio)
					
				end
	
		end	

else	

	begin
		
		if @Etiqueta_Colegio is null 
		
			begin 
				set @Etiqueta_Colegio = 1
				
			end	
		
		if not exists (select Etiqueta_Colegio from Tabla_De_Colegios where Colegio = @Var1) 
			
			begin
				if (@Var1 <> '')
					begin
						insert into Tabla_De_Colegios(Colegio,Etiqueta_Colegio) values (@Var1,@Etiqueta_Colegio)
						
					end
			end

		if not exists (select Etiqueta_Colegio from Tabla_De_Colegios where Colegio = @Var2) 
			begin
				if (@Var2 <> '')
					begin
						insert into Tabla_De_Colegios(Colegio,Etiqueta_Colegio) values (@Var2,@Etiqueta_Colegio)
						
					end
			end

		if not exists (select Etiqueta_Colegio from Tabla_De_Colegios where Colegio = @Var3) 
			begin
				if (@Var3 <> '')
					begin
						insert into Tabla_De_Colegios (Colegio,Etiqueta_Colegio) values (@Var3,@Etiqueta_Colegio)
						
					end
			end
	end
end try
begin catch

	return -6
	
end catch 
GO
/****** Object:  StoredProcedure [dbo].[Contar_Administradores_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Contar_Administradores_Dios] (@Empresa nvarchar(20),@Administrador nvarchar(10),@Cantidad int output) as

Begin Try
	
	if(@Administrador = '' and @Empresa <> '' )
	
		Begin 
					
			select @Cantidad= count(ID_Administrador) from Vista_Administradores where Empresa = @Empresa
			return

		End

	
	if(@Administrador <> '' and @Empresa = '' )
		
		Begin
			
			select @Cantidad= count(ID_Administrador) from Vista_Administradores where Administrador like '%' + @Administrador + '%' and Empresa = @Empresa
			return

		End

	if(@Administrador = '' and @Empresa = '' )
		
		Begin

			select @Cantidad= count(ID_Administrador) from Vista_Administradores
			return

		end

End Try
Begin Catch
	return -6;
End Catch
GO
/****** Object:  StoredProcedure [dbo].[Contar_Administradores_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Contar_Administradores_Supervisor] (@Empresa nvarchar(20),@Administrador nvarchar(10),@Cantidad int output) as

Begin Try
	
	if(@Administrador = null )
	
		Begin 
					
			select @Cantidad= count(ID_Administrador) from Vista_Administradores where Empresa = @Empresa
			return 1

		End

	Else
		
		Begin
			
			select @Cantidad= count(ID_Administrador) from Vista_Administradores where Administrador like '%' + @Administrador + '%' and Empresa = @Empresa
			return 1

		End

End Try
Begin Catch
	return -6;
End Catch
GO
/****** Object:  StoredProcedure [dbo].[Contar_Carga_De_Credito_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Contar_Carga_De_Credito_Supervisor](@Dato nvarchar(30),@Opciones int, @Empresa nvarchar(20), @Cantidad int output)as

begin try

	if @Opciones = 1
		begin
			select @Cantidad = Count(ID_Usuario) from Vista_Credito_De_Usuario where Empresa = @Empresa
			return 1
		end 

	if @Opciones = 2
		begin
			select @Cantidad = Count(ID_Usuario) from Vista_Credito_De_Usuario where Usuario Like '%' + @Dato + '%' and Empresa = @Empresa
			return 1
		end 

	if @Opciones = 3
		begin
			select @Cantidad = Count(ID_Usuario) from Vista_Credito_De_Usuario where Correo Like '%' + @Dato + '%' and Empresa = @Empresa
			return 1
		end 

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Contar_Comentarios_Administrador_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Contar_Comentarios_Administrador_Dios](@Cantidad int output) as

Begin Try
	
	select @Cantidad = (ID_Comentario) from Vista_Comentario_Administradores

	return 
			
End Try

Begin Catch

	return -6

End Catch



GO
/****** Object:  StoredProcedure [dbo].[Contar_Comentarios_Administrador_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

create proc [dbo].[Contar_Comentarios_Administrador_Supervisor](@ID_Empresa int, @Cantidad int output) as

Begin Try
	
	select @Cantidad = (ID_Comentario) from Vista_Comentario_Administradores where ID_Empresa = @ID_Empresa

	return 
			
End Try

Begin Catch

	return -6

End Catch



GO
/****** Object:  StoredProcedure [dbo].[Contar_Comentarios_De_Usuario_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Contar_Comentarios_De_Usuario_Administrador](@ID_Empresa int, @Cantidad int output)  as

Begin try

	select @Cantidad = (ID_Comentario) from Tabla_De_Comentario_De_Usuarios where ID_Empresa = @ID_Empresa

	return 1
			
End Try

Begin Catch

	return -6

End Catch


GO
/****** Object:  StoredProcedure [dbo].[Contar_Comentarios_De_Usuario_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Contar_Comentarios_De_Usuario_Dios](@Cantidad int output)  as

Begin try

	select @Cantidad = (ID_Comentario) from Vista_Comentario_Usuarios

	return 1
			
End Try

Begin Catch

	return -6

End Catch


GO
/****** Object:  StoredProcedure [dbo].[Contar_Comentarios_De_Usuario_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Contar_Comentarios_De_Usuario_Supervisor](@ID_Empresa int, @Cantidad int output)  as

Begin try

	select @Cantidad = (ID_Comentario) from Tabla_De_Comentario_De_Usuarios where ID_Empresa = @ID_Empresa

	return 1
			
End Try

Begin Catch

	return -6

End Catch


GO
/****** Object:  StoredProcedure [dbo].[Contar_Consumo_Supervisores]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Contar_Consumo_Supervisores] (@Dato nvarchar(30), @Opcion int, @Cantidad int output) as
begin try
if @Opcion = 2
begin
select  @Cantidad = Count(ID_Consulta) from Vista_Consumo_Supervisores where Administrador like '%' + @Dato + '%' 
return
end

if @Opcion = 3
begin
select @Cantidad = Count(ID_Consulta) from Vista_Consumo_Supervisores where Empresa like '%' + @Dato + '%'
end

if @Opcion = 4
begin
select @Cantidad = Count(ID_Consulta) from Vista_Consumo_Supervisores where Tipo_De_Consulta = @Dato
end

if @Opcion = 1
begin
select @Cantidad = Count(ID_Consulta)  from Vista_Consumo_Supervisores 
end
end try
begin catch
return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Contar_Control_Administradores_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Contar_Control_Administradores_Dios] (@Administrador nvarchar(10), @Empresa nvarchar(20), @Cantidad int output) as

Begin try

	if @Administrador = '' and @Empresa = ''

		begin

			select @Cantidad = Count(ID_Ingreso_Egreso) from Vista_Control_Administradores 
			return 1

		end

	if @Administrador <> ''

		begin

			select @Cantidad = Count(ID_Ingreso_Egreso) from Vista_Control_Administradores Where Administrador = @Administrador
			return 1

		end

	Else
		
		begin

			select @Cantidad = Count(ID_Ingreso_Egreso) from Vista_Control_Administradores where Empresa = @Empresa
			Return 1

		end

	
End Try

Begin Catch

	return -6

End Catch


GO
/****** Object:  StoredProcedure [dbo].[Contar_Control_Administradores_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Contar_Control_Administradores_Supervisor] (@Administrador nvarchar(10),@ID_Empresa int,@Cantidad int output) as

Begin try

	if @Administrador = '' 

		begin

			select @Cantidad = Count(ID_Ingreso_Egreso) from Vista_Control_Administradores where ID_Empresa = @ID_Empresa
			return 1

		end

	if @Administrador <> ''

		begin

			select @Cantidad = Count(ID_Ingreso_Egreso) from Vista_Control_Administradores Where Administrador = @Administrador and ID_Empresa = @ID_Empresa
			return 1

		end

End Try

Begin Catch

	return -6

End Catch

GO
/****** Object:  StoredProcedure [dbo].[Contar_Ejercicio_Pedido_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Contar_Ejercicio_Pedido_Administrador] (@Empresa nvarchar(20),@Cantidad int output) as

begin try

	select @Cantidad = Count(ID_Pedido) from Tabla_De_Ejercicios_Personalizados_Pedidos Where Empresa = @Empresa
	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Contar_Ejercicio_Pedido_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Contar_Ejercicio_Pedido_Dios] (@Cantidad int output) as

begin try

	select @Cantidad = Count(ID_Pedido) from Tabla_De_Ejercicios_Personalizados_Pedidos
	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Contar_Ejercicio_Pedido_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Contar_Ejercicio_Pedido_Supervisor] (@Empresa nvarchar(20),@Cantidad int output) as

begin try

	select @Cantidad = Count(ID_Pedido) from Tabla_De_Ejercicios_Personalizados_Pedidos Where Empresa = @Empresa
	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Contar_Ejercicios_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Contar_Ejercicios_Administrador] (@Usuario nvarchar(20), @Cantidad int output)as
begin try
	
	begin 
		select @Cantidad = COUNT(ID_Ejercicio) from Vista_Mis_Ejercicios where Usuario = @Usuario
		return 1
	end
	
end try
begin catch
	return -6
end catch

GO
/****** Object:  StoredProcedure [dbo].[Contar_Ejercicios_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Contar_Ejercicios_Dios] (@Dato nvarchar(20), @Opcion int, @Cantidad int output)as
begin try
	if @Opcion = 1
		begin 
			select @Cantidad = Count(ID_Ejercicio) from Vista_Mis_Ejercicios
			return 1
		end
	if @Opcion = 2
		begin
			select @Cantidad = Count(ID_Ejercicio) from Vista_Mis_Ejercicios where Usuario like '%' + @Dato + '%'
			return 1
		end
	if @Opcion = 3
		begin
			select @Cantidad = Count(ID_Ejercicio) from Vista_Mis_Ejercicios where Correo like '%' + @Dato + '%'
			return 1
		end
	if @Opcion = 4
		begin
			select * from Vista_Mis_Ejercicios where Empresa = @Dato
			return 1
		end
	
end try
begin catch
	return -6
end catch

GO
/****** Object:  StoredProcedure [dbo].[Contar_Ejercicios_Por_Ficha_Completa]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Contar_Ejercicios_Por_Ficha_Completa] (@Profesor nvarchar(150),@Ano nvarchar(150),@Colegio nvarchar(150),@Materia nvarchar(150), @Tema nvarchar(150), @Cantidad int output) as

Begin Try -- mostrara solo los ejercicios buscados

	select @Cantidad = COUNT(ID_Ejercicio) from Tabla_De_Ejercicios where ID_Ejercicio in (select ID_Ejercicio from Tabla_Busqueda_De_Ejercicios_Por_Etiquetas where contains (Etiqueta_Busqueda_Profesor,@Profesor) and contains (Etiqueta_Busqueda_Ano,@Ano) and contains (Etiqueta_Busqueda_Colegio,@Colegio) and contains (Etiqueta_Busqueda_Materia,@Materia) and contains (Etiqueta_Busqueda_Tema,@Tema)) 
	return 1

end Try

Begin Catch

	return -6

end Catch


GO
/****** Object:  StoredProcedure [dbo].[Contar_Ejercicios_Por_Ficha_Suelta]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Contar_Ejercicios_Por_Ficha_Suelta] (@Profesor nvarchar(150),@Ano nvarchar(150),@Colegio nvarchar(150),@Materia nvarchar(150), @Tema nvarchar(150), @Cantidad int output) as

Begin Try -- mostrara solo los ejercicios buscados

	select @Cantidad = COUNT(ID_Ejercicio) from Tabla_De_Ejercicios where ID_Ejercicio in (select ID_Ejercicio from Tabla_Busqueda_De_Ejercicios_Por_Etiquetas where contains (Etiqueta_Busqueda_Profesor,@Profesor) and contains (Etiqueta_Busqueda_Ano,@Ano) and contains (Etiqueta_Busqueda_Colegio,@Colegio) and contains (Etiqueta_Busqueda_Materia,@Materia) and contains (Etiqueta_Busqueda_Tema,@Tema)) 
	return 1

end Try

Begin Catch

	return -6

end Catch
GO
/****** Object:  StoredProcedure [dbo].[Contar_Ejercicios_Por_Institucion]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Contar_Ejercicios_Por_Institucion](@Institucion int, @Cantidad int output) as

begin try

	select @Cantidad = Count(ID_Ejercicio) from Tabla_De_Ejercicios where ID_Tipo_De_Institucion = @Institucion
	return 1

end try

begin catch

	return -6

end Catch
GO
/****** Object:  StoredProcedure [dbo].[Contar_Ejercicios_Por_Palabras_Claves_Del_Enunciado]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Contar_Ejercicios_Por_Palabras_Claves_Del_Enunciado](@Var1 nvarchar(20),@Var2 nvarchar(20),@Var3 nvarchar(20),@Var4 nvarchar(20),@Var5 nvarchar(20),@Var6 nvarchar(20),@Var7 nvarchar(20),@Var8 nvarchar(20),@Var9 nvarchar(20),@Var10 nvarchar(20), @Cantidad int output)as

Begin try
	
	if @var10 is not null
		begin
			if exists (select ID_Ejercicio from Vista_Buscar_Ejercicios where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and  Contains (Enunciado_Limpio,@Var9) and Contains (Enunciado_Limpio,@Var10) and ID_Tipo_De_Ejercicio = 1)
				begin
					select @Cantidad = COUNT(ID_Ejercicio) from Vista_Buscar_Ejercicios where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and  Contains (Enunciado_Limpio,@Var9) and Contains (Enunciado_Limpio,@Var10) and ID_Tipo_De_Ejercicio = 1
					return 1
				end
			end

	if @var9 is not null
		begin
			if exists (select ID_Ejercicio from Vista_Buscar_Ejercicios where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and  Contains (Enunciado_Limpio,@Var9) and ID_Tipo_De_Ejercicio = 1)
				begin
					select @Cantidad = COUNT(ID_Ejercicio) from Vista_Buscar_Ejercicios where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and  Contains (Enunciado_Limpio,@Var9) and ID_Tipo_De_Ejercicio = 1
					return 1
				end
		end

	if @var8 is not null
		begin
			if exists (select ID_Ejercicio from Vista_Buscar_Ejercicios where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8)and ID_Tipo_De_Ejercicio = 1)
				begin
					select @Cantidad = COUNT(ID_Ejercicio) from Vista_Buscar_Ejercicios where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and ID_Tipo_De_Ejercicio = 1
					return 1
				end
			end

	if @var7 is not null
		begin
			if exists (select ID_Ejercicio from Vista_Buscar_Ejercicios where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7)and ID_Tipo_De_Ejercicio = 1)
				begin
					select @Cantidad = COUNT(ID_Ejercicio) from Vista_Buscar_Ejercicios where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7)  and ID_Tipo_De_Ejercicio = 1
					return 1
				end
		end

	if @var6 is not null
		begin
			if exists (select ID_Ejercicio from Vista_Buscar_Ejercicios where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6)and ID_Tipo_De_Ejercicio = 1)
				begin
					select @Cantidad = COUNT(ID_Ejercicio) from Vista_Buscar_Ejercicios where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6)  and ID_Tipo_De_Ejercicio = 1
					return 1
				end
		end

	if @var5 is not null
		begin
			if exists (select ID_Ejercicio from Vista_Buscar_Ejercicios where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and ID_Tipo_De_Ejercicio = 1)
				begin
					select @Cantidad = COUNT(ID_Ejercicio) from Vista_Buscar_Ejercicios where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and ID_Tipo_De_Ejercicio = 1 
					return 1
				end
		end

	if @var4 is not null
		begin
			if exists (select ID_Ejercicio from Vista_Buscar_Ejercicios where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and ID_Tipo_De_Ejercicio = 1)
				begin
					select @Cantidad = COUNT(ID_Ejercicio) from Vista_Buscar_Ejercicios where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4)   and ID_Tipo_De_Ejercicio = 1
					return 1
				end
			end

	if @var3 is not null
		begin
			if exists (select ID_Ejercicio from Vista_Buscar_Ejercicios where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and ID_Tipo_De_Ejercicio = 1)
				begin
					select @Cantidad = COUNT(ID_Ejercicio) from Vista_Buscar_Ejercicios where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and ID_Tipo_De_Ejercicio = 1   
					return 1
				end
		end

	if @var2 is not null
		begin
			if exists (select ID_Ejercicio from Vista_Buscar_Ejercicios where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and ID_Tipo_De_Ejercicio = 1)
				begin
					select @Cantidad = COUNT(ID_Ejercicio) from Vista_Buscar_Ejercicios where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and ID_Tipo_De_Ejercicio = 1
					return 1
				end
		end

	if exists (select ID_Ejercicio from Vista_Buscar_Ejercicios where Contains (Enunciado_Limpio,@Var1) and ID_Tipo_De_Ejercicio = 1)
		begin
			select @Cantidad = COUNT(ID_Ejercicio) from Vista_Buscar_Ejercicios where Contains (Enunciado_Limpio,@Var1)  and ID_Tipo_De_Ejercicio = 1
			return 1
		end

		set @Cantidad = 0
		return

end try
begin catch

	return -6

end Catch

GO
/****** Object:  StoredProcedure [dbo].[Contar_Ejercicios_Por_Porcentaje_Del_Enunciado]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Contar_Ejercicios_Por_Porcentaje_Del_Enunciado](@Enunciado_1 nvarchar(150),@Enunciado_2 nvarchar(150),@Cantidad int output) as

Begin Try
	
	select @Cantidad = Count(ID_Ejercicio) from Tabla_MATH_De_Ejercicios where contains (Enunciado_MATH,@Enunciado_1) or contains (Enunciado_MATH,@Enunciado_2)
	If @Cantidad IS NULL -- caso especial que quede vacio, pues no existieron respuestas positivas

	Begin

		set @Cantidad = 0

	End
	
	return 1

end Try

Begin Catch

	return -6

end Catch


GO
/****** Object:  StoredProcedure [dbo].[Contar_Ejercicios_Por_Profundidad_Del_Enunciado]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE proc [dbo].[Contar_Ejercicios_Por_Profundidad_Del_Enunciado](@Enunciado nvarchar(Max), @Cantidad int output) as

Begin try

	select @Cantidad = Count(ID_Ejercicio) from Tabla_MATH_De_Ejercicios where Enunciado_MATH Like @Enunciado + '%' 
	If @Cantidad IS NULL -- caso especial que quede vacio, pues no existieron respuestas positivas

		Begin

			set @Cantidad = 0

		End
	return 1

End try

Begin Catch

	return -6

End Catch
GO
/****** Object:  StoredProcedure [dbo].[Contar_Ejercicios_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

create proc [dbo].[Contar_Ejercicios_Supervisor] (@Dato nvarchar(30), @Opcion int,@Empresa nvarchar(20), @Cantidad int output)as
begin try
	if @Opcion = 1
		begin 
			select @Cantidad = Count(ID_Ejercicio) from Vista_Mis_Ejercicios
			return 1
		end
	if @Opcion = 2
		begin
			select @Cantidad = Count(ID_Ejercicio) from Vista_Mis_Ejercicios where Usuario like '%' + @Dato + '%' and Empresa = @Empresa
			return 1
		end
	if @Opcion = 3
		begin
			select @Cantidad = Count(ID_Ejercicio) from Vista_Mis_Ejercicios where Correo like '%' + @Dato and Empresa = @Empresa
			return 1
		end
	
	
end try
begin catch
	return -6
end catch

GO
/****** Object:  StoredProcedure [dbo].[Contar_Empresas_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Contar_Empresas_Dios](@Cantidad int output)  as

Begin Try

	begin

		select @Cantidad = Count(ID_Empresa) from Tabla_De_Empresas

		return 1

	end

End Try

Begin Catch

	return -6

End Catch


GO
/****** Object:  StoredProcedure [dbo].[Contar_Explicacion_Pedida_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Contar_Explicacion_Pedida_Administrador] (@Empresa nvarchar(10), @Cantidad int output) as

begin try

	select @Cantidad = Count(ID_Consulta) from Tabla_De_Explicaciones_Pedidas where Empresa = @Empresa

End try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Contar_Explicacion_Pedida_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Contar_Explicacion_Pedida_Dios] ( @Cantidad int output) as

begin try

	select @Cantidad = Count(ID_Consulta) from Tabla_De_Explicaciones_Pedidas

End try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Contar_Explicacion_Pedida_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Contar_Explicacion_Pedida_Supervisor] (@Empresa nvarchar(10), @Cantidad int output) as

begin try

	select @Cantidad = Count(ID_Consulta) from Tabla_De_Explicaciones_Pedidas where Empresa = @Empresa

End try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Contar_Movimiento_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Contar_Movimiento_Administrador] (@Usuario nvarchar(10),@Empresa nvarchar(20), @Cantidad int output) as

begin try
select @Cantidad = Count(ID_Movimiento)  from Vista_Movimientos_Usuarios where Usuario = @Usuario and Empresa = @Empresa
return 1
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Contar_Movimiento_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Contar_Movimiento_Dios] (@Dato nvarchar(30), @Opcion int,@Cantidad int output) as
begin try
if @Opcion = 2
begin
select @Cantidad = Count(ID_Movimiento) from Vista_Movimientos_Usuarios where Usuario like '%' + @Dato + '%' 
return
end

if @Opcion = 3
begin
select @Cantidad = Count(ID_Movimiento) from Vista_Movimientos_Usuarios where Fecha_Del_Movimiento = @Dato 
return
end

if @Opcion = 4
begin
select @Cantidad = Count(ID_Movimiento) from Vista_Movimientos_Usuarios where Empresa like '%' + @Dato + '%'
end

if @Opcion = 5
begin
select @Cantidad = Count(ID_Movimiento) from Vista_Movimientos_Usuarios where ID_Descripcion = @Dato
end

if @Opcion = 1
begin
select @Cantidad = Count(ID_Movimiento)  from Vista_Movimientos_Usuarios 
end
end try
begin catch
return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Contar_Movimiento_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Contar_Movimiento_Supervisor] (@Dato nvarchar(30), @Empresa nvarchar(20), @Opcion int, @Cantidad int output) as
begin try
if @Opcion = 2
begin
select @Cantidad = Count(ID_Movimiento) from Vista_Movimientos_Usuarios where Usuario like '%' + @Dato + '%' and Empresa = @Empresa
return
end

if @Opcion = 3
begin
select @Cantidad = Count(ID_Movimiento) from Vista_Movimientos_Usuarios where Fecha_Del_Movimiento = @Dato and Empresa = @Empresa
return
end

if @Opcion = 4
begin
select @Cantidad = Count(ID_Movimiento) from Vista_Movimientos_Usuarios where ID_Descripcion = @Dato and Empresa = @Empresa
return
end

if @Opcion = 1
begin
select  @Cantidad = Count(ID_Movimiento) from Vista_Movimientos_Usuarios where Empresa = @Empresa
end
end try
begin catch
return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Contar_Precios_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Contar_Precios_Dios](@Cantidad int output) as

begin try
	
	select @Cantidad = Count(ID_Empresa) from Vista_De_Precios
	return 1

end try

begin catch

	return -6

end catch 
GO
/****** Object:  StoredProcedure [dbo].[Contar_Respuestas_Videos_Supervisores]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Contar_Respuestas_Videos_Supervisores](@Var1 nvarchar(20),@Var2 nvarchar(20),@Var3 nvarchar(20),@Var4 nvarchar(20),@Var5 nvarchar(20),@Var6 nvarchar(20),@Var7 nvarchar(20),@Var8 nvarchar(20),@Var9 nvarchar(20),@Var10 nvarchar(20),@Cantidad int output)as

Begin try
	
			if @var10 is not null
				begin
					if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and  Contains (Enunciado_Limpio,@Var9) and Contains (Enunciado_Limpio,@Var10) and ID_Tipo_De_Ejercicio = 3)
						begin
							select @Cantidad = Count(ID_Ejercicio) from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and  Contains (Enunciado_Limpio,@Var9) and Contains (Enunciado_Limpio,@Var10) and ID_Tipo_De_Ejercicio = 3
					
							return 1
						end
					end

			if @var9 is not null
				begin
					if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and  Contains (Enunciado_Limpio,@Var9) and ID_Tipo_De_Ejercicio = 3)
						begin
							select @Cantidad = Count(ID_Ejercicio) from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and  Contains (Enunciado_Limpio,@Var9)and ID_Tipo_De_Ejercicio = 3
							return 1
						end
				end

			if @var8 is not null
				begin
					if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and ID_Tipo_De_Ejercicio = 3)
						begin
							select @Cantidad = Count(ID_Ejercicio) from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and ID_Tipo_De_Ejercicio = 3
							return 1
						end
					end

			if @var7 is not null
				begin
					if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and ID_Tipo_De_Ejercicio = 3)
						begin
							select @Cantidad = Count(ID_Ejercicio) from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7)  and ID_Tipo_De_Ejercicio = 3
							return 1
						end
				end

			if @var6 is not null
				begin
					if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6)and ID_Tipo_De_Ejercicio = 3)
						begin
							select @Cantidad = Count(ID_Ejercicio) from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6)  and ID_Tipo_De_Ejercicio = 3
							return 1
						end
				end

			if @var5 is not null
				begin
					if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and ID_Tipo_De_Ejercicio = 3)
						begin
							select @Cantidad = Count(ID_Ejercicio) from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5)  and ID_Tipo_De_Ejercicio = 3
							return 1
						end
				end

			if @var4 is not null
				begin
					if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and ID_Tipo_De_Ejercicio = 3)
						begin
							select @Cantidad = Count(ID_Ejercicio) from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and ID_Tipo_De_Ejercicio = 3
							return 1
						end
					end

			if @var3 is not null
				begin
					if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and ID_Tipo_De_Ejercicio = 3)
						begin
							select @Cantidad = Count(ID_Ejercicio) from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and ID_Tipo_De_Ejercicio = 3   
							return 1
						end
				end

			if @var2 is not null
				begin
					if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and ID_Tipo_De_Ejercicio = 3)
						begin
							select @Cantidad = Count(ID_Ejercicio) from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and ID_Tipo_De_Ejercicio = 3  
							return 1
						end
				end

			if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and ID_Tipo_De_Ejercicio = 3)
				begin
					select @Cantidad = Count(ID_Ejercicio) from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and ID_Tipo_De_Ejercicio = 3   
					return 1
				end

				set @Cantidad = 0
				return 1
			
end try
begin catch

	return -6

end Catch

GO
/****** Object:  StoredProcedure [dbo].[Contar_Tarjeta_Prepaga_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Contar_Tarjeta_Prepaga_Dios](@Dato nvarchar(20), @Opcion int, @Cantidad int output) as
Begin try
if @Opcion = 4
	Begin
		select @Cantidad = Count(ID_Tarjeta) from Vista_Tarjetas_Prepagas where Codigo = Convert(int,@Dato)
		return 1
	End
if @Opcion = 2
	Begin
		select @Cantidad = Count(ID_Tarjeta) from Vista_Tarjetas_Prepagas where Fecha_De_Vencimiento <= Convert(date,@Dato)
		return 1
	End
if @Opcion = 3
	Begin
		select @Cantidad = Count(ID_Tarjeta) from Vista_Tarjetas_Prepagas where Activacion_De_La_Tarjeta = Convert(bit,@Dato)
		return 1
	End

if @Opcion = 5
	begin
		select @Cantidad = Count(ID_Tarjeta) from Vista_Tarjetas_Prepagas where Empresa = @Dato
		return 1
	end
if @Opcion = 1
begin
select @Cantidad = Count(ID_Tarjeta) from Vista_Tarjetas_Prepagas 
return 1 
end

end try
begin catch
return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Contar_Tarjeta_Prepaga_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Contar_Tarjeta_Prepaga_Supervisor](@Dato nvarchar(12), @Empresa nvarchar(20), @Opcion int,@Cantidad int output) as
Begin Try
if @Opcion = 4
	Begin
		
		select @Cantidad = Count(ID_Tarjeta) from Vista_Tarjetas_Prepagas where Codigo = Convert(int,@Dato) and Empresa = @Empresa
		return 1
	End
if @Opcion = 2
	Begin
		
		select @Cantidad = Count(ID_Tarjeta) from Vista_Tarjetas_Prepagas where Fecha_De_Vencimiento <= Convert(date,@Dato) and Empresa = @Empresa
		return 1
	End
if @Opcion = 3
	Begin
		
		select @Cantidad = Count(ID_Tarjeta) from Vista_Tarjetas_Prepagas where Activacion_De_La_Tarjeta = Convert(bit,@Dato) and Empresa = @Empresa
		return 1
	End

if @Opcion = 1
	begin
		select @Cantidad = Count(ID_Tarjeta) from Vista_Tarjetas_Prepagas where Empresa = @Empresa
		return 1
	end
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Contar_URL_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Contar_URL_Dios] (@Cantidad int output) as
begin try

	select @Cantidad = Count(ID_Empresa) from Tabla_URL_Cuenta_Digital 
	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Contar_Usuario_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Contar_Usuario_Dios](@Dato nvarchar(30), @Opcion int, @Cantidad int output) as

begin try

	if @Opcion = 2
		begin
			select @Cantidad = Count(ID_Usuario) from Vista_Usuario_Administradores where Usuario like '%' + @Dato + '%'	
			return 1
		end
	if @Opcion = 3
		begin
			select @Cantidad = Count(ID_Usuario)  from Vista_Usuario_Administradores where Correo like '%' + @Dato + '%'
			return 1
		end
	if @Opcion = 4
		begin
			select @Cantidad = Count(ID_Usuario)  from Vista_Usuario_Administradores where Activacion_De_Usuarios = convert(bit,@Dato) 
			return 1
		end
	if @Opcion = 5
		begin
			select @Cantidad = Count(ID_Usuario)  from Vista_Usuario_Administradores where Empresa = @Dato
			return 1
		end
	if @Opcion = 6
		begin
			select @Cantidad = Count(ID_Usuario) from Vista_Usuario_Administradores where Fecha_De_Alta = convert(date,@Dato)
			return 1
		end
	if @Opcion = 1
		begin
			select @Cantidad = Count(ID_Usuario) from Vista_Usuario_Administradores 
			return 1
		end

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Contar_Usuario_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

Create proc [dbo].[Contar_Usuario_Supervisor](@Dato nvarchar(30), @ID_Empresa int, @Opcion int, @Cantidad int output) as
begin try
	if @Opcion = 1
		begin		
			select @Cantidad = Count(ID_Usuario) from Vista_Usuario_Administradores	
			return 1
		end
	if @Opcion = 2
		begin
			select @Cantidad = Count(ID_Usuario) from Vista_Usuario_Administradores where Usuario Like '%' + @Dato + '%' and ID_Empresa = @ID_Empresa
			return 1
		end
	if @Opcion = 3
		begin
			select @Cantidad = Count(ID_Usuario) from Vista_Usuario_Administradores where Correo Like '%' + @Dato + '%' and ID_Empresa = @ID_Empresa
			return 1
		end
	if @Opcion = 4
		begin
			select @Cantidad = Count(ID_Usuario) from Vista_Usuario_Administradores where Activacion_De_Usuarios = convert(bit,@Dato) and ID_Empresa = @ID_Empresa
			return 1
		end
	if @Opcion = 5
		begin
			select @Cantidad = Count(ID_Usuario) from Vista_Usuario_Administradores where Fecha_De_Alta = convert(datetime,@Dato) and ID_Empresa = @ID_Empresa
			return 1
		end
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Contar_Videos_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Contar_Videos_Administrador] (@Usuario nvarchar(20), @Cantidad int output)as
begin try
	
	begin 
		select @Cantidad = COUNT(ID_Ejercicio) from Vista_Mis_Explicaciones where Usuario = @Usuario
		return 1
	end
	
end try
begin catch
	return -6
end catch

GO
/****** Object:  StoredProcedure [dbo].[Contar_Videos_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Contar_Videos_Dios] (@Dato nvarchar(20), @Opcion int, @Cantidad int output)as
begin try
	if @Opcion = 1
		begin 
			select @Cantidad = Count(ID_Ejercicio) from Vista_Mis_Explicaciones
			return 1
		end
	if @Opcion = 2
		begin
			select @Cantidad = Count(ID_Ejercicio) from Vista_Mis_Explicaciones where Usuario like '%' + @Dato + '%'
			return 1
		end
	if @Opcion = 3
		begin
			select @Cantidad = Count(ID_Ejercicio) from Vista_Mis_Explicaciones where Correo like '%' + @Dato + '%'
			return 1
		end
	if @Opcion = 4
		begin
			select @Cantidad = Count(ID_Ejercicio) from Vista_Mis_Explicaciones where Empresa = @Dato
			return 1
		end
	
end try
begin catch
	return -6
end catch

GO
/****** Object:  StoredProcedure [dbo].[Contar_Videos_Por_Palabras_Claves_Del_Enunciado]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Contar_Videos_Por_Palabras_Claves_Del_Enunciado](@Var1 nvarchar(20),@Var2 nvarchar(20),@Var3 nvarchar(20),@Var4 nvarchar(20),@Var5 nvarchar(20),@Var6 nvarchar(20),@Var7 nvarchar(20),@Var8 nvarchar(20),@Var9 nvarchar(20),@Var10 nvarchar(20),@Cantidad int output)as

Begin try
	
			if @var10 is not null
				begin
					if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and  Contains (Enunciado_Limpio,@Var9) and Contains (Enunciado_Limpio,@Var10) and ID_Tipo_De_Ejercicio = 3)
						begin
							select @Cantidad = Count(ID_Ejercicio) from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and  Contains (Enunciado_Limpio,@Var9) and Contains (Enunciado_Limpio,@Var10) and ID_Tipo_De_Ejercicio = 3
					
							return 1
						end
					end

			if @var9 is not null
				begin
					if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and  Contains (Enunciado_Limpio,@Var9) and ID_Tipo_De_Ejercicio = 3)
						begin
							select @Cantidad = Count(ID_Ejercicio) from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and  Contains (Enunciado_Limpio,@Var9)and ID_Tipo_De_Ejercicio = 3
							return 1
						end
				end

			if @var8 is not null
				begin
					if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and ID_Tipo_De_Ejercicio = 3)
						begin
							select @Cantidad = Count(ID_Ejercicio) from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and Contains (Enunciado_Limpio,@Var8) and ID_Tipo_De_Ejercicio = 3
							return 1
						end
					end

			if @var7 is not null
				begin
					if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7) and ID_Tipo_De_Ejercicio = 3)
						begin
							select @Cantidad = Count(ID_Ejercicio) from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6) and Contains (Enunciado_Limpio,@Var7)  and ID_Tipo_De_Ejercicio = 3
							return 1
						end
				end

			if @var6 is not null
				begin
					if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6)and ID_Tipo_De_Ejercicio = 3)
						begin
							select @Cantidad = Count(ID_Ejercicio) from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and Contains (Enunciado_Limpio,@Var6)  and ID_Tipo_De_Ejercicio = 3
							return 1
						end
				end

			if @var5 is not null
				begin
					if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5) and ID_Tipo_De_Ejercicio = 3)
						begin
							select @Cantidad = Count(ID_Ejercicio) from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and Contains (Enunciado_Limpio,@Var5)  and ID_Tipo_De_Ejercicio = 3
							return 1
						end
				end

			if @var4 is not null
				begin
					if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and ID_Tipo_De_Ejercicio = 3)
						begin
							select @Cantidad = Count(ID_Ejercicio) from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and Contains (Enunciado_Limpio,@Var4) and ID_Tipo_De_Ejercicio = 3
							return 1
						end
					end

			if @var3 is not null
				begin
					if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and ID_Tipo_De_Ejercicio = 3)
						begin
							select @Cantidad = Count(ID_Ejercicio) from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and Contains (Enunciado_Limpio,@Var3) and ID_Tipo_De_Ejercicio = 3   
							return 1
						end
				end

			if @var2 is not null
				begin
					if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and ID_Tipo_De_Ejercicio = 3)
						begin
							select @Cantidad = Count(ID_Ejercicio) from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and Contains (Enunciado_Limpio,@Var2) and ID_Tipo_De_Ejercicio = 3  
							return 1
						end
				end

			if exists (select ID_Ejercicio from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and ID_Tipo_De_Ejercicio = 3)
				begin
					select @Cantidad = Count(ID_Ejercicio) from Vista_Buscar_Videos where Contains (Enunciado_Limpio,@Var1) and ID_Tipo_De_Ejercicio = 3   
					return 1
				end

				set @Cantidad = 0
				return 1
			
end try
begin catch

	return -6

end Catch

GO
/****** Object:  StoredProcedure [dbo].[Contar_Videos_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

create proc [dbo].[Contar_Videos_Supervisor] (@Dato nvarchar(30), @Opcion int,@Empresa nvarchar(20), @Cantidad int output)as
begin try
	if @Opcion = 1
		begin 
			select @Cantidad = Count(ID_Ejercicio) from Vista_Mis_Explicaciones
			return 1
		end
	if @Opcion = 2
		begin
			select @Cantidad = Count(ID_Ejercicio) from Vista_Mis_Explicaciones where Usuario like '%' + @Dato + '%' and Empresa = @Empresa
			return 1
		end
	if @Opcion = 3
		begin
			select @Cantidad = Count(ID_Ejercicio) from Vista_Mis_Explicaciones where Correo like '%' + @Dato and Empresa = @Empresa
			return 1
		end
	
	
end try
begin catch
	return -6
end catch

GO
/****** Object:  StoredProcedure [dbo].[Control_Egreso_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Control_Egreso_Administrador](@ID_Administrador int, @IP_Address nvarchar(20)) as
Begin try

	insert into Tabla_De_Control_De_Administradores (ID_Administrador, Fecha_De_Egreso, IP_Address) values (@ID_Administrador,GETDATE(),@IP_Address) 
	return 1

End try

Begin Catch

	return -6

ENd Catch
GO
/****** Object:  StoredProcedure [dbo].[Control_Ingreso_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Control_Ingreso_Administrador](@ID_Administrador int, @IP_Address nvarchar(20)) as
Begin try

	insert into Tabla_De_Control_De_Administradores (ID_Administrador, Fecha_De_Ingreso, IP_Address) values (@ID_Administrador,GETDATE(),@IP_Address) 
	return 1
end try

begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Conversion_De_Usuario_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Conversion_De_Usuario_Supervisor](@Usuario nvarchar(10),@ID_Usuario int output) as
begin try
	select @ID_Usuario = ID_Usuario from Tabla_De_Usuarios where Usuario = @Usuario
	return 1
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Datos_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
Create proc [dbo].[Datos_Administrador] (@Administrador nvarchar(10)) as
Begin Try
	Begin 
		
		select Password from Tabla_De_Administradores where Administrador = @Administrador
		return 1
	End
End Try
Begin Catch
	return -6;
End Catch
GO
/****** Object:  StoredProcedure [dbo].[Ejercicio_Insertado_Numero_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Ejercicio_Insertado_Numero_Dios](@Cantidad int output) as
begin try
	select @Cantidad = MAX(ID_Ejercicio) from Tabla_De_Ejercicios
	return 1
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Identificador_Del_Ejercicio_A_Modificar]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Identificador_Del_Ejercicio_A_Modificar](@Identificador int) as
begin try

	if exists (select ID_Ejercicio from Tabla_De_Ejercicios where ID_Ejercicio = @Identificador)
		begin
			return 1
		end
	return 0
end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Insertar_Administrador_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Insertar_Administrador_Dios](@Administrador nvarchar(10),@Password nvarchar(10), @Empresa nvarchar(20))as

Begin Try
		
	Declare @ID_Empresa int
	Declare @ID_Administrador int

	select @ID_Empresa = ID_Empresa from Tabla_De_Empresas where Empresa = @Empresa 

	if @ID_Empresa is null

		begin

			return 2

		end
		
	if exists(select ID_Administrador from Tabla_De_Administradores where Administrador = @Administrador and ID_Empresa = @ID_Empresa) -- aviso que el administrador ya existe
			
		Begin
		
			return 0

		End
		
	Else

		Begin
				
			insert into Tabla_De_Administradores (Administrador,Password,ID_Empresa) Values (@Administrador,@Password,@ID_Empresa) -- inserta todos los datos del administrador
			select @ID_Administrador = MAX(ID_Administrador) from Tabla_De_Administradores 
			insert into Tabla_De_Categorias (ID_Administrador,Categoria_A1,Categoria_A2,Categoria_A3,Categoria_B1,Categoria_B2,Categoria_B3,Categoria_C1,Categoria_D1,Categoria_D2,Categoria_E1,Categoria_E2,Categoria_E3,Categoria_F1,Categoria_F2,Categoria_F3,Categoria_G1,Categoria_G2,Categoria_G3) values (@ID_Administrador,5,8,5,5,5,5,1,9,5,9,8,8,8,8,5,9,6,5)

			return 1

		End

End Try

Begin Catch

	return -6
	
End Catch	


GO
/****** Object:  StoredProcedure [dbo].[Insertar_Administrador_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Insertar_Administrador_Supervisor](@Administrador nvarchar(10),@Password nvarchar(10), @Empresa nvarchar(20))as

Begin Try
	
	Declare @ID_Empresa int
	Declare @ID_Administrador int
	
	select @ID_Empresa = ID_Empresa from Tabla_De_Empresas where Empresa = @Empresa
		
	if exists(select ID_Administrador from Tabla_De_Administradores where Administrador = @Administrador) -- aviso que el administrador ya existe
			
		Begin
		
			return 0

		End
		
	Else

		Begin
				
				
			insert into Tabla_De_Administradores (Administrador,Password,ID_Empresa) Values (@Administrador,@Password,@ID_Empresa) -- inserta todos los datos del administrador
			select @ID_Administrador = MAX(ID_Administrador) from Tabla_De_Administradores 
			insert into Tabla_De_Categorias (ID_Administrador,Categoria_A1,Categoria_A2,Categoria_A3,Categoria_B1,Categoria_B2,Categoria_B3,Categoria_C1,Categoria_D1,Categoria_D2,Categoria_E1,Categoria_E2,Categoria_E3,Categoria_F1,Categoria_F2,Categoria_F3,Categoria_G1,Categoria_G2,Categoria_G3) values (@ID_Administrador,0,0,0,0,0,0,0,0,0,0,0,0,5,5,0,0,0,0)

			return 1

		End

End Try

Begin Catch

	return -6
	
End Catch	


GO
/****** Object:  StoredProcedure [dbo].[Insertar_Comentario_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Insertar_Comentario_Administrador] (@ID_Administrador int, @Comentario nvarchar(max)) as

Begin Try 

	Insert into Tabla_De_Comentario_De_Administradores (ID_Administrador,Comentario,Fecha_Comentario_Realizado) Values (@ID_Administrador,@Comentario,GETDATE())

	return 1

End Try

Begin Catch

	return -6

End Catch


GO
/****** Object:  StoredProcedure [dbo].[Insertar_Credito_Automatico_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Insertar_Credito_Automatico_Supervisor] (@Plata money,@ID_Usuario int, @Descripcion int, @Premio_1 money, @Premio_2 money) as

begin try

	Declare @Control_Pedido bit

	Declare @Prestamo money

	Declare @Control_Plata money

	Declare @Control_IP bit


	select @Control_Plata = Credito_De_Usuario, @Prestamo = Prestamo_Real_Al_Usuario, @Control_Pedido = Pedido_De_Prestamo from Tabla_De_Credito_De_Los_Usuarios where ID_Usuario = @ID_Usuario

if @Premio_1 <> 0 or @Premio_2 <> 0

begin

set @Premio_2 = @Plata + @Premio_1 + @Premio_2 -- sumamos la plata que cargo mas el premio de la recarga

		End

	Else

		Begin
			
			set @Premio_2 = @Plata

		End
		
	If @Control_Pedido = 1 -- pidio el prestamo, aca me aclara si la persona pide un prestamo
		
		Begin 

			if @Premio_2 >= @Prestamo -- devolvio todo el prestamo

				Begin 
					
					Set @Control_Plata = @Control_Plata + (@Premio_2 - @Prestamo) -- descuenta el prestamo

					Update Tabla_De_Credito_De_Los_Usuarios set Prestamo_Real_Al_Usuario = 0, Pedido_De_Prestamo = 0, Credito_De_Usuario = @Control_Plata where ID_Usuario = @ID_Usuario -- actualiza todos los campos referidos al prestamo

					Insert into Tabla_De_Movimientos (ID_Usuario, ID_Descripcion, IP_Address, Plata_Haber) Values (@ID_Usuario, @Descripcion , 'Automatico', @Plata) -- inserta la cantidad de plata real 
					
					Insert into Tabla_De_Movimientos (ID_Usuario, ID_Descripcion, IP_Address, Plata_Debe) Values (@ID_Usuario, 4, 'Automatico', @Prestamo) -- inserta la devolucion total del prestamo en la tabla de movimientos
					
					Return 1

						
				End

			Else -- no paga todo el prestamo 

				Begin 

					Set @Prestamo = @Prestamo - @Premio_2 -- calculo de la plata que le queda al usuario porque pidio un prestamo

					Update Tabla_De_Credito_De_Los_Usuarios set Prestamo_Real_Al_Usuario = @Prestamo where ID_Usuario = @ID_Usuario -- actualiza el prestamo pedido por el usuario y descuenta la parte que cargo

					Insert into Tabla_De_Movimientos (ID_Usuario, ID_Descripcion, IP_Address, Plata_Haber) Values (@ID_Usuario, @Descripcion ,'Automatico', @Plata) -- inserta la cantidad de plata real 
				
					Insert into Tabla_De_Movimientos (ID_Usuario, ID_Descripcion, IP_Address, Plata_Debe) Values (@ID_Usuario, 3, 'Automatico', @Prestamo) -- inserta la devolucion del prestamo parcial del usuario

					Return 1

				End

		End

	Else

		Begin -- no pidio un prestamo
			
			Set @Control_Plata = @Control_Plata + @Premio_2 -- le sumo la plata pues no pidio prestamo

			Update Tabla_De_Credito_De_Los_Usuarios set Credito_De_Usuario = @Control_Plata where ID_Usuario = @ID_Usuario -- carga su nuevo credito

			Insert into Tabla_De_Movimientos (ID_Usuario, ID_Descripcion, IP_Address, Plata_Haber) Values (@ID_Usuario, @Descripcion , 'Automatico', @Plata) -- inserta la cantidad de plata real 
		
			Return 1

		End

End Try

Begin Catch

	return -6 -- no se conecto a la base de datos

End Catch

GO
/****** Object:  StoredProcedure [dbo].[Insertar_Ejercicio_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Insertar_Ejercicio_Supervisor] (@Usuario nvarchar(10),@ID_Ejercicio int,@Ejercicio bit, @Explicacion bit,  @Dias_Que_Restan_Para_El_Producto int)as
begin try
	declare @ID_Usuario int
	select @ID_Usuario = ID_Usuario from Tabla_De_Usuarios where Usuario = @Usuario
	insert into Tabla_Mis_Ejercicios (ID_Usuario,ID_Ejercicio,Ejercicio,Explicacion,Dias_Que_Restan_Para_Usar_El_Producto,Fecha_De_Vencimiento) values (@ID_Usuario,@ID_Ejercicio,@Ejercicio,@Explicacion, @Dias_Que_Restan_Para_El_Producto, DATEADD(day,@Dias_Que_Restan_Para_El_Producto,GETDATE()))
	return 1	
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Insertar_Empresa_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Insertar_Empresa_Dios] (@Empresa nvarchar(20),@Consultas_Permitidas_Ejercicios int,@Consultas_Permitidas_Videos int) as

Begin Try

	declare @ID_Empresa int	

		if exists(select ID_Empresa from Tabla_De_Empresas where Empresa = @Empresa)

			begin

				return 0

			end

		insert into Tabla_De_Empresas (Empresa) values (@Empresa)
		select @ID_Empresa = Max(ID_Empresa) from Tabla_De_Empresas
		insert into Tabla_URL_Cuenta_Digital (ID_Empresa) values (@ID_Empresa)
		insert into Tabla_Cantidad_De_Consultas_Para_Empresas (Consultas_Permitidas_Ejercicios,Consultas_Permitidas_Videos) values (@Consultas_Permitidas_Ejercicios,@Consultas_Permitidas_Videos)

		return 1

	

End Try

Begin Catch

	return -6

End Catch


GO
/****** Object:  StoredProcedure [dbo].[Insertar_Tarjeta_Prepaga_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Insertar_Tarjeta_Prepaga_Supervisor](@Codigo int,@Fecha_De_Vencimiento date, @ID_Empresa int,@Credito money) as
begin try

	insert into Tabla_De_Tarjetas_Prepagas(ID_Empresa,Codigo,Credito,Fecha_De_Vencimiento,Activacion_De_La_Tarjeta) values (@ID_Empresa,@Codigo,@Credito,@Fecha_De_Vencimiento,1)
	return 1
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Insertar_Usuario_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Insertar_Usuario_Supervisor](@Usuario nvarchar(10),@Correo nvarchar(30), @ID_Empresa int, @Administrador nvarchar(10)) as
begin try

	declare @ID_Usuario int
	declare @Existencia_Correo nvarchar(30)

	if @Usuario = ''
		begin
			return -2
		end
	if @Correo = ''
		begin
			return -3
		end
	if exists (select ID_Usuario from Tabla_De_Usuarios where Usuario = @Usuario)
		begin
			return 0
		end
	
	if exists (select ID_Usuario from Tabla_De_Usuarios where Correo = @Correo and ID_Empresa = @ID_Empresa)
		begin
			return -1
		end 


	insert into Tabla_De_Usuarios (Usuario,Correo,ID_Empresa,Password,Activacion_De_Usuarios) values (@Usuario,@Correo,@ID_Empresa,'contrasea',1)
	select @ID_Usuario = MAX(ID_Usuario) from Tabla_De_Usuarios
	insert into Tabla_Datos_De_Usuarios (ID_Usuario,Usuario_De_Skype,Numero_De_Celular,Modelo_De_Celular) Values (@ID_Usuario,NULL,NULL,NULL)
	insert into Tabla_Datos_Extra_De_Usuarios (ID_Usuario,IP_Address) values (@ID_Usuario, @Administrador)
	insert into Tabla_De_Credito_De_Los_Usuarios (ID_Usuario) values (@ID_Usuario)
	return 1

end try

begin Catch

	return -6

end catch

GO
/****** Object:  StoredProcedure [dbo].[Insertar_Videos_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Insertar_Videos_Supervisor] (@Usuario nvarchar(10),@ID_Ejercicio int, @Dias_Que_Restan_Para_El_Producto int)as
begin try
	declare @ID_Usuario int
	select @ID_Usuario = ID_Usuario from Tabla_De_Usuarios where Usuario = @Usuario
	insert into Tabla_Mis_Explicaciones (ID_Usuario,ID_Ejercicio,Dias_Que_Restan_Para_Usar_El_Producto,Fecha_De_Vencimiento) values (@ID_Usuario,@ID_Ejercicio, @Dias_Que_Restan_Para_El_Producto, DATEADD(day,@Dias_Que_Restan_Para_El_Producto,GETDATE()))
	return 1	
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Logueo_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Logueo_Administrador](@Administrador nvarchar(10),@Password nvarchar(10),@Empresa nvarchar(20),@IP_Address nvarchar(20),@Ingresos int, @ID_Administrador int output, @ID_Empresa int output) as

Begin Try

	if exists( select ID_Administrador from Vista_Administradores where Administrador = @Administrador and Password = @Password and Empresa = @Empresa and Administrador_Bloqueado = 0)

		Begin 

			select @ID_Administrador = ID_Administrador, @ID_Empresa = ID_Empresa from Tabla_De_Administradores where Administrador = @Administrador 			
			update Tabla_De_Administradores set IP_Address = @IP_Address where ID_Administrador = @ID_Administrador;
			return 1

		end

	if (@Ingresos = 4)

		begin

			update Tabla_De_Administradores set IP_Address = IP_Address, Administrador_Bloqueado = 1 where Administrador = @Administrador

		end

end Try

Begin Catch
	
	return -6

end Catch 
GO
/****** Object:  StoredProcedure [dbo].[Logueo_Categoria]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Logueo_Categoria](@ID_Administrador int) as

Begin Try
	
	select * from Tabla_De_Categorias where ID_Administrador = @ID_Administrador
	return 1

end Try

Begin Catch
	
	return -6

end Catch 
GO
/****** Object:  StoredProcedure [dbo].[Materia]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Materia] (@Var1 nvarchar(20),@Var2 nvarchar(20),@Var3 nvarchar(20)) as

begin try

	Declare @Etiqueta_Materia int

	select @Etiqueta_Materia = Max(Etiqueta_Materia) from Tabla_De_Materias
	
	if @Etiqueta_Materia is null 
	
		begin 
			set @Etiqueta_Materia = 0
			
		end
	
	if not exists (select @Etiqueta_Materia from Tabla_De_Materias where Materia = @Var1) 
	
		begin
			if (@var1 <> '')
				begin
					set @Etiqueta_Materia = @Etiqueta_Materia + 1
					insert into Tabla_De_Materias(Materia,Etiqueta_Materia) values (@Var1,@Etiqueta_Materia)
					
				end
		end
	
	if not exists (select Etiqueta_Materia from Tabla_De_Materias where Materia = @Var2) 
		begin
			if (@var2 <> '')
				begin
					set @Etiqueta_Materia = @Etiqueta_Materia + 1
					insert into Tabla_De_Materias(Materia,Etiqueta_Materia) values (@Var2,@Etiqueta_Materia)
					
				end
		end
	
	if not exists (select Etiqueta_Materia from Tabla_De_Materias where Materia = @Var3) 
		begin
			if (@var3 <> '')
				begin
					set @Etiqueta_Materia = @Etiqueta_Materia + 1
					insert into Tabla_De_Materias(Materia,Etiqueta_Materia) values (@Var3,@Etiqueta_Materia)
					
				end
			
		end

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Activar_Oferta_Administracion]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Activar_Oferta_Administracion](@ID_Empresa int) as

begin try

	select * from Tabla_De_Activacion_De_Ofertas where ID_Empresa = @ID_Empresa

	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Activar_Oferta_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Activar_Oferta_Supervisor](@ID_Empresa int) as

begin try

	select * from Tabla_De_Activacion_De_Ofertas where ID_Empresa = @ID_Empresa

	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Administrador_En_Tabla_De_Categoria]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE proc [dbo].[Mostrar_Administrador_En_Tabla_De_Categoria](@Administrador nvarchar(10),@ID_Empresa int) as

begin try
	
	declare @ID_Administrador int
	
	select @ID_Administrador = ID_Administrador from Tabla_De_Administradores where Administrador = @Administrador
	
	if exists (select ID_Administrador from Vista_Categoria where ID_Administrador = @ID_Administrador and ID_Empresa = @ID_Empresa)
	
	begin 
	
		select * from Vista_Categoria where ID_Administrador = @ID_Administrador and ID_Empresa = @ID_Empresa
		return 1

	end
	
end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Administradores_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Administradores_Dios] (@Administrador nvarchar(10),@Empresa nvarchar(20)) as

Begin Try
	
	if(@Administrador = '' and @Empresa <> '' )
	
		Begin 
		
			select ID_Administrador, Administrador,Password,Empresa,Administrador_Bloqueado,IP_Address from Vista_Administradores where Empresa like '%' + @Empresa + '%'
			return

		End

	if(@Administrador <> '' and @Empresa = '' )
		
		Begin

			select ID_Administrador,Administrador,Password,Empresa,Administrador_Bloqueado,IP_Address from Vista_Administradores where Administrador like '%' + @Administrador + '%' 
			return

		End

	if(@Administrador = '' and @Empresa = '' )
		
		Begin

			select ID_Administrador,Administrador,Password,Empresa,Administrador_Bloqueado,IP_Address from Vista_Administradores 
			return

		End

End Try
Begin Catch
	return -6;
End Catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Administradores_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Administradores_Supervisor] (@Administrador nvarchar(10),@Empresa nvarchar(20)) as

Begin Try
	
	if (@Administrador is null)
	
		Begin 
		
			select ID_Administrador, Administrador,Password,Empresa,Administrador_Bloqueado,IP_Address from Vista_Administradores where Empresa = @Empresa 
			return 1

		End

	Else
		
		Begin

			select ID_Administrador,Administrador,Password,Empresa,Administrador_Bloqueado,IP_Address from Vista_Administradores where Administrador like '%' + @Administrador + '%'  and Empresa = @Empresa 
			return 1

		End
		

End Try
Begin Catch
	return -6;
End Catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Carga_De_Credito_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Carga_De_Credito_Supervisor](@Dato nvarchar(30),@Opciones int, @Empresa nvarchar(20))as

begin try

	if @Opciones = 1
		begin
			select * from Vista_Credito_De_Usuario where Empresa = @Empresa
			return 1
		end 

	if @Opciones = 2
		begin
			select * from Vista_Credito_De_Usuario where Usuario Like '%' + @Dato + '%' and Empresa = @Empresa
			return 1
		end 

	if @Opciones = 3
		begin
			select * from Vista_Credito_De_Usuario where Correo Like '%' + @Dato + '%' and Empresa = @Empresa
			return 1
		end 

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Cargar_Ofertas_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Cargar_Ofertas_Administrador](@ID_Empresa int) as

begin try
	
	select * from Tabla_De_Ofertas where ID_Empresa = @ID_Empresa

	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Cargar_Ofertas_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Cargar_Ofertas_Supervisor](@ID_Empresa int) as

begin try

	select * from Tabla_De_Ofertas where ID_Empresa = @ID_Empresa

	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Comentarios_Administrador_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Comentarios_Administrador_Dios] as

Begin Try

	select ID_Comentario, Administrador, Comentario, Fecha_Comentario_Realizado from Vista_Comentario_Administradores

	return 1
			
End Try

Begin Catch

	return -6

End Catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Comentarios_Administrador_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Comentarios_Administrador_Supervisor](@ID_Empresa int) as

Begin Try

	select ID_Comentario, Administrador, Comentario, Fecha_Comentario_Realizado  from Vista_Comentario_Administradores where ID_Empresa = @ID_Empresa

	return 1
			
End Try

Begin Catch

	return -6

End Catch

GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Comentarios_De_Usuario_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Mostrar_Comentarios_De_Usuario_Administrador] (@ID_Empresa int) as

Begin Try

	select * from Tabla_De_Comentario_De_Usuarios where ID_Empresa = @ID_Empresa

	return 1
			
End Try

Begin Catch

	return -6

End Catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Comentarios_De_Usuario_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Comentarios_De_Usuario_Dios] as

Begin Try

	select * from Vista_Comentario_Usuarios

	return 1
			
End Try

Begin Catch

	return -6

End Catch


GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Comentarios_De_Usuario_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Mostrar_Comentarios_De_Usuario_Supervisor] (@ID_Empresa int) as

Begin Try

	select * from Tabla_De_Comentario_De_Usuarios where ID_Empresa = @ID_Empresa

	return 1
			
End Try

Begin Catch

	return -6

End Catch


GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Consumo_Supervisores]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Mostrar_Consumo_Supervisores] (@Dato nvarchar(30), @Opcion int) as
begin try
if @Opcion = 2
begin
select  * from Vista_Consumo_Supervisores where Administrador like '%' + @Dato + '%' 
return
end

if @Opcion = 3
begin
select * from Vista_Consumo_Supervisores where Empresa like '%' + @Dato + '%'
end

if @Opcion = 4
begin
select * from Vista_Consumo_Supervisores where Tipo_De_Consulta = @Dato
end

if @Opcion = 1
begin
select *  from Vista_Consumo_Supervisores 
end
end try
begin catch
return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Control_Administradores_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Control_Administradores_Dios] (@Administrador nvarchar(10), @Empresa nvarchar(20)) as

Begin try

	if @Administrador = '' and @Empresa = ''

		begin

			select * from Vista_Control_Administradores order by ID_Ingreso_Egreso desc;
			return 1

		end

	if @Administrador <> ''

		begin

			select * from Vista_Control_Administradores Where Administrador like '%' + @Administrador + '%' order by ID_Ingreso_Egreso desc;
			return 1

		end

	Else
		
		begin

			select * from Vista_Control_Administradores where Empresa like '%' + @Empresa + '%' order by ID_Ingreso_Egreso desc;
			Return 1

		end

	
End Try

Begin Catch

	return -6

End Catch


GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Control_Administradores_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Control_Administradores_Supervisor] (@Administrador nvarchar(10),@ID_Empresa int) as

Begin try

	if @Administrador = '' 

		begin

			select * from Vista_Control_Administradores where ID_Empresa = @ID_Empresa order by ID_Ingreso_Egreso desc;
			return 1

		end

	if @Administrador <> ''

		begin

			select * from Vista_Control_Administradores Where Administrador like '%' + @Administrador + '%' and ID_Empresa = @ID_Empresa order by ID_Ingreso_Egreso desc;
			return 1

		end

End Try

Begin Catch

	return -6

End Catch


GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Ejercicio_Pedido_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Ejercicio_Pedido_Administrador] (@Empresa nvarchar(20)) as

begin try

	select * from Tabla_De_Ejercicios_Personalizados_Pedidos Where Empresa = @Empresa
	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Ejercicio_Pedido_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Ejercicio_Pedido_Dios] as

begin try

	select * from Tabla_De_Ejercicios_Personalizados_Pedidos
	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Ejercicio_Pedido_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Ejercicio_Pedido_Supervisor] (@Empresa nvarchar(20)) as

begin try

	select * from Tabla_De_Ejercicios_Personalizados_Pedidos Where Empresa = @Empresa
	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Ejercicios_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Mostrar_Ejercicios_Administrador] (@Usuario nvarchar(20))as
begin try
	
	begin 
		select * from Vista_Mis_Ejercicios where Usuario = @Usuario
		return 1
	end
	
end try
begin catch
	return -6
end catch

GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Ejercicios_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Ejercicios_Dios] (@Dato nvarchar(20), @Opcion int)as
begin try
	if @Opcion = 1
		begin 
			select * from Vista_Mis_Ejercicios
			return 1
		end
	if @Opcion = 2
		begin
			select * from Vista_Mis_Ejercicios where Usuario like '%' + @Dato + '%'
			return 1
		end
	if @Opcion = 3
		begin
			select * from Vista_Mis_Ejercicios where Correo like '%' + @Dato + '%'
			return 1
		end
	if @Opcion = 4
		begin
			select * from Vista_Mis_Ejercicios where Empresa = @Dato
			return 1
		end
	
end try
begin catch
	return -6
end catch

GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Ejercicios_Por_Ficha_Completa]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Ejercicios_Por_Ficha_Completa] (@Profesor nvarchar(150),@Ano nvarchar(150),@Colegio nvarchar(150),@Materia nvarchar(150), @Tema nvarchar(150)) as

Begin Try -- mostrara solo los ejercicios buscados

	select ID_Ejercicio, Titulo, ID_Tipo_De_Ejercicio from Tabla_De_Ejercicios where ID_Ejercicio in (select ID_Ejercicio from Tabla_Busqueda_De_Ejercicios_Por_Etiquetas where contains (Etiqueta_Busqueda_Profesor,@Profesor) and contains (Etiqueta_Busqueda_Ano,@Ano) and contains (Etiqueta_Busqueda_Colegio,@Colegio) and contains (Etiqueta_Busqueda_Materia,@Materia) and contains (Etiqueta_Busqueda_Tema,@Tema)) order by ID_Ejercicio desc
	return 1

end Try

Begin Catch

	return -6

end Catch

GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Ejercicios_Por_Ficha_Suelta]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Mostrar_Ejercicios_Por_Ficha_Suelta] (@Profesor nvarchar(150),@Ano nvarchar(150),@Colegio nvarchar(150),@Materia nvarchar(150), @Tema nvarchar(150)) as

Begin Try -- mostrara solo los ejercicios buscados

	select ID_Ejercicio, Titulo, ID_Tipo_De_Ejercicio from Tabla_De_Ejercicios where ID_Ejercicio in (select ID_Ejercicio from Tabla_Busqueda_De_Ejercicios_Por_Etiquetas where contains (Etiqueta_Busqueda_Profesor,@Profesor) and contains (Etiqueta_Busqueda_Ano,@Ano) and contains (Etiqueta_Busqueda_Colegio,@Colegio) and contains (Etiqueta_Busqueda_Materia,@Materia) and contains (Etiqueta_Busqueda_Tema,@Tema)) order by ID_Ejercicio desc
	return 1

end Try

Begin Catch

	return -6

end Catch

GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Ejercicios_Por_Institucion]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Mostrar_Ejercicios_Por_Institucion](@Institucion int) as

begin try

	select ID_Ejercicio from Tabla_De_Ejercicios where ID_Tipo_De_Institucion = @Institucion
	return 1

end try

begin catch

	return -6

end Catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Ejercicios_Por_Palabras_Claves_Del_Enunciado]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Mostrar_Ejercicios_Por_Palabras_Claves_Del_Enunciado](@Var1 nvarchar(20),@Var2 nvarchar(20),@Var3 nvarchar(20),@Var4 nvarchar(20),@Var5 nvarchar(20),@Var6 nvarchar(20),@Var7 nvarchar(20),@Var8 nvarchar(20),@Var9 nvarchar(20),@Var10 nvarchar(20))as

Begin try
	
	if @var10 is not null
		begin
			if exists (select ID_Ejercicio from Tabla_MATH_De_Ejercicios where Contains (Enunciado_MATH,@Var1) and Contains (Enunciado_MATH,@Var2) and Contains (Enunciado_MATH,@Var3) and Contains (Enunciado_MATH,@Var4) and Contains (Enunciado_MATH,@Var5) and Contains (Enunciado_MATH,@Var6) and Contains (Enunciado_MATH,@Var7) and Contains (Enunciado_MATH,@Var8) and  Contains (Enunciado_MATH,@Var9) and Contains (Enunciado_MATH,@Var10))
				begin
					select ID_Ejercicio from Tabla_MATH_De_Ejercicios where Contains (Enunciado_MATH,@Var1) and Contains (Enunciado_MATH,@Var2) and Contains (Enunciado_MATH,@Var3) and Contains (Enunciado_MATH,@Var4) and Contains (Enunciado_MATH,@Var5) and Contains (Enunciado_MATH,@Var6) and Contains (Enunciado_MATH,@Var7) and Contains (Enunciado_MATH,@Var8) and  Contains (Enunciado_MATH,@Var9) and Contains (Enunciado_MATH,@Var10)
					return 1
				end
			end

	if @var9 is not null
		begin
			if exists (select ID_Ejercicio from Tabla_MATH_De_Ejercicios where Contains (Enunciado_MATH,@Var1) and Contains (Enunciado_MATH,@Var2) and Contains (Enunciado_MATH,@Var3) and Contains (Enunciado_MATH,@Var4) and Contains (Enunciado_MATH,@Var5) and Contains (Enunciado_MATH,@Var6) and Contains (Enunciado_MATH,@Var7) and Contains (Enunciado_MATH,@Var8) and  Contains (Enunciado_MATH,@Var9))
				begin
					select ID_Ejercicio from Tabla_MATH_De_Ejercicios where Contains (Enunciado_MATH,@Var1) and Contains (Enunciado_MATH,@Var2) and Contains (Enunciado_MATH,@Var3) and Contains (Enunciado_MATH,@Var4) and Contains (Enunciado_MATH,@Var5) and Contains (Enunciado_MATH,@Var6) and Contains (Enunciado_MATH,@Var7) and Contains (Enunciado_MATH,@Var8) and  Contains (Enunciado_MATH,@Var9)
					return 1
				end
		end

	if @var8 is not null
		begin
			if exists (select ID_Ejercicio from Tabla_MATH_De_Ejercicios where Contains (Enunciado_MATH,@Var1) and Contains (Enunciado_MATH,@Var2) and Contains (Enunciado_MATH,@Var3) and Contains (Enunciado_MATH,@Var4) and Contains (Enunciado_MATH,@Var5) and Contains (Enunciado_MATH,@Var6) and Contains (Enunciado_MATH,@Var7) and Contains (Enunciado_MATH,@Var8))
				begin
					select ID_Ejercicio from Tabla_MATH_De_Ejercicios where Contains (Enunciado_MATH,@Var1) and Contains (Enunciado_MATH,@Var2) and Contains (Enunciado_MATH,@Var3) and Contains (Enunciado_MATH,@Var4) and Contains (Enunciado_MATH,@Var5) and Contains (Enunciado_MATH,@Var6) and Contains (Enunciado_MATH,@Var7) and Contains (Enunciado_MATH,@Var8) 
					return 1
				end
			end

	if @var7 is not null
		begin
			if exists (select ID_Ejercicio from Tabla_MATH_De_Ejercicios where Contains (Enunciado_MATH,@Var1) and Contains (Enunciado_MATH,@Var2) and Contains (Enunciado_MATH,@Var3) and Contains (Enunciado_MATH,@Var4) and Contains (Enunciado_MATH,@Var5) and Contains (Enunciado_MATH,@Var6) and Contains (Enunciado_MATH,@Var7))
				begin
					select ID_Ejercicio from Tabla_MATH_De_Ejercicios where Contains (Enunciado_MATH,@Var1) and Contains (Enunciado_MATH,@Var2) and Contains (Enunciado_MATH,@Var3) and Contains (Enunciado_MATH,@Var4) and Contains (Enunciado_MATH,@Var5) and Contains (Enunciado_MATH,@Var6) and Contains (Enunciado_MATH,@Var7)  
					return 1
				end
		end

	if @var6 is not null
		begin
			if exists (select ID_Ejercicio from Tabla_MATH_De_Ejercicios where Contains (Enunciado_MATH,@Var1) and Contains (Enunciado_MATH,@Var2) and Contains (Enunciado_MATH,@Var3) and Contains (Enunciado_MATH,@Var4) and Contains (Enunciado_MATH,@Var5) and Contains (Enunciado_MATH,@Var6))
				begin
					select ID_Ejercicio from Tabla_MATH_De_Ejercicios where Contains (Enunciado_MATH,@Var1) and Contains (Enunciado_MATH,@Var2) and Contains (Enunciado_MATH,@Var3) and Contains (Enunciado_MATH,@Var4) and Contains (Enunciado_MATH,@Var5) and Contains (Enunciado_MATH,@Var6)  
					return 1
				end
		end

	if @var5 is not null
		begin
			if exists (select ID_Ejercicio from Tabla_MATH_De_Ejercicios where Contains (Enunciado_MATH,@Var1) and Contains (Enunciado_MATH,@Var2) and Contains (Enunciado_MATH,@Var3) and Contains (Enunciado_MATH,@Var4) and Contains (Enunciado_MATH,@Var5))
				begin
					select ID_Ejercicio from Tabla_MATH_De_Ejercicios where Contains (Enunciado_MATH,@Var1) and Contains (Enunciado_MATH,@Var2) and Contains (Enunciado_MATH,@Var3) and Contains (Enunciado_MATH,@Var4) and Contains (Enunciado_MATH,@Var5)  
					return 1
				end
		end

	if @var4 is not null
		begin
			if exists (select ID_Ejercicio from Tabla_MATH_De_Ejercicios where Contains (Enunciado_MATH,@Var1) and Contains (Enunciado_MATH,@Var2) and Contains (Enunciado_MATH,@Var3) and Contains (Enunciado_MATH,@Var4))
				begin
					select ID_Ejercicio from Tabla_MATH_De_Ejercicios where Contains (Enunciado_MATH,@Var1) and Contains (Enunciado_MATH,@Var2) and Contains (Enunciado_MATH,@Var3) and Contains (Enunciado_MATH,@Var4)   
					return 1
				end
			end

	if @var3 is not null
		begin
			if exists (select ID_Ejercicio from Tabla_MATH_De_Ejercicios where Contains (Enunciado_MATH,@Var1) and Contains (Enunciado_MATH,@Var2) and Contains (Enunciado_MATH,@Var3))
				begin
					select ID_Ejercicio from Tabla_MATH_De_Ejercicios where Contains (Enunciado_MATH,@Var1) and Contains (Enunciado_MATH,@Var2) and Contains (Enunciado_MATH,@Var3)   
					return 1
				end
		end

	if @var2 is not null
		begin
			if exists (select ID_Ejercicio from Tabla_MATH_De_Ejercicios where Contains (Enunciado_MATH,@Var1) and Contains (Enunciado_MATH,@Var2))
				begin
					select ID_Ejercicio from Tabla_MATH_De_Ejercicios where Contains (Enunciado_MATH,@Var1) and Contains (Enunciado_MATH,@Var2)   
					return 1
				end
		end

	if exists (select ID_Ejercicio from Tabla_MATH_De_Ejercicios where Contains (Enunciado_MATH,@Var1))
		begin
			select ID_Ejercicio from Tabla_MATH_De_Ejercicios where Contains (Enunciado_MATH,@Var1)  
			return 1
		end

end try
begin catch

	return -6

end Catch

GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Ejercicios_Por_Porcentaje_Del_Enunciado]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Ejercicios_Por_Porcentaje_Del_Enunciado](@Enunciado_1 nvarchar(150),@Enunciado_2 nvarchar(150)) as

Begin Try
	
	select ID_Ejercicio from Tabla_MATH_De_Ejercicios where contains (Enunciado_Limpio,@Enunciado_1) or contains (Enunciado_Limpio,@Enunciado_2) order by ID_Ejercicio desc
	return 1

end Try

Begin Catch

	return -6

end Catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Ejercicios_Por_Profundidad_Del_Enunciado]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE proc [dbo].[Mostrar_Ejercicios_Por_Profundidad_Del_Enunciado](@Enunciado nvarchar(Max)) as

Begin try

	select ID_Ejercicio from Tabla_MATH_De_Ejercicios where Enunciado_MATH Like @Enunciado + '%' order by ID_Ejercicio desc
	return 1

End try

Begin Catch

	return -6

End Catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Ejercicios_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE proc [dbo].[Mostrar_Ejercicios_Supervisor] (@Dato nvarchar(30), @Opcion int,@Empresa nvarchar(20))as
begin try
	if @Opcion = 1
		begin 
			select * from Vista_Mis_Ejercicios
			return 1
		end
	if @Opcion = 2
		begin
			select * from Vista_Mis_Ejercicios where Usuario like '%' + @Dato + '%' and Empresa = @Empresa
			return 1
		end
	if @Opcion = 3
		begin
			select * from Vista_Mis_Ejercicios where Correo like '%' + @Dato and Empresa = @Empresa
			return 1
		end
	
	
end try
begin catch
	return -6
end catch

GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Empresas_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Empresas_Dios] as

Begin Try

	begin

		select * from Vista_De_Empresas

		return 1

	end

End Try

Begin Catch

	return -6

End Catch


GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Explicacion_Pedida_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Explicacion_Pedida_Administrador] (@Empresa nvarchar(10)) as

begin try

	select * from Tabla_De_Explicaciones_Pedidas where Empresa = @Empresa

End try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Explicacion_Pedida_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Explicacion_Pedida_Dios]  as

begin try

	select * from Tabla_De_Explicaciones_Pedidas

End try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Explicacion_Pedida_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Explicacion_Pedida_Supervisor] (@Empresa nvarchar(10)) as

begin try

	select * from Tabla_De_Explicaciones_Pedidas where Empresa = @Empresa

End try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Movimiento_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Movimiento_Administrador] (@Usuario nvarchar(10), @Empresa nvarchar(20)) as

begin try
select *  from Vista_Movimientos_Usuarios where Usuario = @Usuario and Empresa = @Empresa
return 1
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Movimiento_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Movimiento_Dios] (@Dato nvarchar(30), @Opcion int) as
begin try
if @Opcion = 2
begin
select  * from Vista_Movimientos_Usuarios where Usuario like '%' + @Dato + '%' 
return
end

if @Opcion = 3
begin
select * from Vista_Movimientos_Usuarios where Fecha_Del_Movimiento = @Dato 
return
end

if @Opcion = 4
begin
select * from Vista_Movimientos_Usuarios where Empresa like '%' + @Dato + '%'
end

if @Opcion = 5
begin
select * from Vista_Movimientos_Usuarios where ID_Descripcion = @Dato
end

if @Opcion = 1
begin
select *  from Vista_Movimientos_Usuarios 
end
end try
begin catch
return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Movimiento_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Movimiento_Supervisor] (@Dato nvarchar(30), @Empresa nvarchar(20), @Opcion int) as
begin try
if @Opcion = 2
begin
select * from Vista_Movimientos_Usuarios where Usuario like '%' + @Dato + '%' and Empresa = @Empresa
return
end

if @Opcion = 3
begin
select * from Vista_Movimientos_Usuarios where Fecha_Del_Movimiento = @Dato and Empresa = @Empresa
return
end

if @Opcion = 4
begin
select * from Vista_Movimientos_Usuarios where ID_Descripcion = @Dato and Empresa = @Empresa
return
end

if @Opcion = 1
begin
select *  from Vista_Movimientos_Usuarios where Empresa = @Empresa
end
end try
begin catch
return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Precios_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Precios_Administrador](@ID_Empresa int) as

begin try
	
	select * from Tabla_De_Precios where ID_Empresa = @ID_Empresa
	return 1

end try

begin catch

	return -6

end catch 
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Precios_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Precios_Dios] as

begin try
	
	select * from Vista_De_Precios
	return 1

end try

begin catch

	return -6

end catch 
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Precios_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Precios_Supervisor](@ID_Empresa int) as

begin try
	
	select * from Tabla_De_Precios where ID_Empresa = @ID_Empresa
	return 1

end try

begin catch

	return -6

end catch 
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Tarjeta_Prepaga_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Mostrar_Tarjeta_Prepaga_Administrador](@Codigo int, @Empresa nvarchar(20)) as
Begin Try

		select ID_Tarjeta, Codigo, Credito,Fecha_De_Vencimiento,Activacion_De_La_Tarjeta from Vista_Tarjetas_Prepagas where Codigo = @Codigo and Empresa = @Empresa
		return 1

end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Tarjeta_Prepaga_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Tarjeta_Prepaga_Dios](@Dato nvarchar(20), @Opcion int) as
Begin try
if @Opcion = 4
	Begin
		select ID_Tarjeta, Codigo, Credito, Fecha_De_Vencimiento, Activacion_De_La_Tarjeta, Empresa from Vista_Tarjetas_Prepagas where Codigo = Convert(int,@Dato)
		return 1
	End
if @Opcion = 2
	Begin
		select ID_Tarjeta, Codigo, Credito, Fecha_De_Vencimiento, Activacion_De_La_Tarjeta, Empresa from Vista_Tarjetas_Prepagas where Fecha_De_Vencimiento <= Convert(date,@Dato)
		return 1
	End
if @Opcion = 3
	Begin
		select ID_Tarjeta, Codigo, Credito, Fecha_De_Vencimiento, Activacion_De_La_Tarjeta, Empresa from Vista_Tarjetas_Prepagas where Activacion_De_La_Tarjeta = Convert(bit,@Dato)
		return 1
	End

if @Opcion = 5
	begin
		select ID_Tarjeta, Codigo, Credito, Fecha_De_Vencimiento, Activacion_De_La_Tarjeta, Empresa from Vista_Tarjetas_Prepagas where Empresa = @Dato
		return 1
	end
if @Opcion = 1
begin
select ID_Tarjeta, Codigo, Credito, Fecha_De_Vencimiento, Activacion_De_La_Tarjeta, Empresa from Vista_Tarjetas_Prepagas 
return 1 
end

end try
begin catch
return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Tarjeta_Prepaga_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Tarjeta_Prepaga_Supervisor](@Dato nvarchar(12), @Empresa nvarchar(20), @Opcion int) as
Begin Try
if @Opcion = 4
	Begin
		
		select ID_Tarjeta,Codigo, Credito,Fecha_De_Vencimiento,Activacion_De_La_Tarjeta from Vista_Tarjetas_Prepagas where Codigo = Convert(int,@Dato) and Empresa = @Empresa
		return 1
	End
if @Opcion = 2
	Begin
		
		select ID_Tarjeta,Codigo, Credito,Fecha_De_Vencimiento,Activacion_De_La_Tarjeta from Vista_Tarjetas_Prepagas where Fecha_De_Vencimiento <= Convert(date,@Dato) and Empresa = @Empresa
		return 1
	End
if @Opcion = 3
	Begin
		
		select ID_Tarjeta, Codigo,Credito,Fecha_De_Vencimiento,Activacion_De_La_Tarjeta from Vista_Tarjetas_Prepagas where Activacion_De_La_Tarjeta = Convert(bit,@Dato) and Empresa = @Empresa
		return 1
	End

if @Opcion = 1
	begin
		select ID_Tarjeta, Codigo, Credito,Fecha_De_Vencimiento,Activacion_De_La_Tarjeta from Vista_Tarjetas_Prepagas where Empresa = @Empresa
		return 1
	end
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_URL_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_URL_Dios] as
begin try

	select * from Vista_URL_Cuenta_Digital 
	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Usuario_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Usuario_Administrador](@Dato nvarchar(30), @ID_Empresa int, @Opcion int) as
begin try
	if @Opcion = 1
		begin			
			return 1
		end
	if @Opcion = 2
		begin
			select ID_Usuario, Usuario, Correo, Numero_De_Celular, Usuario_De_Skype, Modelo_De_Celular, Credito_De_Usuario, Pedido_De_Prestamo, Activacion_De_Usuarios  from Vista_Usuario_Administradores where Usuario = @Dato and ID_Empresa = @ID_Empresa
			return 1
		end
	if @Opcion = 3
		begin
			select ID_Usuario, Usuario, Correo, Numero_De_Celular, Usuario_De_Skype, Modelo_De_Celular, Credito_De_Usuario, Pedido_De_Prestamo, Activacion_De_Usuarios  from Vista_Usuario_Administradores where Correo = @Dato and ID_Empresa = @ID_Empresa
			return 1
		end
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Usuario_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Mostrar_Usuario_Dios](@Dato nvarchar(30), @Opcion int) as

begin try

	if @Opcion = 2
		begin
			select * from Vista_Usuario_Administradores where Usuario like '%' + @Dato + '%'	
			return 1
		end
	if @Opcion = 3
		begin
			select *  from Vista_Usuario_Administradores where Correo like '%' + @Dato + '%'
			return 1
		end
	if @Opcion = 4
		begin
			select *  from Vista_Usuario_Administradores where Activacion_De_Usuarios = convert(bit,@Dato) 
			return 1
		end
	if @Opcion = 5
		begin
			select *  from Vista_Usuario_Administradores where Empresa = @Dato
			return 1
		end
	if @Opcion = 6
		begin
			select * from Vista_Usuario_Administradores where Fecha_De_Alta = convert(date,@Dato)
			return 1
		end
	if @Opcion = 1
		begin
			select * from Vista_Usuario_Administradores 
			return 1
		end

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Usuario_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Mostrar_Usuario_Supervisor](@Dato nvarchar(30), @ID_Empresa int, @Opcion int) as
begin try
	if @Opcion = 1
		begin		
			select ID_Usuario, Usuario, Correo, Numero_De_Celular, Usuario_De_Skype, Modelo_De_Celular, Credito_De_Usuario, Pedido_De_Prestamo, Activacion_De_Usuarios, Fecha_De_Alta, IP_Address  from Vista_Usuario_Administradores	
			return 1
		end
	if @Opcion = 2
		begin
			select ID_Usuario, Usuario, Correo, Numero_De_Celular, Usuario_De_Skype, Modelo_De_Celular, Credito_De_Usuario, Pedido_De_Prestamo, Activacion_De_Usuarios, Fecha_De_Alta, IP_Address  from Vista_Usuario_Administradores where Usuario Like '%' + @Dato + '%' and ID_Empresa = @ID_Empresa
			return 1
		end
	if @Opcion = 3
		begin
			select ID_Usuario, Usuario, Correo, Numero_De_Celular, Usuario_De_Skype, Modelo_De_Celular, Credito_De_Usuario, Pedido_De_Prestamo, Activacion_De_Usuarios, Fecha_De_Alta, IP_Address  from Vista_Usuario_Administradores where Correo Like '%' + @Dato + '%' and ID_Empresa = @ID_Empresa
			return 1
		end
	if @Opcion = 4
		begin
			select ID_Usuario, Usuario, Correo, Numero_De_Celular, Usuario_De_Skype, Modelo_De_Celular, Credito_De_Usuario, Pedido_De_Prestamo, Activacion_De_Usuarios, Fecha_De_Alta, IP_Address  from Vista_Usuario_Administradores where Activacion_De_Usuarios = convert(bit,@Dato) and ID_Empresa = @ID_Empresa
			return 1
		end
	if @Opcion = 5
		begin
			select ID_Usuario, Usuario, Correo, Numero_De_Celular, Usuario_De_Skype, Modelo_De_Celular, Credito_De_Usuario, Pedido_De_Prestamo, Activacion_De_Usuarios, Fecha_De_Alta, IP_Address  from Vista_Usuario_Administradores where Fecha_De_Alta = convert(datetime,@Dato) and ID_Empresa = @ID_Empresa
			return 1
		end
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Videos_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Mostrar_Videos_Administrador] (@Usuario nvarchar(20))as
begin try
	
	begin 
		select * from Vista_Mis_Explicaciones where Usuario = @Usuario
		return 1
	end
	
end try
begin catch
	return -6
end catch

GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Videos_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

CREATE proc [dbo].[Mostrar_Videos_Dios] (@Dato nvarchar(30), @Opcion int)as
begin try
	if @Opcion = 1
		begin 
			select * from Vista_Mis_Explicaciones
			return 1
		end
	if @Opcion = 2
		begin
			select * from Vista_Mis_Explicaciones where Usuario like '%' + @Dato + '%'
			return 1
		end
	if @Opcion = 3
		begin
			select * from Vista_Mis_Explicaciones where Correo like '%' + @Dato + '%'
			return 1
		end
	if @Opcion = 4
		begin
			select * from Vista_Mis_Explicaciones where Empresa = @Dato
			return 1
		end
	
end try
begin catch
	return -6
end catch

GO
/****** Object:  StoredProcedure [dbo].[Mostrar_Videos_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

create proc [dbo].[Mostrar_Videos_Supervisor] (@Dato nvarchar(30), @Opcion int,@Empresa nvarchar(20))as
begin try
	if @Opcion = 1
		begin 
			select * from Vista_Mis_Explicaciones
			return 1
		end
	if @Opcion = 2
		begin
			select * from Vista_Mis_Explicaciones where Usuario like '%' + @Dato + '%' and Empresa = @Empresa
			return 1
		end
	if @Opcion = 3
		begin
			select * from Vista_Mis_Explicaciones where Correo like '%' + @Dato and Empresa = @Empresa
			return 1
		end
	
	
end try
begin catch
	return -6
end catch

GO
/****** Object:  StoredProcedure [dbo].[Permisos_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
Create proc [dbo].[Permisos_Dios](@Administrador nvarchar(10))as

Begin Try
		
	if exists(Select ID_Administrador from Tabla_De_Administradores where Administrador = @Administrador)
		begin
			return 0
		end
	else
		begin	
			declare @ID_Administrador int		
			insert into Tabla_De_Administradores (Administrador,Password,ID_Empresa) Values (@Administrador,'L@rchum@',1) -- inserta todos los datos del administrador
			select @ID_Administrador = MAX(ID_Administrador) from Tabla_De_Administradores 
			insert into Tabla_De_Categorias (ID_Administrador,Categoria_A1,Categoria_A2,Categoria_A3,Categoria_B1,Categoria_B2,Categoria_B3,Categoria_C1,Categoria_D1,Categoria_D2,Categoria_E1,Categoria_E2,Categoria_E3,Categoria_F1,Categoria_F2,Categoria_F3,Categoria_G1,Categoria_G2,Categoria_G3) values (@ID_Administrador,10,10,10,10,10,10,11,10,10,10,10,10,10,10,10,10,10,10)

			return 1

		End

End Try

Begin Catch

	return -6
	
End Catch	


GO
/****** Object:  StoredProcedure [dbo].[Profesor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Profesor] (@Var1 nvarchar(30),@Var2 nvarchar(30),@Var3 nvarchar(30)) as

begin try

	Declare @Etiqueta_Profesor int

	select @Etiqueta_Profesor = Max(Etiqueta_Profesor) from Tabla_De_Profesores

	if @Etiqueta_Profesor is null 

		begin 
			set @Etiqueta_Profesor = 0
			
		end
				
	if not exists (select @Etiqueta_Profesor from Tabla_De_Profesores where Profesor = @Var1) 
		begin
			if (@var1 <> '')
				begin
					set @Etiqueta_Profesor = @Etiqueta_Profesor + 1
					insert into Tabla_De_Profesores(Profesor,Etiqueta_Profesor) values (@Var1,@Etiqueta_Profesor)
					
				end
		end
		
	if not exists (select Etiqueta_Profesor from Tabla_De_Profesores where Profesor = @Var2) 
		begin
			if (@var2 <> '')
				begin
					set @Etiqueta_Profesor = @Etiqueta_Profesor + 1
					insert into Tabla_De_Profesores(Profesor,Etiqueta_Profesor) values (@Var2,@Etiqueta_Profesor)
					
				end
		end
	
	if not exists (select Etiqueta_Profesor from Tabla_De_Profesores where Profesor = @Var3) 
		begin
			if (@var3 <> '')
				begin
					set @Etiqueta_Profesor = @Etiqueta_Profesor + 1
					insert into Tabla_De_Profesores (Profesor,Etiqueta_Profesor) values (@Var3,@Etiqueta_Profesor)
					
				end
		end
end try
begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Administradores_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Seleccionar_Administradores_Dios] (@ID_Administrador int) as

Begin Try
	
	select ID_Administrador,Administrador,Empresa,Password,Administrador_Bloqueado,IP_Address from Vista_Administradores where ID_Administrador = @ID_Administrador
	
End Try

Begin Catch
	
	return -6;

End Catch
GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Administradores_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Seleccionar_Administradores_Supervisor] (@ID_Administrador int) as
Begin Try
	Begin 
		
		select ID_Administrador,Administrador,Empresa,Password,Administrador_Bloqueado,IP_Address from Vista_Administradores where ID_Administrador = @ID_Administrador
		
	End
End Try
Begin Catch
	return -6;
End Catch
GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Carga_De_Credito_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Seleccionar_Carga_De_Credito_Supervisor](@Identificador int)as

begin try
	
	select ID_Usuario,Usuario,Correo,Credito_De_Usuario,Prestamo_Real_Al_Usuario from Vista_Credito_De_Usuario where ID_Usuario = @Identificador
	return 1

end try

begin catch

	return-6

end catch

GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Comentario_Administrador_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Seleccionar_Comentario_Administrador_Dios](@ID_Comentario int) as

Begin Try

	select ID_Comentario, Administrador, Comentario, Fecha_Comentario_Realizado  from Vista_Comentario_Administradores where ID_Comentario = @ID_Comentario

	return 1
			
End Try

Begin Catch

	return -6

End Catch

GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Comentario_Administrador_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Seleccionar_Comentario_Administrador_Supervisor](@ID_Comentario int) as

Begin Try

	select ID_Comentario, Administrador, Comentario, Fecha_Comentario_Realizado  from Vista_Comentario_Administradores where ID_Comentario = @ID_Comentario

	return 1
			
End Try

Begin Catch

	return -6

End Catch
GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Comentarios_De_Usuario_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Seleccionar_Comentarios_De_Usuario_Administrador](@Identidad int)  as

Begin try

	select Nombre,Correo,Comentario from Tabla_De_Comentario_De_Usuarios where ID_Comentario = @Identidad
	return 1
			
End Try

Begin Catch

	return -6

End Catch


GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Comentarios_De_Usuario_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Seleccionar_Comentarios_De_Usuario_Dios](@Identidad int)  as

Begin try

	select * from Vista_Comentario_Usuarios where ID_Comentario = @Identidad
	return 1
			
End Try

Begin Catch

	return -6

End Catch


GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Comentarios_De_Usuario_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Seleccionar_Comentarios_De_Usuario_Supervisor](@Identidad int)  as

Begin try

	select Nombre,Correo,Comentario from Tabla_De_Comentario_De_Usuarios where ID_Comentario = @Identidad
	return 1
			
End Try

Begin Catch

	return -6

End Catch


GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Consumo_Supervisores]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Seleccionar_Consumo_Supervisores] (@Identidad int) as
begin try

	select * from Vista_Consumo_Supervisores where ID_Consulta = @Identidad 
	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Control_Administrador_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Seleccionar_Control_Administrador_Dios] (@ID_Ingreso_Egreso int) as
Begin Try
	Begin 
		
		select Administrador,Fecha_De_Ingreso,Fecha_De_Egreso From Vista_Control_Administradores where ID_Ingreso_Egreso = @ID_Ingreso_Egreso
		
	End
End Try
Begin Catch
	return -6;
End Catch
GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Control_Administrador_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Seleccionar_Control_Administrador_Supervisor] (@ID_Ingreso_Egreso int) as
Begin Try
	Begin 
		
		select Administrador,Fecha_De_Ingreso,Fecha_De_Egreso From Vista_Control_Administradores where ID_Ingreso_Egreso = @ID_Ingreso_Egreso
		
	End
End Try
Begin Catch
	return -6;
End Catch
GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Ejercicio_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Seleccionar_Ejercicio_Dios] (@Identidad int)as
begin try
	
	select * from Vista_Mis_Ejercicios where ID_Compra = @Identidad
	return 1
	
	
end try
begin catch
	return -6
end catch

GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Ejercicio_Pedido_Administrador]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Seleccionar_Ejercicio_Pedido_Administrador] (@Identificador int) as

begin try

	select * from Tabla_De_Ejercicios_Personalizados_Pedidos Where ID_Pedido = @Identificador
	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Ejercicio_Pedido_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Seleccionar_Ejercicio_Pedido_Dios] (@Identificador int) as

begin try

	select * from Tabla_De_Ejercicios_Personalizados_Pedidos Where ID_Pedido = @Identificador
	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Ejercicio_Pedido_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Seleccionar_Ejercicio_Pedido_Supervisor] (@Identificador int) as

begin try

	select * from Tabla_De_Ejercicios_Personalizados_Pedidos Where ID_Pedido = @Identificador
	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Ejercicio_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Seleccionar_Ejercicio_Supervisor] (@Identidad int)as
begin try
	
	select * from Vista_Mis_Ejercicios where ID_Compra = @Identidad
	return 1
	
	
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Empresas_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Seleccionar_Empresas_Dios](@Identidad int)  as

Begin Try

	begin

		select * from Vista_De_Empresas where ID_Empresa = @Identidad

		return 1

	end

End Try

Begin Catch

	return -6

End Catch


GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Explicacion_Pedida_Administardor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Seleccionar_Explicacion_Pedida_Administardor] (@Identificador int) as

begin try

	select * from Tabla_De_Explicaciones_Pedidas where ID_Consulta = @Identificador

End try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Explicacion_Pedida_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Seleccionar_Explicacion_Pedida_Dios] (@Identificador int) as

begin try

	select * from Tabla_De_Explicaciones_Pedidas where ID_Consulta = @Identificador

End try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Explicacion_Pedida_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Seleccionar_Explicacion_Pedida_Supervisor] (@Identificador int) as

begin try

	select * from Tabla_De_Explicaciones_Pedidas where ID_Consulta = @Identificador

End try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Movimiento_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Seleccionar_Movimiento_Dios] (@ID_Movimiento int) as
begin try

select * from Vista_Movimientos_Usuarios where ID_Movimiento = @ID_Movimiento
return 1
end try
begin catch
return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Movimiento_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Seleccionar_Movimiento_Supervisor] (@ID_Movimiento int) as
begin try

select * from Vista_Movimientos_Usuarios where ID_Movimiento = @ID_Movimiento
return 1
end try
begin catch
return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Precios_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Seleccionar_Precios_Supervisor](@Identidad int) as

begin try
	
	select * from Tabla_De_Precios where ID_Empresa = @Identidad
	return 1

end try

begin catch

	return -6

end catch 
GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Tarjeta_Prepaga_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Seleccionar_Tarjeta_Prepaga_Dios](@ID_Tarjeta int) as
Begin try

	
		select ID_Tarjeta, Codigo, Credito, Fecha_De_Vencimiento, Activacion_De_La_Tarjeta, Empresa from Vista_Tarjetas_Prepagas where ID_Tarjeta = @ID_Tarjeta 
		return 1
	
end try
begin catch
return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Tarjeta_Prepaga_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Seleccionar_Tarjeta_Prepaga_Supervisor](@ID_Tarjeta int) as
Begin try

	
		select ID_Tarjeta, Codigo, Credito, Fecha_De_Vencimiento, Activacion_De_La_Tarjeta, Empresa from Vista_Tarjetas_Prepagas where ID_Tarjeta = @ID_Tarjeta 
		return 1
	
end try
begin catch
return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_URL_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Seleccionar_URL_Dios] (@Identidad int) as
begin try

	select * from Vista_URL_Cuenta_Digital where ID_Empresa = @Identidad 
	return 1

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Usuario_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Seleccionar_Usuario_Dios](@Identificador int) as

begin try

	select * from Vista_Usuario_Administradores where ID_Usuario = @Identificador 
	return 1	

end try

begin catch

	return -6

end catch
GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Usuario_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Seleccionar_Usuario_Supervisor](@Identificador int) as
begin try
	select ID_Usuario, Usuario, Correo, Numero_De_Celular, Usuario_De_Skype, Modelo_De_Celular, Credito_De_Usuario, Pedido_De_Prestamo, Activacion_De_Usuarios, Fecha_De_Alta, IP_Address  from Vista_Usuario_Administradores where ID_Usuario = @Identificador
	return 1
end try
begin catch
	return -6
end catch
GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Video_Dios]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Seleccionar_Video_Dios] (@Identidad int)as
begin try
	
	select * from Vista_Mis_Explicaciones where ID_Compra = @Identidad
	return 1
	
	
end try
begin catch
	return -6
end catch

GO
/****** Object:  StoredProcedure [dbo].[Seleccionar_Video_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
CREATE proc [dbo].[Seleccionar_Video_Supervisor] (@Identidad int)as
begin try
	
	select * from Vista_Mis_Explicaciones where ID_Compra = @Identidad
	return 1
	
	
end try
begin catch
	return -6
end catch

GO
/****** Object:  StoredProcedure [dbo].[Sinonimos_Temas]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Sinonimos_Temas] (@Var1 nvarchar(60),@Var2 nvarchar(60),@Var3 nvarchar(60)) as

begin try
	
	Declare @Etiqueta_Tema int

	select @Etiqueta_Tema = Etiqueta_Tema from Tabla_De_Temas where Tema = @Var1 or Tema = @Var2 or Tema = @Var3
	
	if @Etiqueta_Tema is null

		begin
		
			select @Etiqueta_Tema = max(Etiqueta_Tema) from Tabla_De_Temas
					
			if @Etiqueta_Tema is null 
			
			begin 

				set @Etiqueta_Tema = 0
				
			end
		
			set @Etiqueta_Tema = @Etiqueta_Tema + 1
			

		if (@Var1 <> '')
		
			begin
		
				insert into Tabla_De_Temas (Tema,Etiqueta_Tema) values (@Var1,@Etiqueta_Tema)
				
			
			end
		
		if (@Var2 <> '')
		
			begin
		
				insert into Tabla_De_Temas (Tema,Etiqueta_Tema) values (@Var2,@Etiqueta_Tema)
				

			end
		if (@Var3 <> '')
			begin
		
				insert into Tabla_De_Temas (Tema,Etiqueta_Tema) values (@Var3,@Etiqueta_Tema)
				
			end
	end	

else	

	begin
			if @Etiqueta_Tema is null 
				
				begin 
					set @Etiqueta_Tema = 1
					
				end
			if not exists (select Etiqueta_Tema from Tabla_De_Temas where Tema = @Var1) 
				
				begin
					if (@Var1 <> '')
						begin
							insert into Tabla_De_Temas(Tema,Etiqueta_Tema) values (@Var1,@Etiqueta_Tema)
						end
				end
			
			if not exists (select Etiqueta_Tema from Tabla_De_Temas where Tema = @Var2) 
		
				begin
					if (@Var2 <> '')
						begin
							insert into Tabla_De_Temas(Tema,Etiqueta_Tema) values (@Var2,@Etiqueta_Tema)
						end
				end
			if not exists (select Etiqueta_Tema from Tabla_De_Temas where Tema = @Var3) 
				begin
					if (@Var3 <> '')
						begin
							insert into Tabla_De_Temas (Tema,Etiqueta_Tema) values (@Var3,@Etiqueta_Tema)
						end
				end
		end
end try
begin catch

	return -6
end catch 
GO
/****** Object:  StoredProcedure [dbo].[Temas]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO
create proc [dbo].[Temas] (@Var1 nvarchar(20),@Var2 nvarchar(20),@Var3 nvarchar(20)) as

begin try

	Declare @Etiqueta_Tema int

	select @Etiqueta_Tema = Max(Etiqueta_Tema) from Tabla_De_Temas

	if @Etiqueta_Tema is null 

		begin 
			set @Etiqueta_Tema = 0
		end
			
	if not exists (select @Etiqueta_Tema from Tabla_De_Temas where Tema = @Var1) 
	
		begin
		
			if (@var1 <> '')
			
			begin
				
				set @Etiqueta_Tema = @Etiqueta_Tema + 1
				insert into Tabla_De_Temas(Tema,Etiqueta_Tema) values (@Var1,@Etiqueta_Tema)
		
			end
		end
			
		if not exists (select Etiqueta_Tema from Tabla_De_Temas where Tema = @Var2) 
				
			begin
					
				if (@var2 <> '')
		
					begin
						set @Etiqueta_Tema = @Etiqueta_Tema + 1
						insert into Tabla_De_Temas(Tema,Etiqueta_Tema) values (@Var2,@Etiqueta_Tema)
					end
			end
		
		if not exists (select Etiqueta_Tema from Tabla_De_Temas where Tema = @Var3) 
				
			begin
					
				if (@var3 <> '')
						
					begin
		
						set @Etiqueta_Tema = @Etiqueta_Tema + 1
						insert into Tabla_De_Temas (Tema,Etiqueta_Tema) values (@Var3,@Etiqueta_Tema)
					end
	end

end try

begin catch

	return -6
	
end catch	
GO
/****** Object:  StoredProcedure [dbo].[URL_Cuenta_Digital_Supervisor]    Script Date: 08/07/2015 20:12:12 ******/
SET ANSI_NULLS ON
GO
SET QUOTED_IDENTIFIER ON
GO

create proc [dbo].[URL_Cuenta_Digital_Supervisor](@ID_Empresa int,@URL nvarchar(100) output) as
begin try
	select @URL = URL from Tabla_URL_Cuenta_Digital where ID_Empresa = @ID_Empresa
	return 1
end try
begin catch
	return -6
end catch

GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Tabla_De_Empresas"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 102
               Right = 247
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Tabla_De_Administradores"
            Begin Extent = 
               Top = 6
               Left = 285
               Bottom = 136
               Right = 512
            End
            DisplayFlags = 280
            TopColumn = 2
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Administradores'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Administradores'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Tabla_De_Empresas"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 102
               Right = 247
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Tabla_De_Administradores"
            Begin Extent = 
               Top = 6
               Left = 285
               Bottom = 136
               Right = 512
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Tabla_De_Categorias"
            Begin Extent = 
               Top = 4
               Left = 541
               Bottom = 134
               Right = 750
            End
            DisplayFlags = 280
            TopColumn = 2
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Categoria'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Categoria'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Tabla_De_Comentario_De_Administradores"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 136
               Right = 281
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Tabla_De_Administradores"
            Begin Extent = 
               Top = 6
               Left = 319
               Bottom = 136
               Right = 546
            End
            DisplayFlags = 280
            TopColumn = 3
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Comentario_Administradores'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Comentario_Administradores'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Tabla_De_Comentario_De_Usuarios"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 136
               Right = 247
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Tabla_De_Empresas"
            Begin Extent = 
               Top = 6
               Left = 285
               Bottom = 102
               Right = 494
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Comentario_Usuarios'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Comentario_Usuarios'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[53] 4[9] 2[21] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Tabla_De_Empresas"
            Begin Extent = 
               Top = 54
               Left = 25
               Bottom = 150
               Right = 234
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Tabla_Consultas_Supervisores"
            Begin Extent = 
               Top = 6
               Left = 272
               Bottom = 136
               Right = 481
            End
            DisplayFlags = 280
            TopColumn = 1
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Consumo_Supervisores'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Consumo_Supervisores'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[54] 4[8] 2[21] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Tabla_De_Control_De_Administradores"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 136
               Right = 247
            End
            DisplayFlags = 280
            TopColumn = 1
         End
         Begin Table = "Tabla_De_Empresas"
            Begin Extent = 
               Top = 6
               Left = 285
               Bottom = 102
               Right = 494
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Tabla_De_Administradores"
            Begin Extent = 
               Top = 102
               Left = 285
               Bottom = 232
               Right = 512
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Control_Administradores'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Control_Administradores'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Tabla_De_Usuarios"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 136
               Right = 252
            End
            DisplayFlags = 280
            TopColumn = 2
         End
         Begin Table = "Tabla_De_Credito_De_Los_Usuarios"
            Begin Extent = 
               Top = 6
               Left = 290
               Bottom = 136
               Right = 517
            End
            DisplayFlags = 280
            TopColumn = 1
         End
         Begin Table = "Tabla_De_Empresas"
            Begin Extent = 
               Top = 134
               Left = 291
               Bottom = 230
               Right = 500
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Credito_De_Usuario'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Credito_De_Usuario'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Tabla_Consultas_Supervisores"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 136
               Right = 247
            End
            DisplayFlags = 280
            TopColumn = 1
         End
         Begin Table = "Tabla_De_Empresas"
            Begin Extent = 
               Top = 6
               Left = 285
               Bottom = 102
               Right = 494
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_De_Consultas_Supervisores'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_De_Consultas_Supervisores'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Tabla_Cantidad_De_Consultas_Para_Empresas"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 119
               Right = 294
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Tabla_De_Empresas"
            Begin Extent = 
               Top = 6
               Left = 332
               Bottom = 102
               Right = 541
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_De_Empresas'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_De_Empresas'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Tabla_De_Precios"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 136
               Right = 380
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Tabla_De_Empresas"
            Begin Extent = 
               Top = 6
               Left = 418
               Bottom = 102
               Right = 627
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_De_Precios'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_De_Precios'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Tabla_Mis_Ejercicios"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 136
               Right = 340
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Tabla_De_Usuarios"
            Begin Extent = 
               Top = 102
               Left = 378
               Bottom = 232
               Right = 592
            End
            DisplayFlags = 280
            TopColumn = 2
         End
         Begin Table = "Tabla_De_Empresas"
            Begin Extent = 
               Top = 6
               Left = 378
               Bottom = 102
               Right = 587
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Tabla_De_Ejercicios"
            Begin Extent = 
               Top = 138
               Left = 38
               Bottom = 268
               Right = 247
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Mis_Ejercicios'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Mis_Ejercicios'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[66] 4[9] 2[12] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Tabla_Mis_Explicaciones"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 150
               Right = 340
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Tabla_De_Usuarios"
            Begin Extent = 
               Top = 102
               Left = 378
               Bottom = 266
               Right = 592
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Tabla_De_Empresas"
            Begin Extent = 
               Top = 6
               Left = 378
               Bottom = 102
               Right = 587
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Tabla_De_Ejercicios"
            Begin Extent = 
               Top = 150
               Left = 38
               Bottom = 280
               Right = 247
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Mis_Explicaciones'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Mis_Explicaciones'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[53] 4[9] 2[21] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Tabla_De_Descripcion_De_Movimientos"
            Begin Extent = 
               Top = 13
               Left = 494
               Bottom = 109
               Right = 734
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Tabla_De_Movimientos"
            Begin Extent = 
               Top = 5
               Left = 249
               Bottom = 145
               Right = 461
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Tabla_De_Empresas"
            Begin Extent = 
               Top = 4
               Left = 16
               Bottom = 100
               Right = 225
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Tabla_De_Usuarios"
            Begin Extent = 
               Top = 150
               Left = 38
               Bottom = 280
               Right = 252
            End
            DisplayFlags = 280
            TopColumn = 2
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Movimientos_Usuarios'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Movimientos_Usuarios'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[51] 4[11] 2[21] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Tabla_De_Tarjetas_Prepagas"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 196
               Right = 260
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Tabla_De_Empresas"
            Begin Extent = 
               Top = 6
               Left = 298
               Bottom = 102
               Right = 507
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Tarjetas_Prepagas'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Tarjetas_Prepagas'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Tabla_De_Empresas"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 102
               Right = 247
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Tabla_URL_Cuenta_Digital"
            Begin Extent = 
               Top = 6
               Left = 285
               Bottom = 102
               Right = 494
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 1350
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_URL_Cuenta_Digital'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=1 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_URL_Cuenta_Digital'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane1', @value=N'[0E232FF0-B466-11cf-A24F-00AA00A3EFFF, 1.00]
Begin DesignProperties = 
   Begin PaneConfigurations = 
      Begin PaneConfiguration = 0
         NumPanes = 4
         Configuration = "(H (1[40] 4[20] 2[20] 3) )"
      End
      Begin PaneConfiguration = 1
         NumPanes = 3
         Configuration = "(H (1 [50] 4 [25] 3))"
      End
      Begin PaneConfiguration = 2
         NumPanes = 3
         Configuration = "(H (1 [50] 2 [25] 3))"
      End
      Begin PaneConfiguration = 3
         NumPanes = 3
         Configuration = "(H (4 [30] 2 [40] 3))"
      End
      Begin PaneConfiguration = 4
         NumPanes = 2
         Configuration = "(H (1 [56] 3))"
      End
      Begin PaneConfiguration = 5
         NumPanes = 2
         Configuration = "(H (2 [66] 3))"
      End
      Begin PaneConfiguration = 6
         NumPanes = 2
         Configuration = "(H (4 [50] 3))"
      End
      Begin PaneConfiguration = 7
         NumPanes = 1
         Configuration = "(V (3))"
      End
      Begin PaneConfiguration = 8
         NumPanes = 3
         Configuration = "(H (1[56] 4[18] 2) )"
      End
      Begin PaneConfiguration = 9
         NumPanes = 2
         Configuration = "(H (1 [75] 4))"
      End
      Begin PaneConfiguration = 10
         NumPanes = 2
         Configuration = "(H (1[66] 2) )"
      End
      Begin PaneConfiguration = 11
         NumPanes = 2
         Configuration = "(H (4 [60] 2))"
      End
      Begin PaneConfiguration = 12
         NumPanes = 1
         Configuration = "(H (1) )"
      End
      Begin PaneConfiguration = 13
         NumPanes = 1
         Configuration = "(V (4))"
      End
      Begin PaneConfiguration = 14
         NumPanes = 1
         Configuration = "(V (2))"
      End
      ActivePaneConfig = 0
   End
   Begin DiagramPane = 
      Begin Origin = 
         Top = 0
         Left = 0
      End
      Begin Tables = 
         Begin Table = "Tabla_De_Usuarios"
            Begin Extent = 
               Top = 6
               Left = 38
               Bottom = 136
               Right = 252
            End
            DisplayFlags = 280
            TopColumn = 2
         End
         Begin Table = "Tabla_Datos_De_Usuarios"
            Begin Extent = 
               Top = 122
               Left = 971
               Bottom = 252
               Right = 1180
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Tabla_Datos_Extra_De_Usuarios"
            Begin Extent = 
               Top = 196
               Left = 207
               Bottom = 309
               Right = 416
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Tabla_De_Empresas"
            Begin Extent = 
               Top = 191
               Left = 670
               Bottom = 287
               Right = 879
            End
            DisplayFlags = 280
            TopColumn = 0
         End
         Begin Table = "Tabla_De_Credito_De_Los_Usuarios"
            Begin Extent = 
               Top = 0
               Left = 729
               Bottom = 151
               Right = 956
            End
            DisplayFlags = 280
            TopColumn = 0
         End
      End
   End
   Begin SQLPane = 
   End
   Begin DataPane = 
      Begin ParameterDefaults = ""
      End
   End
   Begin CriteriaPane = 
      Begin ColumnWidths = 11
         Column = 1440
         Alias = 900
         Table = 1170
         Output = 720
         Append = 1400
         NewValue = 1170
         SortType = 1350
         SortOrder = 1410
         GroupBy = 13' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Usuario_Administradores'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPane2', @value=N'50
         Filter = 1350
         Or = 1350
         Or = 1350
         Or = 1350
      End
   End
End
' , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Usuario_Administradores'
GO
EXEC sys.sp_addextendedproperty @name=N'MS_DiagramPaneCount', @value=2 , @level0type=N'SCHEMA',@level0name=N'dbo', @level1type=N'VIEW',@level1name=N'Vista_Usuario_Administradores'
GO
USE [master]
GO
ALTER DATABASE [Supervisor] SET  READ_WRITE 
GO
